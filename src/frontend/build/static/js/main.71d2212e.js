/*! For license information please see main.71d2212e.js.LICENSE.txt */
(()=>{"use strict";var e={43:(e,t,r)=>{e.exports=r(202)},153:(e,t,r)=>{var n=r(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),o=Object.prototype.hasOwnProperty,i=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,r){var n,s={},c=null,u=null;for(n in void 0!==r&&(c=""+r),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)o.call(t,n)&&!l.hasOwnProperty(n)&&(s[n]=t[n]);if(e&&e.defaultProps)for(n in t=e.defaultProps)void 0===s[n]&&(s[n]=t[n]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:i.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{var r=Symbol.for("react.element"),n=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),o=Symbol.for("react.profiler"),i=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;var p={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},m=Object.assign,g={};function v(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}function y(){}function b(e,t,r){this.props=e,this.context=t,this.refs=g,this.updater=r||p}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var x=b.prototype=new y;x.constructor=b,m(x,v.prototype),x.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,k={current:null},_={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,n){var a,s={},o=null,i=null;if(null!=t)for(a in void 0!==t.ref&&(i=t.ref),void 0!==t.key&&(o=""+t.key),t)j.call(t,a)&&!_.hasOwnProperty(a)&&(s[a]=t[a]);var l=arguments.length-2;if(1===l)s.children=n;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in l=e.defaultProps)void 0===s[a]&&(s[a]=l[a]);return{$$typeof:r,type:e,key:o,ref:i,props:s,_owner:k.current}}function N(e){return"object"===typeof e&&null!==e&&e.$$typeof===r}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function P(e,t,a,s,o){var i=typeof e;"undefined"!==i&&"boolean"!==i||(e=null);var l=!1;if(null===e)l=!0;else switch(i){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case r:case n:l=!0}}if(l)return o=o(l=e),e=""===s?"."+C(l,0):s,w(o)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),P(o,t,a,"",(function(e){return e}))):null!=o&&(N(o)&&(o=function(e,t){return{$$typeof:r,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(o,a+(!o.key||l&&l.key===o.key?"":(""+o.key).replace(E,"$&/")+"/")+e)),t.push(o)),1;if(l=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+C(i=e[c],c);l+=P(i,t,a,u,o)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=f&&e[f]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(i=e.next()).done;)l+=P(i=i.value,t,a,u=s+C(i,c++),o);else if("object"===i)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function O(e,t,r){if(null==e)return e;var n=[],a=0;return P(e,n,"","",(function(e){return t.call(r,e,a++)})),n}function T(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var R={current:null},L={transition:null},A={ReactCurrentDispatcher:R,ReactCurrentBatchConfig:L,ReactCurrentOwner:k};function I(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,r){O(e,(function(){t.apply(this,arguments)}),r)},count:function(e){var t=0;return O(e,(function(){t++})),t},toArray:function(e){return O(e,(function(e){return e}))||[]},only:function(e){if(!N(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=a,t.Profiler=o,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=A,t.act=I,t.cloneElement=function(e,t,n){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=m({},e.props),s=e.key,o=e.ref,i=e._owner;if(null!=t){if(void 0!==t.ref&&(o=t.ref,i=k.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)j.call(t,c)&&!_.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=n;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];a.children=l}return{$$typeof:r,type:e.type,key:s,ref:o,props:a,_owner:i}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:i,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=N,t.lazy=function(e){return{$$typeof:h,_payload:{_status:-1,_result:e},_init:T}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=I,t.useCallback=function(e,t){return R.current.useCallback(e,t)},t.useContext=function(e){return R.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return R.current.useDeferredValue(e)},t.useEffect=function(e,t){return R.current.useEffect(e,t)},t.useId=function(){return R.current.useId()},t.useImperativeHandle=function(e,t,r){return R.current.useImperativeHandle(e,t,r)},t.useInsertionEffect=function(e,t){return R.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return R.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return R.current.useMemo(e,t)},t.useReducer=function(e,t,r){return R.current.useReducer(e,t,r)},t.useRef=function(e){return R.current.useRef(e)},t.useState=function(e){return R.current.useState(e)},t.useSyncExternalStore=function(e,t,r){return R.current.useSyncExternalStore(e,t,r)},t.useTransition=function(){return R.current.useTransition()},t.version="18.3.1"},210:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(829)),s=n(r(736)),o=r(745);class i{constructor(e){let{headers:t={},schema:r,fetch:n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=Object.assign(Object.assign({},o.DEFAULT_HEADERS),t),this.schemaName=r,this.fetch=n}from(e){const t=new URL("".concat(this.url,"/").concat(e));return new a.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new i(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e){let t,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{head:n=!1,get:a=!1,count:o}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const i=new URL("".concat(this.url,"/rpc/").concat(e));let l;n||a?(t=n?"HEAD":"GET",Object.entries(r).filter((e=>{let[t,r]=e;return void 0!==r})).map((e=>{let[t,r]=e;return[t,Array.isArray(r)?"{".concat(r.join(","),"}"):"".concat(r)]})).forEach((e=>{let[t,r]=e;i.searchParams.append(t,r)}))):(t="POST",l=r);const c=Object.assign({},this.headers);return o&&(c.Prefer="count=".concat(o)),new s.default({method:t,url:i,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}}t.default=i},219:(e,t,r)=>{var n=r(763),a={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},i={};function l(e){return n.isMemo(e)?o:i[e.$$typeof]||a}i[n.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},i[n.Memo]=o;var c=Object.defineProperty,u=Object.getOwnPropertyNames,d=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,p=Object.prototype;e.exports=function e(t,r,n){if("string"!==typeof r){if(p){var a=f(r);a&&a!==p&&e(t,a,n)}var o=u(r);d&&(o=o.concat(d(r)));for(var i=l(t),m=l(r),g=0;g<o.length;++g){var v=o[g];if(!s[v]&&(!n||!n[v])&&(!m||!m[v])&&(!i||!i[v])){var y=h(r,v);try{c(t,v,y)}catch(b){}}}}return t}},234:(e,t)=>{function r(e,t){var r=e.length;e.push(t);e:for(;0<r;){var n=r-1>>>1,a=e[n];if(!(0<s(a,t)))break e;e[n]=t,e[r]=a,r=n}}function n(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],r=e.pop();if(r!==t){e[0]=r;e:for(var n=0,a=e.length,o=a>>>1;n<o;){var i=2*(n+1)-1,l=e[i],c=i+1,u=e[c];if(0>s(l,r))c<a&&0>s(u,l)?(e[n]=u,e[c]=r,n=c):(e[n]=l,e[i]=r,n=i);else{if(!(c<a&&0>s(u,r)))break e;e[n]=u,e[c]=r,n=c}}}return t}function s(e,t){var r=e.sortIndex-t.sortIndex;return 0!==r?r:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var o=performance;t.unstable_now=function(){return o.now()}}else{var i=Date,l=i.now();t.unstable_now=function(){return i.now()-l}}var c=[],u=[],d=1,h=null,f=3,p=!1,m=!1,g=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function x(e){for(var t=n(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,r(c,t)}t=n(u)}}function w(e){if(g=!1,x(e),!m)if(null!==n(c))m=!0,L(j);else{var t=n(u);null!==t&&A(w,t.startTime-e)}}function j(e,r){m=!1,g&&(g=!1,y(N),N=-1),p=!0;var s=f;try{for(x(r),h=n(c);null!==h&&(!(h.expirationTime>r)||e&&!P());){var o=h.callback;if("function"===typeof o){h.callback=null,f=h.priorityLevel;var i=o(h.expirationTime<=r);r=t.unstable_now(),"function"===typeof i?h.callback=i:h===n(c)&&a(c),x(r)}else a(c);h=n(c)}if(null!==h)var l=!0;else{var d=n(u);null!==d&&A(w,d.startTime-r),l=!1}return l}finally{h=null,f=s,p=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var k,_=!1,S=null,N=-1,E=5,C=-1;function P(){return!(t.unstable_now()-C<E)}function O(){if(null!==S){var e=t.unstable_now();C=e;var r=!0;try{r=S(!0,e)}finally{r?k():(_=!1,S=null)}}else _=!1}if("function"===typeof b)k=function(){b(O)};else if("undefined"!==typeof MessageChannel){var T=new MessageChannel,R=T.port2;T.port1.onmessage=O,k=function(){R.postMessage(null)}}else k=function(){v(O,0)};function L(e){S=e,_||(_=!0,k())}function A(e,r){N=v((function(){e(t.unstable_now())}),r)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,L(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(e){switch(f){case 1:case 2:case 3:var t=3;break;default:t=f}var r=f;f=t;try{return e()}finally{f=r}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var r=f;f=e;try{return t()}finally{f=r}},t.unstable_scheduleCallback=function(e,a,s){var o=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?o+s:o:s=o,e){case 1:var i=-1;break;case 2:i=250;break;case 5:i=1073741823;break;case 4:i=1e4;break;default:i=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:i=s+i,sortIndex:-1},s>o?(e.sortIndex=s,r(u,e),null===n(c)&&e===n(u)&&(g?(y(N),N=-1):g=!0,A(w,s-o))):(e.sortIndex=i,r(c,e),m||p||(m=!0,L(j))),e},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(e){var t=f;return function(){var r=f;f=t;try{return e.apply(this,arguments)}finally{f=r}}}},286:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(630)),s=n(r(611));t.default=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:"undefined"===typeof fetch?this.fetch=a.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){void 0===this.schema||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),"GET"!==this.method&&"HEAD"!==this.method&&(this.headers["Content-Type"]="application/json");let r=(0,this.fetch)(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then((async e=>{var t,r,n;let a=null,o=null,i=null,l=e.status,c=e.statusText;if(e.ok){if("HEAD"!==this.method){const t=await e.text();""===t||(o="text/csv"===this.headers.Accept||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?t:JSON.parse(t))}const n=null===(t=this.headers.Prefer)||void 0===t?void 0:t.match(/count=(exact|planned|estimated)/),s=null===(r=e.headers.get("content-range"))||void 0===r?void 0:r.split("/");n&&s&&s.length>1&&(i=parseInt(s[1])),this.isMaybeSingle&&"GET"===this.method&&Array.isArray(o)&&(o.length>1?(a={code:"PGRST116",details:"Results contain ".concat(o.length," rows, application/vnd.pgrst.object+json requires 1 row"),hint:null,message:"JSON object requested, multiple (or no) rows returned"},o=null,i=null,l=406,c="Not Acceptable"):o=1===o.length?o[0]:null)}else{const t=await e.text();try{a=JSON.parse(t),Array.isArray(a)&&404===e.status&&(o=[],a=null,l=200,c="OK")}catch(u){404===e.status&&""===t?(l=204,c="No Content"):a={message:t}}if(a&&this.isMaybeSingle&&(null===(n=null===a||void 0===a?void 0:a.details)||void 0===n?void 0:n.includes("0 rows"))&&(a=null,l=200,c="OK"),a&&this.shouldThrowOnError)throw new s.default(a)}return{error:a,data:o,count:i,status:l,statusText:c}}));return this.shouldThrowOnError||(r=r.catch((e=>{var t,r,n;return{error:{message:"".concat(null!==(t=null===e||void 0===e?void 0:e.name)&&void 0!==t?t:"FetchError",": ").concat(null===e||void 0===e?void 0:e.message),details:"".concat(null!==(r=null===e||void 0===e?void 0:e.stack)&&void 0!==r?r:""),hint:"",code:"".concat(null!==(n=null===e||void 0===e?void 0:e.code)&&void 0!==n?n:"")},data:null,count:null,status:0,statusText:""}}))),r.then(e,t)}returns(){return this}overrideTypes(){return this}}},330:(e,t,r)=>{var n=r(43);var a="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},s=n.useState,o=n.useEffect,i=n.useLayoutEffect,l=n.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!a(e,r)}catch(n){return!0}}var u="undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement?function(e,t){return t()}:function(e,t){var r=t(),n=s({inst:{value:r,getSnapshot:t}}),a=n[0].inst,u=n[1];return i((function(){a.value=r,a.getSnapshot=t,c(a)&&u({inst:a})}),[e,r,t]),o((function(){return c(a)&&u({inst:a}),e((function(){c(a)&&u({inst:a})}))}),[e]),l(r),r};t.useSyncExternalStore=void 0!==n.useSyncExternalStore?n.useSyncExternalStore:u},358:(e,t)=>{var r,n=Symbol.for("react.element"),a=Symbol.for("react.portal"),s=Symbol.for("react.fragment"),o=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),c=Symbol.for("react.context"),u=Symbol.for("react.server_context"),d=Symbol.for("react.forward_ref"),h=Symbol.for("react.suspense"),f=Symbol.for("react.suspense_list"),p=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.offscreen");function v(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case s:case i:case o:case h:case f:return e;default:switch(e=e&&e.$$typeof){case u:case c:case d:case m:case p:case l:return e;default:return t}}case a:return t}}}r=Symbol.for("react.module.reference")},374:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(286));class s extends a.default{select(e){let t=!1;const r=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!t?"":('"'===e&&(t=!t),e))).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e){let{ascending:t=!0,nullsFirst:r,foreignTable:n,referencedTable:a=n}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const s=a?"".concat(a,".order"):"order",o=this.url.searchParams.get(s);return this.url.searchParams.set(s,"".concat(o?"".concat(o,","):"").concat(e,".").concat(t?"asc":"desc").concat(void 0===r?"":r?".nullsfirst":".nullslast")),this}limit(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n="undefined"===typeof r?"limit":"".concat(r,".limit");return this.url.searchParams.set(n,"".concat(e)),this}range(e,t){let{foreignTable:r,referencedTable:n=r}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a="undefined"===typeof n?"offset":"".concat(n,".offset"),s="undefined"===typeof n?"limit":"".concat(n,".limit");return this.url.searchParams.set(a,"".concat(e)),this.url.searchParams.set(s,"".concat(t-e+1)),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return"GET"===this.method?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain(){let{analyze:e=!1,verbose:t=!1,settings:r=!1,buffers:n=!1,wal:a=!1,format:s="text"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};var o;const i=[e?"analyze":null,t?"verbose":null,r?"settings":null,n?"buffers":null,a?"wal":null].filter(Boolean).join("|"),l=null!==(o=this.headers.Accept)&&void 0!==o?o:"application/json";return this.headers.Accept="application/vnd.pgrst.plan+".concat(s,'; for="').concat(l,'"; options=').concat(i,";"),this}rollback(){var e;return(null!==(e=this.headers.Prefer)&&void 0!==e?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}}t.default=s},391:(e,t,r)=>{var n=r(950);t.createRoot=n.createRoot,t.hydrateRoot=n.hydrateRoot},400:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.version=void 0,t.version="0.0.0-automated"},443:(e,t,r)=>{e.exports=r(717)},461:(e,t,r)=>{e.exports=r(330)},579:(e,t,r)=>{e.exports=r(153)},611:(e,t)=>{Object.defineProperty(t,"__esModule",{value:!0});class r extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}}t.default=r},630:(e,t,r)=>{r.r(t),r.d(t,{Headers:()=>o,Request:()=>i,Response:()=>l,default:()=>s,fetch:()=>a});var n=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof r.g)return r.g;throw new Error("unable to locate global object")}();const a=n.fetch,s=n.fetch.bind(n),o=n.Headers,i=n.Request,l=n.Response},706:(e,t,r)=>{r(358)},717:(e,t,r)=>{var n=r(43),a=r(461);var s="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t},o=a.useSyncExternalStore,i=n.useRef,l=n.useEffect,c=n.useMemo,u=n.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,r,n,a){var d=i(null);if(null===d.current){var h={hasValue:!1,value:null};d.current=h}else h=d.current;d=c((function(){function e(e){if(!l){if(l=!0,o=e,e=n(e),void 0!==a&&h.hasValue){var t=h.value;if(a(t,e))return i=t}return i=e}if(t=i,s(o,e))return t;var r=n(e);return void 0!==a&&a(t,r)?(o=e,t):(o=e,i=r)}var o,i,l=!1,c=void 0===r?null:r;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]}),[t,r,n,a]);var f=o(e,d[0],d[1]);return l((function(){h.hasValue=!0,h.value=f}),[f]),u(f),f}},730:(e,t,r)=>{var n=r(43),a=r(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,r=1;r<arguments.length;r++)t+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=new Set,i={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(i[e]=t,e=0;e<t.length;e++)o.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function m(e,t,r,n,a,s,o){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=n,this.attributeNamespace=a,this.mustUseProperty=r,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=o}var g={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){g[e]=new m(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];g[t]=new m(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){g[e]=new m(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){g[e]=new m(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){g[e]=new m(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){g[e]=new m(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){g[e]=new m(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){g[e]=new m(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){g[e]=new m(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,r,n){var a=g.hasOwnProperty(t)?g[t]:null;(null!==a?0!==a.type:n||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,r,n){if(null===t||"undefined"===typeof t||function(e,t,r,n){if(null!==r&&0===r.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!n&&(null!==r?!r.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,r,n))return!0;if(n)return!1;if(null!==r)switch(r.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,r,a,n)&&(r=null),n||null===a?function(e){return!!d.call(p,e)||!d.call(f,e)&&(h.test(e)?p[e]=!0:(f[e]=!0,!1))}(t)&&(null===r?e.removeAttribute(t):e.setAttribute(t,""+r)):a.mustUseProperty?e[a.propertyName]=null===r?3!==a.type&&"":r:(t=a.attributeName,n=a.attributeNamespace,null===r?e.removeAttribute(t):(r=3===(a=a.type)||4===a&&!0===r?"":""+r,n?e.setAttributeNS(n,t,r):e.setAttribute(t,r))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);g[t]=new m(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!1,!1)})),g.xlinkHref=new m("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){g[e]=new m(e,1,!1,e.toLowerCase(),null,!0,!0)}));var x=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),_=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),N=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),T=Symbol.for("react.memo"),R=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var A=Symbol.iterator;function I(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=A&&e[A]||e["@@iterator"])?e:null}var U,D=Object.assign;function z(e){if(void 0===U)try{throw Error()}catch(dt){var t=dt.stack.trim().match(/\n( *(at )?)/);U=t&&t[1]||""}return"\n"+U+e}var M=!1;function F(e,t){if(!e||M)return"";M=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(mt){var n=mt}Reflect.construct(e,[],t)}else{try{t.call()}catch(mt){n=mt}e.call(t.prototype)}else{try{throw Error()}catch(mt){n=mt}e()}}catch(mt){if(mt&&n&&"string"===typeof mt.stack){for(var a=mt.stack.split("\n"),s=n.stack.split("\n"),o=a.length-1,i=s.length-1;1<=o&&0<=i&&a[o]!==s[i];)i--;for(;1<=o&&0<=i;o--,i--)if(a[o]!==s[i]){if(1!==o||1!==i)do{if(o--,0>--i||a[o]!==s[i]){var l="\n"+a[o].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=o&&0<=i);break}}}finally{M=!1,Error.prepareStackTrace=r}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=F(e.type,!1);case 11:return e=F(e.type.render,!1);case 1:return e=F(e.type,!0);default:return""}}function q(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case k:return"Fragment";case j:return"Portal";case S:return"Profiler";case _:return"StrictMode";case P:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case N:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case T:return null!==(t=e.displayName||null)?t:q(e.type)||"Memo";case R:t=e._payload,e=e._init;try{return q(e(t))}catch(dt){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return q(t);case 8:return t===_?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function V(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function H(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function $(e){e._valueTracker||(e._valueTracker=function(e){var t=H(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),n=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof r&&"function"===typeof r.get&&"function"===typeof r.set){var a=r.get,s=r.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){n=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(e){n=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var r=t.getValue(),n="";return e&&(n=H(e)?e.checked?"true":"false":e.value),(e=n)!==r&&(t.setValue(e),!0)}function J(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(bt){return e.body}}function G(e,t){var r=t.checked;return D({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=r?r:e._wrapperState.initialChecked})}function Q(e,t){var r=null==t.defaultValue?"":t.defaultValue,n=null!=t.checked?t.checked:t.defaultChecked;r=V(null!=t.value?t.value:r),e._wrapperState={initialChecked:n,initialValue:r,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function X(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function Y(e,t){X(e,t);var r=V(t.value),n=t.type;if(null!=r)"number"===n?(0===r&&""===e.value||e.value!=r)&&(e.value=""+r):e.value!==""+r&&(e.value=""+r);else if("submit"===n||"reset"===n)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,r):t.hasOwnProperty("defaultValue")&&ee(e,t.type,V(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,r){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var n=t.type;if(!("submit"!==n&&"reset"!==n||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,r||t===e.value||(e.value=t),e.defaultValue=t}""!==(r=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==r&&(e.name=r)}function ee(e,t,r){"number"===t&&J(e.ownerDocument)===e||(null==r?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+r&&(e.defaultValue=""+r))}var te=Array.isArray;function re(e,t,r,n){if(e=e.options,t){t={};for(var a=0;a<r.length;a++)t["$"+r[a]]=!0;for(r=0;r<e.length;r++)a=t.hasOwnProperty("$"+e[r].value),e[r].selected!==a&&(e[r].selected=a),a&&n&&(e[r].defaultSelected=!0)}else{for(r=""+V(r),t=null,a=0;a<e.length;a++){if(e[a].value===r)return e[a].selected=!0,void(n&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function ne(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return D({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var r=t.value;if(null==r){if(r=t.children,t=t.defaultValue,null!=r){if(null!=t)throw Error(s(92));if(te(r)){if(1<r.length)throw Error(s(93));r=r[0]}t=r}null==t&&(t=""),r=t}e._wrapperState={initialValue:V(r)}}function se(e,t){var r=V(t.value),n=V(t.defaultValue);null!=r&&((r=""+r)!==e.value&&(e.value=r),null==t.defaultValue&&e.defaultValue!==r&&(e.defaultValue=r)),null!=n&&(e.defaultValue=""+n)}function oe(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function ie(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?ie(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue=function(e){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(t,r,n,a){MSApp.execUnsafeLocalFunction((function(){return e(t,r)}))}:e}((function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}}));function de(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&3===r.nodeType)return void(r.nodeValue=t)}e.textContent=t}var he={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function pe(e,t,r){return null==t||"boolean"===typeof t||""===t?"":r||"number"!==typeof t||0===t||he.hasOwnProperty(e)&&he[e]?(""+t).trim():t+"px"}function me(e,t){for(var r in e=e.style,t)if(t.hasOwnProperty(r)){var n=0===r.indexOf("--"),a=pe(r,t[r],n);"float"===r&&(r="cssFloat"),n?e.setProperty(r,a):e[r]=a}}Object.keys(he).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),he[t]=he[e]}))}));var ge=D({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function xe(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var we=null,je=null,ke=null;function _e(e){if(e=Oa(e)){if("function"!==typeof we)throw Error(s(280));var t=e.stateNode;t&&(t=Ra(t),we(e.stateNode,e.type,t))}}function Se(e){je?ke?ke.push(e):ke=[e]:je=e}function Ne(){if(je){var e=je,t=ke;if(ke=je=null,_e(e),t)for(e=0;e<t.length;e++)_e(t[e])}}function Ee(e,t){return e(t)}function Ce(){}var Pe=!1;function Oe(e,t,r){if(Pe)return e(t,r);Pe=!0;try{return Ee(e,t,r)}finally{Pe=!1,(null!==je||null!==ke)&&(Ce(),Ne())}}function Te(e,t){var r=e.stateNode;if(null===r)return null;var n=Ra(r);if(null===n)return null;r=n[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(n=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!n;break e;default:e=!1}if(e)return null;if(r&&"function"!==typeof r)throw Error(s(231,t,typeof r));return r}var Re=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Re=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ct){Re=!1}function Ae(e,t,r,n,a,s,o,i,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(r,c)}catch(xt){this.onError(xt)}}var Ie=!1,Ue=null,De=!1,ze=null,Me={onError:function(e){Ie=!0,Ue=e}};function Fe(e,t,r,n,a,s,o,i,l){Ie=!1,Ue=null,Ae.apply(Me,arguments)}function Be(e){var t=e,r=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(r=t.return),e=t.return}while(e)}return 3===t.tag?r:null}function qe(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function We(e){if(Be(e)!==e)throw Error(s(188))}function Ve(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Be(e)))throw Error(s(188));return t!==e?null:e}for(var r=e,n=t;;){var a=r.return;if(null===a)break;var o=a.alternate;if(null===o){if(null!==(n=a.return)){r=n;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===r)return We(a),e;if(o===n)return We(a),t;o=o.sibling}throw Error(s(188))}if(r.return!==n.return)r=a,n=o;else{for(var i=!1,l=a.child;l;){if(l===r){i=!0,r=a,n=o;break}if(l===n){i=!0,n=a,r=o;break}l=l.sibling}if(!i){for(l=o.child;l;){if(l===r){i=!0,r=o,n=a;break}if(l===n){i=!0,n=o,r=a;break}l=l.sibling}if(!i)throw Error(s(189))}}if(r.alternate!==n)throw Error(s(190))}if(3!==r.tag)throw Error(s(188));return r.stateNode.current===r?e:t}(e),null!==e?He(e):null}function He(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=He(e);if(null!==t)return t;e=e.sibling}return null}var $e=a.unstable_scheduleCallback,Ke=a.unstable_cancelCallback,Je=a.unstable_shouldYield,Ge=a.unstable_requestPaint,Qe=a.unstable_now,Xe=a.unstable_getCurrentPriorityLevel,Ye=a.unstable_ImmediatePriority,Ze=a.unstable_UserBlockingPriority,et=a.unstable_NormalPriority,tt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,nt=null,ot=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ht|0)|0},lt=Math.log,ht=Math.LN2;var ft=64,pt=4194304;function yt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function wt(e,t){var r=e.pendingLanes;if(0===r)return 0;var n=0,a=e.suspendedLanes,s=e.pingedLanes,o=268435455&r;if(0!==o){var i=o&~a;0!==i?n=yt(i):0!==(s&=o)&&(n=yt(s))}else 0!==(o=r&~a)?n=yt(o):0!==s&&(n=yt(s));if(0===n)return 0;if(0!==t&&t!==n&&0===(t&a)&&((a=n&-n)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&n)&&(n|=16&r),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=n;0<t;)a=1<<(r=31-it(t)),n|=e[r],t&=~a;return n}function jt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function kt(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function _t(){var e=ft;return 0===(4194240&(ft<<=1))&&(ft=64),e}function St(e){for(var t=[],r=0;31>r;r++)t.push(e);return t}function Nt(e,t,r){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=r}function Et(e,t){var r=e.entangledLanes|=t;for(e=e.entanglements;r;){var n=31-it(r),a=1<<n;a&t|e[n]&t&&(e[n]|=t),r&=~a}}var Ct=0;function Pt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var Ot,Tt,Rt,At,It,Ut=!1,Dt=[],Mt=null,Ft=null,Bt=null,qt=new Map,Wt=new Map,Vt=[],Ht="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function $t(e,t){switch(e){case"focusin":case"focusout":Mt=null;break;case"dragenter":case"dragleave":Ft=null;break;case"mouseover":case"mouseout":Bt=null;break;case"pointerover":case"pointerout":qt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wt.delete(t.pointerId)}}function Kt(e,t,r,n,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=Oa(t))&&Tt(t)),e):(e.eventSystemFlags|=n,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function Jt(e){var t=Pa(e.target);if(null!==t){var r=Be(t);if(null!==r)if(13===(t=r.tag)){if(null!==(t=qe(r)))return e.blockedOn=t,void It(e.priority,(function(){Rt(r)}))}else if(3===t&&r.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===r.tag?r.stateNode.containerInfo:null)}e.blockedOn=null}function Gt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var r=or(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==r)return null!==(t=Oa(r))&&Tt(t),e.blockedOn=r,!1;var n=new(r=e.nativeEvent).constructor(r.type,r);be=n,r.target.dispatchEvent(n),be=null,t.shift()}return!0}function Qt(e,t,r){Gt(e)&&r.delete(t)}function Xt(){Ut=!1,null!==Mt&&Gt(Mt)&&(Mt=null),null!==Ft&&Gt(Ft)&&(Ft=null),null!==Bt&&Gt(Bt)&&(Bt=null),qt.forEach(Qt),Wt.forEach(Qt)}function Yt(e,t){e.blockedOn===t&&(e.blockedOn=null,Ut||(Ut=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Xt)))}function Zt(e){function t(t){return Yt(t,e)}if(0<Dt.length){Yt(Dt[0],e);for(var r=1;r<Dt.length;r++){var n=Dt[r];n.blockedOn===e&&(n.blockedOn=null)}}for(null!==Mt&&Yt(Mt,e),null!==Ft&&Yt(Ft,e),null!==Bt&&Yt(Bt,e),qt.forEach(t),Wt.forEach(t),r=0;r<Vt.length;r++)(n=Vt[r]).blockedOn===e&&(n.blockedOn=null);for(;0<Vt.length&&null===(r=Vt[0]).blockedOn;)Jt(r),null===r.blockedOn&&Vt.shift()}var er=x.ReactCurrentBatchConfig,tr=!0;function rr(e,t,r,n){var a=Ct,s=er.transition;er.transition=null;try{Ct=1,ar(e,t,r,n)}finally{Ct=a,er.transition=s}}function nr(e,t,r,n){var a=Ct,s=er.transition;er.transition=null;try{Ct=4,ar(e,t,r,n)}finally{Ct=a,er.transition=s}}function ar(e,t,r,n){if(tr){var a=or(e,t,r,n);if(null===a)ta(e,t,n,sr,r),$t(e,n);else if(function(e,t,r,n,a){switch(t){case"focusin":return Mt=Kt(Mt,e,t,r,n,a),!0;case"dragenter":return Ft=Kt(Ft,e,t,r,n,a),!0;case"mouseover":return Bt=Kt(Bt,e,t,r,n,a),!0;case"pointerover":var s=a.pointerId;return qt.set(s,Kt(qt.get(s)||null,e,t,r,n,a)),!0;case"gotpointercapture":return s=a.pointerId,Wt.set(s,Kt(Wt.get(s)||null,e,t,r,n,a)),!0}return!1}(a,e,t,r,n))n.stopPropagation();else if($t(e,n),4&t&&-1<Ht.indexOf(e)){for(;null!==a;){var s=Oa(a);if(null!==s&&Ot(s),null===(s=or(e,t,r,n))&&ta(e,t,n,sr,r),s===a)break;a=s}null!==a&&n.stopPropagation()}else ta(e,t,n,null,r)}}var sr=null;function or(e,t,r,n){if(sr=null,null!==(e=Pa(e=xe(n))))if(null===(t=Be(e)))e=null;else if(13===(r=t.tag)){if(null!==(e=qe(t)))return e;e=null}else if(3===r){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return sr=e,null}function ir(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Xe()){case Ye:return 1;case Ze:return 4;case et:case tt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var lr=null,cr=null,ur=null;function dr(){if(ur)return ur;var e,t,r=cr,n=r.length,a="value"in lr?lr.value:lr.textContent,s=a.length;for(e=0;e<n&&r[e]===a[e];e++);var o=n-e;for(t=1;t<=o&&r[n-t]===a[s-t];t++);return ur=a.slice(e,1<t?1-t:void 0)}function hr(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function fr(){return!0}function pr(){return!1}function mr(e){function t(t,r,n,a,s){for(var o in this._reactName=t,this._targetInst=n,this.type=r,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(o)&&(t=e[o],this[o]=t?t(a):a[o]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?fr:pr,this.isPropagationStopped=pr,this}return D(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=fr)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=fr)},persist:function(){},isPersistent:fr}),t}var gr,vr,yr,br={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},xr=mr(br),wr=D({},br,{view:0,detail:0}),jr=mr(wr),kr=D({},wr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ir,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==yr&&(yr&&"mousemove"===e.type?(gr=e.screenX-yr.screenX,vr=e.screenY-yr.screenY):vr=gr=0,yr=e),gr)},movementY:function(e){return"movementY"in e?e.movementY:vr}}),_r=mr(kr),Sr=mr(D({},kr,{dataTransfer:0})),Nr=mr(D({},wr,{relatedTarget:0})),Er=mr(D({},br,{animationName:0,elapsedTime:0,pseudoElement:0})),Cr=D({},br,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Pr=mr(Cr),Or=mr(D({},br,{data:0})),Tr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Rr={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Lr={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Ar(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Lr[e])&&!!t[e]}function Ir(){return Ar}var Ur=D({},wr,{key:function(e){if(e.key){var t=Tr[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=hr(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Rr[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ir,charCode:function(e){return"keypress"===e.type?hr(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?hr(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Dr=mr(Ur),zr=mr(D({},kr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Mr=mr(D({},wr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ir})),Fr=mr(D({},br,{propertyName:0,elapsedTime:0,pseudoElement:0})),Br=D({},kr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),qr=mr(Br),Wr=[9,13,27,32],Vr=u&&"CompositionEvent"in window,Hr=null;u&&"documentMode"in document&&(Hr=document.documentMode);var $r=u&&"TextEvent"in window&&!Hr,Kr=u&&(!Vr||Hr&&8<Hr&&11>=Hr),Jr=String.fromCharCode(32),Gr=!1;function Qr(e,t){switch(e){case"keyup":return-1!==Wr.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Xr(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Yr=!1;var Zr={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function en(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Zr[e.type]:"textarea"===t}function tn(e,t,r,n){Se(n),0<(t=na(t,"onChange")).length&&(r=new xr("onChange","change",null,r,n),e.push({event:r,listeners:t}))}var rn=null,nn=null;function an(e){Gn(e,0)}function sn(e){if(K(Ta(e)))return e}function on(e,t){if("change"===e)return t}var ln=!1;if(u){var cn;if(u){var un="oninput"in document;if(!un){var dn=document.createElement("div");dn.setAttribute("oninput","return;"),un="function"===typeof dn.oninput}cn=un}else cn=!1;ln=cn&&(!document.documentMode||9<document.documentMode)}function hn(){rn&&(rn.detachEvent("onpropertychange",fn),nn=rn=null)}function fn(e){if("value"===e.propertyName&&sn(nn)){var t=[];tn(t,nn,e,xe(e)),Oe(an,t)}}function pn(e,t,r){"focusin"===e?(hn(),nn=r,(rn=t).attachEvent("onpropertychange",fn)):"focusout"===e&&hn()}function mn(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return sn(nn)}function gn(e,t){if("click"===e)return sn(t)}function vn(e,t){if("input"===e||"change"===e)return sn(t)}var yn="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function bn(e,t){if(yn(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var r=Object.keys(e),n=Object.keys(t);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var a=r[n];if(!d.call(t,a)||!yn(e[a],t[a]))return!1}return!0}function xn(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function wn(e,t){var r,n=xn(e);for(e=0;n;){if(3===n.nodeType){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=xn(n)}}function jn(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?jn(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function kn(){for(var e=window,t=J();t instanceof e.HTMLIFrameElement;){try{var r="string"===typeof t.contentWindow.location.href}catch(gt){r=!1}if(!r)break;t=J((e=t.contentWindow).document)}return t}function _n(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function Sn(e){var t=kn(),r=e.focusedElem,n=e.selectionRange;if(t!==r&&r&&r.ownerDocument&&jn(r.ownerDocument.documentElement,r)){if(null!==n&&_n(r))if(t=n.start,void 0===(e=n.end)&&(e=t),"selectionStart"in r)r.selectionStart=t,r.selectionEnd=Math.min(e,r.value.length);else if((e=(t=r.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=r.textContent.length,s=Math.min(n.start,a);n=void 0===n.end?s:Math.min(n.end,a),!e.extend&&s>n&&(a=n,n=s,s=a),a=wn(r,s);var o=wn(r,n);a&&o&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==o.node||e.focusOffset!==o.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>n?(e.addRange(t),e.extend(o.node,o.offset)):(t.setEnd(o.node,o.offset),e.addRange(t)))}for(t=[],e=r;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof r.focus&&r.focus(),r=0;r<t.length;r++)(e=t[r]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Nn=u&&"documentMode"in document&&11>=document.documentMode,En=null,Cn=null,Pn=null,On=!1;function Tn(e,t,r){var n=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;On||null==En||En!==J(n)||("selectionStart"in(n=En)&&_n(n)?n={start:n.selectionStart,end:n.selectionEnd}:n={anchorNode:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset},Pn&&bn(Pn,n)||(Pn=n,0<(n=na(Cn,"onSelect")).length&&(t=new xr("onSelect","select",null,t,r),e.push({event:t,listeners:n}),t.target=En)))}function Rn(e,t){var r={};return r[e.toLowerCase()]=t.toLowerCase(),r["Webkit"+e]="webkit"+t,r["Moz"+e]="moz"+t,r}var Ln={animationend:Rn("Animation","AnimationEnd"),animationiteration:Rn("Animation","AnimationIteration"),animationstart:Rn("Animation","AnimationStart"),transitionend:Rn("Transition","TransitionEnd")},An={},In={};function Un(e){if(An[e])return An[e];if(!Ln[e])return e;var t,r=Ln[e];for(t in r)if(r.hasOwnProperty(t)&&t in In)return An[e]=r[t];return e}u&&(In=document.createElement("div").style,"AnimationEvent"in window||(delete Ln.animationend.animation,delete Ln.animationiteration.animation,delete Ln.animationstart.animation),"TransitionEvent"in window||delete Ln.transitionend.transition);var Dn=Un("animationend"),zn=Un("animationiteration"),Mn=Un("animationstart"),Fn=Un("transitionend"),Bn=new Map,qn="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Wn(e,t){Bn.set(e,t),l(t,[e])}for(var Vn=0;Vn<qn.length;Vn++){var Hn=qn[Vn];Wn(Hn.toLowerCase(),"on"+(Hn[0].toUpperCase()+Hn.slice(1)))}Wn(Dn,"onAnimationEnd"),Wn(zn,"onAnimationIteration"),Wn(Mn,"onAnimationStart"),Wn("dblclick","onDoubleClick"),Wn("focusin","onFocus"),Wn("focusout","onBlur"),Wn(Fn,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var $n="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Kn=new Set("cancel close invalid load scroll toggle".split(" ").concat($n));function Jn(e,t,r){var n=e.type||"unknown-event";e.currentTarget=r,function(e,t,r,n,a,o,i,l,c){if(Fe.apply(this,arguments),Ie){if(!Ie)throw Error(s(198));var u=Ue;Ie=!1,Ue=null,De||(De=!0,ze=u)}}(n,t,void 0,e),e.currentTarget=null}function Gn(e,t){t=0!==(4&t);for(var r=0;r<e.length;r++){var n=e[r],a=n.event;n=n.listeners;e:{var s=void 0;if(t)for(var o=n.length-1;0<=o;o--){var i=n[o],l=i.instance,c=i.currentTarget;if(i=i.listener,l!==s&&a.isPropagationStopped())break e;Jn(a,i,c),s=l}else for(o=0;o<n.length;o++){if(l=(i=n[o]).instance,c=i.currentTarget,i=i.listener,l!==s&&a.isPropagationStopped())break e;Jn(a,i,c),s=l}}}if(De)throw e=ze,De=!1,ze=null,e}function Qn(e,t){var r=t[Na];void 0===r&&(r=t[Na]=new Set);var n=e+"__bubble";r.has(n)||(ea(t,e,2,!1),r.add(n))}function Xn(e,t,r){var n=0;t&&(n|=4),ea(r,e,n,t)}var Yn="_reactListening"+Math.random().toString(36).slice(2);function Zn(e){if(!e[Yn]){e[Yn]=!0,o.forEach((function(t){"selectionchange"!==t&&(Kn.has(t)||Xn(t,!1,e),Xn(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Yn]||(t[Yn]=!0,Xn("selectionchange",!1,t))}}function ea(e,t,r,n){switch(ir(t)){case 1:var a=rr;break;case 4:a=nr;break;default:a=ar}r=a.bind(null,t,r,e),a=void 0,!Re||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),n?void 0!==a?e.addEventListener(t,r,{capture:!0,passive:a}):e.addEventListener(t,r,!0):void 0!==a?e.addEventListener(t,r,{passive:a}):e.addEventListener(t,r,!1)}function ta(e,t,r,n,a){var s=n;if(0===(1&t)&&0===(2&t)&&null!==n)e:for(;;){if(null===n)return;var o=n.tag;if(3===o||4===o){var i=n.stateNode.containerInfo;if(i===a||8===i.nodeType&&i.parentNode===a)break;if(4===o)for(o=n.return;null!==o;){var l=o.tag;if((3===l||4===l)&&((l=o.stateNode.containerInfo)===a||8===l.nodeType&&l.parentNode===a))return;o=o.return}for(;null!==i;){if(null===(o=Pa(i)))return;if(5===(l=o.tag)||6===l){n=s=o;continue e}i=i.parentNode}}n=n.return}Oe((function(){var n=s,a=xe(r),o=[];e:{var i=Bn.get(e);if(void 0!==i){var l=xr,c=e;switch(e){case"keypress":if(0===hr(r))break e;case"keydown":case"keyup":l=Dr;break;case"focusin":c="focus",l=Nr;break;case"focusout":c="blur",l=Nr;break;case"beforeblur":case"afterblur":l=Nr;break;case"click":if(2===r.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=_r;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=Sr;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=Mr;break;case Dn:case zn:case Mn:l=Er;break;case Fn:l=Fr;break;case"scroll":l=jr;break;case"wheel":l=qr;break;case"copy":case"cut":case"paste":l=Pr;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=zr}var u=0!==(4&t),d=!u&&"scroll"===e,h=u?null!==i?i+"Capture":null:i;u=[];for(var f,p=n;null!==p;){var m=(f=p).stateNode;if(5===f.tag&&null!==m&&(f=m,null!==h&&(null!=(m=Te(p,h))&&u.push(ra(p,m,f)))),d)break;p=p.return}0<u.length&&(i=new l(i,c,null,r,a),o.push({event:i,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(i="mouseover"===e||"pointerover"===e)||r===be||!(c=r.relatedTarget||r.fromElement)||!Pa(c)&&!c[Sa])&&(l||i)&&(i=a.window===a?a:(i=a.ownerDocument)?i.defaultView||i.parentWindow:window,l?(l=n,null!==(c=(c=r.relatedTarget||r.toElement)?Pa(c):null)&&(c!==(d=Be(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=n),l!==c)){if(u=_r,m="onMouseLeave",h="onMouseEnter",p="mouse","pointerout"!==e&&"pointerover"!==e||(u=zr,m="onPointerLeave",h="onPointerEnter",p="pointer"),d=null==l?i:Ta(l),f=null==c?i:Ta(c),(i=new u(m,p+"leave",l,r,a)).target=d,i.relatedTarget=f,m=null,Pa(a)===n&&((u=new u(h,p+"enter",c,r,a)).target=f,u.relatedTarget=d,m=u),d=m,l&&c)e:{for(h=c,p=0,f=u=l;f;f=aa(f))p++;for(f=0,m=h;m;m=aa(m))f++;for(;0<p-f;)u=aa(u),p--;for(;0<f-p;)h=aa(h),f--;for(;p--;){if(u===h||null!==h&&u===h.alternate)break e;u=aa(u),h=aa(h)}u=null}else u=null;null!==l&&sa(o,i,l,u,!1),null!==c&&null!==d&&sa(o,d,c,u,!0)}if("select"===(l=(i=n?Ta(n):window).nodeName&&i.nodeName.toLowerCase())||"input"===l&&"file"===i.type)var g=on;else if(en(i))if(ln)g=vn;else{g=mn;var v=pn}else(l=i.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(g=gn);switch(g&&(g=g(e,n))?tn(o,g,r,a):(v&&v(e,i,n),"focusout"===e&&(v=i._wrapperState)&&v.controlled&&"number"===i.type&&ee(i,"number",i.value)),v=n?Ta(n):window,e){case"focusin":(en(v)||"true"===v.contentEditable)&&(En=v,Cn=n,Pn=null);break;case"focusout":Pn=Cn=En=null;break;case"mousedown":On=!0;break;case"contextmenu":case"mouseup":case"dragend":On=!1,Tn(o,r,a);break;case"selectionchange":if(Nn)break;case"keydown":case"keyup":Tn(o,r,a)}var y;if(Vr)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Yr?Qr(e,r)&&(b="onCompositionEnd"):"keydown"===e&&229===r.keyCode&&(b="onCompositionStart");b&&(Kr&&"ko"!==r.locale&&(Yr||"onCompositionStart"!==b?"onCompositionEnd"===b&&Yr&&(y=dr()):(cr="value"in(lr=a)?lr.value:lr.textContent,Yr=!0)),0<(v=na(n,b)).length&&(b=new Or(b,e,null,r,a),o.push({event:b,listeners:v}),y?b.data=y:null!==(y=Xr(r))&&(b.data=y))),(y=$r?function(e,t){switch(e){case"compositionend":return Xr(t);case"keypress":return 32!==t.which?null:(Gr=!0,Jr);case"textInput":return(e=t.data)===Jr&&Gr?null:e;default:return null}}(e,r):function(e,t){if(Yr)return"compositionend"===e||!Vr&&Qr(e,t)?(e=dr(),ur=cr=lr=null,Yr=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Kr&&"ko"!==t.locale?null:t.data}}(e,r))&&(0<(n=na(n,"onBeforeInput")).length&&(a=new Or("onBeforeInput","beforeinput",null,r,a),o.push({event:a,listeners:n}),a.data=y))}Gn(o,t)}))}function ra(e,t,r){return{instance:e,listener:t,currentTarget:r}}function na(e,t){for(var r=t+"Capture",n=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Te(e,r))&&n.unshift(ra(e,s,a)),null!=(s=Te(e,t))&&n.push(ra(e,s,a))),e=e.return}return n}function aa(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function sa(e,t,r,n,a){for(var s=t._reactName,o=[];null!==r&&r!==n;){var i=r,l=i.alternate,c=i.stateNode;if(null!==l&&l===n)break;5===i.tag&&null!==c&&(i=c,a?null!=(l=Te(r,s))&&o.unshift(ra(r,l,i)):a||null!=(l=Te(r,s))&&o.push(ra(r,l,i))),r=r.return}0!==o.length&&e.push({event:t,listeners:o})}var oa=/\r\n?/g,ia=/\u0000|\uFFFD/g;function la(e){return("string"===typeof e?e:""+e).replace(oa,"\n").replace(ia,"")}function ca(e,t,r){if(t=la(t),la(e)!==t&&r)throw Error(s(425))}function ua(){}var da=null,ha=null;function fa(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var pa="function"===typeof setTimeout?setTimeout:void 0,ma="function"===typeof clearTimeout?clearTimeout:void 0,ga="function"===typeof Promise?Promise:void 0,va="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof ga?function(e){return ga.resolve(null).then(e).catch(ya)}:pa;function ya(e){setTimeout((function(){throw e}))}function ba(e,t){var r=t,n=0;do{var a=r.nextSibling;if(e.removeChild(r),a&&8===a.nodeType)if("/$"===(r=a.data)){if(0===n)return e.removeChild(a),void Zt(t);n--}else"$"!==r&&"$?"!==r&&"$!"!==r||n++;r=a}while(r);Zt(t)}function xa(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function wa(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var r=e.data;if("$"===r||"$!"===r||"$?"===r){if(0===t)return e;t--}else"/$"===r&&t++}e=e.previousSibling}return null}var ja=Math.random().toString(36).slice(2),ka="__reactFiber$"+ja,_a="__reactProps$"+ja,Sa="__reactContainer$"+ja,Na="__reactEvents$"+ja,Ea="__reactListeners$"+ja,Ca="__reactHandles$"+ja;function Pa(e){var t=e[ka];if(t)return t;for(var r=e.parentNode;r;){if(t=r[Sa]||r[ka]){if(r=t.alternate,null!==t.child||null!==r&&null!==r.child)for(e=wa(e);null!==e;){if(r=e[ka])return r;e=wa(e)}return t}r=(e=r).parentNode}return null}function Oa(e){return!(e=e[ka]||e[Sa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function Ta(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function Ra(e){return e[_a]||null}var La=[],Aa=-1;function Ia(e){return{current:e}}function Ua(e){0>Aa||(e.current=La[Aa],La[Aa]=null,Aa--)}function Da(e,t){Aa++,La[Aa]=e.current,e.current=t}var za={},Ma=Ia(za),Fa=Ia(!1),Ba=za;function qa(e,t){var r=e.type.contextTypes;if(!r)return za;var n=e.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===t)return n.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in r)s[a]=t[a];return n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Wa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Va(){Ua(Fa),Ua(Ma)}function Ha(e,t,r){if(Ma.current!==za)throw Error(s(168));Da(Ma,t),Da(Fa,r)}function $a(e,t,r){var n=e.stateNode;if(t=t.childContextTypes,"function"!==typeof n.getChildContext)return r;for(var a in n=n.getChildContext())if(!(a in t))throw Error(s(108,W(e)||"Unknown",a));return D({},r,n)}function Ka(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||za,Ba=Ma.current,Da(Ma,e),Da(Fa,Fa.current),!0}function Ja(e,t,r){var n=e.stateNode;if(!n)throw Error(s(169));r?(e=$a(e,t,Ba),n.__reactInternalMemoizedMergedChildContext=e,Ua(Fa),Ua(Ma),Da(Ma,e)):Ua(Fa),Da(Fa,r)}var Ga=null,Qa=!1,Xa=!1;function Ya(e){null===Ga?Ga=[e]:Ga.push(e)}function Za(){if(!Xa&&null!==Ga){Xa=!0;var e=0,t=Ct;try{var r=Ga;for(Ct=1;e<r.length;e++){var n=r[e];do{n=n(!0)}while(null!==n)}Ga=null,Qa=!1}catch(a){throw null!==Ga&&(Ga=Ga.slice(e+1)),$e(Ye,Za),a}finally{Ct=t,Xa=!1}}return null}var es=[],ts=0,rs=null,ns=0,as=[],ss=0,os=null,is=1,ls="";function cs(e,t){es[ts++]=ns,es[ts++]=rs,rs=e,ns=t}function us(e,t,r){as[ss++]=is,as[ss++]=ls,as[ss++]=os,os=e;var n=is;e=ls;var a=32-it(n)-1;n&=~(1<<a),r+=1;var s=32-it(t)+a;if(30<s){var o=a-a%5;s=(n&(1<<o)-1).toString(32),n>>=o,a-=o,is=1<<32-it(t)+a|r<<a|n,ls=s+e}else is=1<<s|r<<a|n,ls=e}function ds(e){null!==e.return&&(cs(e,1),us(e,1,0))}function hs(e){for(;e===rs;)rs=es[--ts],es[ts]=null,ns=es[--ts],es[ts]=null;for(;e===os;)os=as[--ss],as[ss]=null,ls=as[--ss],as[ss]=null,is=as[--ss],as[ss]=null}var fs=null,ps=null,ms=!1,gs=null;function vs(e,t){var r=qc(5,null,null,0);r.elementType="DELETED",r.stateNode=t,r.return=e,null===(t=e.deletions)?(e.deletions=[r],e.flags|=16):t.push(r)}function ys(e,t){switch(e.tag){case 5:var r=e.type;return null!==(t=1!==t.nodeType||r.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,fs=e,ps=xa(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,fs=e,ps=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(r=null!==os?{id:is,overflow:ls}:null,e.memoizedState={dehydrated:t,treeContext:r,retryLane:1073741824},(r=qc(18,null,null,0)).stateNode=t,r.return=e,e.child=r,fs=e,ps=null,!0);default:return!1}}function bs(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function xs(e){if(ms){var t=ps;if(t){var r=t;if(!ys(e,t)){if(bs(e))throw Error(s(418));t=xa(r.nextSibling);var n=fs;t&&ys(e,t)?vs(n,r):(e.flags=-4097&e.flags|2,ms=!1,fs=e)}}else{if(bs(e))throw Error(s(418));e.flags=-4097&e.flags|2,ms=!1,fs=e}}}function ws(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;fs=e}function js(e){if(e!==fs)return!1;if(!ms)return ws(e),ms=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!fa(e.type,e.memoizedProps)),t&&(t=ps)){if(bs(e))throw ks(),Error(s(418));for(;t;)vs(e,t),t=xa(t.nextSibling)}if(ws(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var r=e.data;if("/$"===r){if(0===t){ps=xa(e.nextSibling);break e}t--}else"$"!==r&&"$!"!==r&&"$?"!==r||t++}e=e.nextSibling}ps=null}}else ps=fs?xa(e.stateNode.nextSibling):null;return!0}function ks(){for(var e=ps;e;)e=xa(e.nextSibling)}function _s(){ps=fs=null,ms=!1}function Ss(e){null===gs?gs=[e]:gs.push(e)}var Ns=x.ReactCurrentBatchConfig;function Es(e,t,r){if(null!==(e=r.ref)&&"function"!==typeof e&&"object"!==typeof e){if(r._owner){if(r=r._owner){if(1!==r.tag)throw Error(s(309));var n=r.stateNode}if(!n)throw Error(s(147,e));var a=n,o=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===o?t.ref:(t=function(e){var t=a.refs;null===e?delete t[o]:t[o]=e},t._stringRef=o,t)}if("string"!==typeof e)throw Error(s(284));if(!r._owner)throw Error(s(290,e))}return e}function Cs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Ps(e){return(0,e._init)(e._payload)}function Os(e){function t(t,r){if(e){var n=t.deletions;null===n?(t.deletions=[r],t.flags|=16):n.push(r)}}function r(r,n){if(!e)return null;for(;null!==n;)t(r,n),n=n.sibling;return null}function n(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Vc(e,t)).index=0,e.sibling=null,e}function o(t,r,n){return t.index=n,e?null!==(n=t.alternate)?(n=n.index)<r?(t.flags|=2,r):n:(t.flags|=2,r):(t.flags|=1048576,r)}function i(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,r,n){return null===t||6!==t.tag?((t=Jc(r,e.mode,n)).return=e,t):((t=a(t,r)).return=e,t)}function c(e,t,r,n){var s=r.type;return s===k?d(e,t,r.props.children,n,r.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===R&&Ps(s)===t.type)?((n=a(t,r.props)).ref=Es(e,t,r),n.return=e,n):((n=Hc(r.type,r.key,r.props,null,e.mode,n)).ref=Es(e,t,r),n.return=e,n)}function u(e,t,r,n){return null===t||4!==t.tag||t.stateNode.containerInfo!==r.containerInfo||t.stateNode.implementation!==r.implementation?((t=Gc(r,e.mode,n)).return=e,t):((t=a(t,r.children||[])).return=e,t)}function d(e,t,r,n,s){return null===t||7!==t.tag?((t=$c(r,e.mode,n,s)).return=e,t):((t=a(t,r)).return=e,t)}function h(e,t,r){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Jc(""+t,e.mode,r)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(r=Hc(t.type,t.key,t.props,null,e.mode,r)).ref=Es(e,null,t),r.return=e,r;case j:return(t=Gc(t,e.mode,r)).return=e,t;case R:return h(e,(0,t._init)(t._payload),r)}if(te(t)||I(t))return(t=$c(t,e.mode,r,null)).return=e,t;Cs(e,t)}return null}function f(e,t,r,n){var a=null!==t?t.key:null;if("string"===typeof r&&""!==r||"number"===typeof r)return null!==a?null:l(e,t,""+r,n);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return r.key===a?c(e,t,r,n):null;case j:return r.key===a?u(e,t,r,n):null;case R:return f(e,t,(a=r._init)(r._payload),n)}if(te(r)||I(r))return null!==a?null:d(e,t,r,n,null);Cs(e,r)}return null}function p(e,t,r,n,a){if("string"===typeof n&&""!==n||"number"===typeof n)return l(t,e=e.get(r)||null,""+n,a);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return c(t,e=e.get(null===n.key?r:n.key)||null,n,a);case j:return u(t,e=e.get(null===n.key?r:n.key)||null,n,a);case R:return p(e,t,r,(0,n._init)(n._payload),a)}if(te(n)||I(n))return d(t,e=e.get(r)||null,n,a,null);Cs(t,n)}return null}function m(a,s,i,l){for(var c=null,u=null,d=s,m=s=0,g=null;null!==d&&m<i.length;m++){d.index>m?(g=d,d=null):g=d.sibling;var v=f(a,d,i[m],l);if(null===v){null===d&&(d=g);break}e&&d&&null===v.alternate&&t(a,d),s=o(v,s,m),null===u?c=v:u.sibling=v,u=v,d=g}if(m===i.length)return r(a,d),ms&&cs(a,m),c;if(null===d){for(;m<i.length;m++)null!==(d=h(a,i[m],l))&&(s=o(d,s,m),null===u?c=d:u.sibling=d,u=d);return ms&&cs(a,m),c}for(d=n(a,d);m<i.length;m++)null!==(g=p(d,a,m,i[m],l))&&(e&&null!==g.alternate&&d.delete(null===g.key?m:g.key),s=o(g,s,m),null===u?c=g:u.sibling=g,u=g);return e&&d.forEach((function(e){return t(a,e)})),ms&&cs(a,m),c}function g(a,i,l,c){var u=I(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var d=u=null,m=i,g=i=0,v=null,y=l.next();null!==m&&!y.done;g++,y=l.next()){m.index>g?(v=m,m=null):v=m.sibling;var b=f(a,m,y.value,c);if(null===b){null===m&&(m=v);break}e&&m&&null===b.alternate&&t(a,m),i=o(b,i,g),null===d?u=b:d.sibling=b,d=b,m=v}if(y.done)return r(a,m),ms&&cs(a,g),u;if(null===m){for(;!y.done;g++,y=l.next())null!==(y=h(a,y.value,c))&&(i=o(y,i,g),null===d?u=y:d.sibling=y,d=y);return ms&&cs(a,g),u}for(m=n(a,m);!y.done;g++,y=l.next())null!==(y=p(m,a,g,y.value,c))&&(e&&null!==y.alternate&&m.delete(null===y.key?g:y.key),i=o(y,i,g),null===d?u=y:d.sibling=y,d=y);return e&&m.forEach((function(e){return t(a,e)})),ms&&cs(a,g),u}return function e(n,s,o,l){if("object"===typeof o&&null!==o&&o.type===k&&null===o.key&&(o=o.props.children),"object"===typeof o&&null!==o){switch(o.$$typeof){case w:e:{for(var c=o.key,u=s;null!==u;){if(u.key===c){if((c=o.type)===k){if(7===u.tag){r(n,u.sibling),(s=a(u,o.props.children)).return=n,n=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===R&&Ps(c)===u.type){r(n,u.sibling),(s=a(u,o.props)).ref=Es(n,u,o),s.return=n,n=s;break e}r(n,u);break}t(n,u),u=u.sibling}o.type===k?((s=$c(o.props.children,n.mode,l,o.key)).return=n,n=s):((l=Hc(o.type,o.key,o.props,null,n.mode,l)).ref=Es(n,s,o),l.return=n,n=l)}return i(n);case j:e:{for(u=o.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===o.containerInfo&&s.stateNode.implementation===o.implementation){r(n,s.sibling),(s=a(s,o.children||[])).return=n,n=s;break e}r(n,s);break}t(n,s),s=s.sibling}(s=Gc(o,n.mode,l)).return=n,n=s}return i(n);case R:return e(n,s,(u=o._init)(o._payload),l)}if(te(o))return m(n,s,o,l);if(I(o))return g(n,s,o,l);Cs(n,o)}return"string"===typeof o&&""!==o||"number"===typeof o?(o=""+o,null!==s&&6===s.tag?(r(n,s.sibling),(s=a(s,o)).return=n,n=s):(r(n,s),(s=Jc(o,n.mode,l)).return=n,n=s),i(n)):r(n,s)}}var Ts=Os(!0),Rs=Os(!1),Ls=Ia(null),As=null,Is=null,Us=null;function Ds(){Us=Is=As=null}function zs(e){var t=Ls.current;Ua(Ls),e._currentValue=t}function Ms(e,t,r){for(;null!==e;){var n=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==n&&(n.childLanes|=t)):null!==n&&(n.childLanes&t)!==t&&(n.childLanes|=t),e===r)break;e=e.return}}function Fs(e,t){As=e,Us=Is=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(Oi=!0),e.firstContext=null)}function Bs(e){var t=e._currentValue;if(Us!==e)if(e={context:e,memoizedValue:t,next:null},null===Is){if(null===As)throw Error(s(308));Is=e,As.dependencies={lanes:0,firstContext:e}}else Is=Is.next=e;return t}var qs=null;function Ws(e){null===qs?qs=[e]:qs.push(e)}function Vs(e,t,r,n){var a=t.interleaved;return null===a?(r.next=r,Ws(t)):(r.next=a.next,a.next=r),t.interleaved=r,Hs(e,n)}function Hs(e,t){e.lanes|=t;var r=e.alternate;for(null!==r&&(r.lanes|=t),r=e,e=e.return;null!==e;)e.childLanes|=t,null!==(r=e.alternate)&&(r.childLanes|=t),r=e,e=e.return;return 3===r.tag?r.stateNode:null}var $s=!1;function Ks(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Js(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function Gs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Qs(e,t,r){var n=e.updateQueue;if(null===n)return null;if(n=n.shared,0!==(2&Ml)){var a=n.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),n.pending=t,Hs(e,r)}return null===(a=n.interleaved)?(t.next=t,Ws(n)):(t.next=a.next,a.next=t),n.interleaved=t,Hs(e,r)}function Xs(e,t,r){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&r))){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Et(e,r)}}function Ys(e,t){var r=e.updateQueue,n=e.alternate;if(null!==n&&r===(n=n.updateQueue)){var a=null,s=null;if(null!==(r=r.firstBaseUpdate)){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};null===s?a=s=o:s=s.next=o,r=r.next}while(null!==r);null===s?a=s=t:s=s.next=t}else a=s=t;return r={baseState:n.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:n.shared,effects:n.effects},void(e.updateQueue=r)}null===(e=r.lastBaseUpdate)?r.firstBaseUpdate=t:e.next=t,r.lastBaseUpdate=t}function Zs(e,t,r,n){var a=e.updateQueue;$s=!1;var s=a.firstBaseUpdate,o=a.lastBaseUpdate,i=a.shared.pending;if(null!==i){a.shared.pending=null;var l=i,c=l.next;l.next=null,null===o?s=c:o.next=c,o=l;var u=e.alternate;null!==u&&((i=(u=u.updateQueue).lastBaseUpdate)!==o&&(null===i?u.firstBaseUpdate=c:i.next=c,u.lastBaseUpdate=l))}if(null!==s){var d=a.baseState;for(o=0,u=c=l=null,i=s;;){var h=i.lane,f=i.eventTime;if((n&h)===h){null!==u&&(u=u.next={eventTime:f,lane:0,tag:i.tag,payload:i.payload,callback:i.callback,next:null});e:{var p=e,m=i;switch(h=t,f=r,m.tag){case 1:if("function"===typeof(p=m.payload)){d=p.call(f,d,h);break e}d=p;break e;case 3:p.flags=-65537&p.flags|128;case 0:if(null===(h="function"===typeof(p=m.payload)?p.call(f,d,h):p)||void 0===h)break e;d=D({},d,h);break e;case 2:$s=!0}}null!==i.callback&&0!==i.lane&&(e.flags|=64,null===(h=a.effects)?a.effects=[i]:h.push(i))}else f={eventTime:f,lane:h,tag:i.tag,payload:i.payload,callback:i.callback,next:null},null===u?(c=u=f,l=d):u=u.next=f,o|=h;if(null===(i=i.next)){if(null===(i=a.shared.pending))break;i=(h=i).next,h.next=null,a.lastBaseUpdate=h,a.shared.pending=null}}if(null===u&&(l=d),a.baseState=l,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{o|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Kl|=o,e.lanes=o,e.memoizedState=d}}function eo(e,t,r){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var n=e[t],a=n.callback;if(null!==a){if(n.callback=null,n=r,"function"!==typeof a)throw Error(s(191,a));a.call(n)}}}var to={},ro=Ia(to),no=Ia(to),ao=Ia(to);function so(e){if(e===to)throw Error(s(174));return e}function oo(e,t){switch(Da(ao,t),Da(no,e),Da(ro,to),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Ua(ro),Da(ro,t)}function io(){Ua(ro),Ua(no),Ua(ao)}function lo(e){so(ao.current);var t=so(ro.current),r=le(t,e.type);t!==r&&(Da(no,e),Da(ro,r))}function co(e){no.current===e&&(Ua(ro),Ua(no))}var uo=Ia(0);function ho(e){for(var t=e;null!==t;){if(13===t.tag){var r=t.memoizedState;if(null!==r&&(null===(r=r.dehydrated)||"$?"===r.data||"$!"===r.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fo=[];function po(){for(var e=0;e<fo.length;e++)fo[e]._workInProgressVersionPrimary=null;fo.length=0}var mo=x.ReactCurrentDispatcher,go=x.ReactCurrentBatchConfig,vo=0,yo=null,bo=null,xo=null,wo=!1,jo=!1,ko=0,_o=0;function So(){throw Error(s(321))}function No(e,t){if(null===t)return!1;for(var r=0;r<t.length&&r<e.length;r++)if(!yn(e[r],t[r]))return!1;return!0}function Eo(e,t,r,n,a,o){if(vo=o,yo=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,mo.current=null===e||null===e.memoizedState?ui:di,e=r(n,a),jo){o=0;do{if(jo=!1,ko=0,25<=o)throw Error(s(301));o+=1,xo=bo=null,t.updateQueue=null,mo.current=hi,e=r(n,a)}while(jo)}if(mo.current=ci,t=null!==bo&&null!==bo.next,vo=0,xo=bo=yo=null,wo=!1,t)throw Error(s(300));return e}function Co(){var e=0!==ko;return ko=0,e}function Po(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===xo?yo.memoizedState=xo=e:xo=xo.next=e,xo}function Oo(){if(null===bo){var e=yo.alternate;e=null!==e?e.memoizedState:null}else e=bo.next;var t=null===xo?yo.memoizedState:xo.next;if(null!==t)xo=t,bo=e;else{if(null===e)throw Error(s(310));e={memoizedState:(bo=e).memoizedState,baseState:bo.baseState,baseQueue:bo.baseQueue,queue:bo.queue,next:null},null===xo?yo.memoizedState=xo=e:xo=xo.next=e}return xo}function To(e,t){return"function"===typeof t?t(e):t}function Ro(e){var t=Oo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=bo,a=n.baseQueue,o=r.pending;if(null!==o){if(null!==a){var i=a.next;a.next=o.next,o.next=i}n.baseQueue=a=o,r.pending=null}if(null!==a){o=a.next,n=n.baseState;var l=i=null,c=null,u=o;do{var d=u.lane;if((vo&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:e(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=h,i=n):c=c.next=h,yo.lanes|=d,Kl|=d}u=u.next}while(null!==u&&u!==o);null===c?i=n:c.next=l,yn(n,t.memoizedState)||(Oi=!0),t.memoizedState=n,t.baseState=i,t.baseQueue=c,r.lastRenderedState=n}if(null!==(e=r.interleaved)){a=e;do{o=a.lane,yo.lanes|=o,Kl|=o,a=a.next}while(a!==e)}else null===a&&(r.lanes=0);return[t.memoizedState,r.dispatch]}function Lo(e){var t=Oo(),r=t.queue;if(null===r)throw Error(s(311));r.lastRenderedReducer=e;var n=r.dispatch,a=r.pending,o=t.memoizedState;if(null!==a){r.pending=null;var i=a=a.next;do{o=e(o,i.action),i=i.next}while(i!==a);yn(o,t.memoizedState)||(Oi=!0),t.memoizedState=o,null===t.baseQueue&&(t.baseState=o),r.lastRenderedState=o}return[o,n]}function Ao(){}function Io(e,t){var r=yo,n=Oo(),a=t(),o=!yn(n.memoizedState,a);if(o&&(n.memoizedState=a,Oi=!0),n=n.queue,Ko(zo.bind(null,r,n,e),[e]),n.getSnapshot!==t||o||null!==xo&&1&xo.memoizedState.tag){if(r.flags|=2048,qo(9,Do.bind(null,r,n,a,t),void 0,null),null===Fl)throw Error(s(349));0!==(30&vo)||Uo(r,t,a)}return a}function Uo(e,t,r){e.flags|=16384,e={getSnapshot:t,value:r},null===(t=yo.updateQueue)?(t={lastEffect:null,stores:null},yo.updateQueue=t,t.stores=[e]):null===(r=t.stores)?t.stores=[e]:r.push(e)}function Do(e,t,r,n){t.value=r,t.getSnapshot=n,Mo(t)&&Fo(e)}function zo(e,t,r){return r((function(){Mo(t)&&Fo(e)}))}function Mo(e){var t=e.getSnapshot;e=e.value;try{var r=t();return!yn(e,r)}catch(gt){return!0}}function Fo(e){var t=Hs(e,1);null!==t&&fc(t,e,1,-1)}function Bo(e){var t=Po();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:To,lastRenderedState:e},t.queue=e,e=e.dispatch=si.bind(null,yo,e),[t.memoizedState,e]}function qo(e,t,r,n){return e={tag:e,create:t,destroy:r,deps:n,next:null},null===(t=yo.updateQueue)?(t={lastEffect:null,stores:null},yo.updateQueue=t,t.lastEffect=e.next=e):null===(r=t.lastEffect)?t.lastEffect=e.next=e:(n=r.next,r.next=e,e.next=n,t.lastEffect=e),e}function Wo(){return Oo().memoizedState}function Vo(e,t,r,n){var a=Po();yo.flags|=e,a.memoizedState=qo(1|t,r,void 0,void 0===n?null:n)}function Ho(e,t,r,n){var a=Oo();n=void 0===n?null:n;var s=void 0;if(null!==bo){var o=bo.memoizedState;if(s=o.destroy,null!==n&&No(n,o.deps))return void(a.memoizedState=qo(t,r,s,n))}yo.flags|=e,a.memoizedState=qo(1|t,r,s,n)}function $o(e,t){return Vo(8390656,8,e,t)}function Ko(e,t){return Ho(2048,8,e,t)}function Jo(e,t){return Ho(4,2,e,t)}function Go(e,t){return Ho(4,4,e,t)}function Qo(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Xo(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Ho(4,4,Qo.bind(null,t,e),r)}function Yo(){}function Zo(e,t){var r=Oo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&No(t,n[1])?n[0]:(r.memoizedState=[e,t],e)}function ei(e,t){var r=Oo();t=void 0===t?null:t;var n=r.memoizedState;return null!==n&&null!==t&&No(t,n[1])?n[0]:(e=e(),r.memoizedState=[e,t],e)}function ti(e,t,r){return 0===(21&vo)?(e.baseState&&(e.baseState=!1,Oi=!0),e.memoizedState=r):(yn(r,t)||(r=_t(),yo.lanes|=r,Kl|=r,e.baseState=!0),t)}function ri(e,t){var r=Ct;Ct=0!==r&&4>r?r:4,e(!0);var n=go.transition;go.transition={};try{e(!1),t()}finally{Ct=r,go.transition=n}}function ni(){return Oo().memoizedState}function ai(e,t,r){var n=hc(e);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},oi(e))ii(t,r);else if(null!==(r=Vs(e,t,r,n))){fc(r,e,n,dc()),li(r,t,n)}}function si(e,t,r){var n=hc(e),a={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(oi(e))ii(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var o=t.lastRenderedState,i=s(o,r);if(a.hasEagerState=!0,a.eagerState=i,yn(i,o)){var l=t.interleaved;return null===l?(a.next=a,Ws(t)):(a.next=l.next,l.next=a),void(t.interleaved=a)}}catch(mt){}null!==(r=Vs(e,t,a,n))&&(fc(r,e,n,a=dc()),li(r,t,n))}}function oi(e){var t=e.alternate;return e===yo||null!==t&&t===yo}function ii(e,t){jo=wo=!0;var r=e.pending;null===r?t.next=t:(t.next=r.next,r.next=t),e.pending=t}function li(e,t,r){if(0!==(4194240&r)){var n=t.lanes;r|=n&=e.pendingLanes,t.lanes=r,Et(e,r)}}var ci={readContext:Bs,useCallback:So,useContext:So,useEffect:So,useImperativeHandle:So,useInsertionEffect:So,useLayoutEffect:So,useMemo:So,useReducer:So,useRef:So,useState:So,useDebugValue:So,useDeferredValue:So,useTransition:So,useMutableSource:So,useSyncExternalStore:So,useId:So,unstable_isNewReconciler:!1},ui={readContext:Bs,useCallback:function(e,t){return Po().memoizedState=[e,void 0===t?null:t],e},useContext:Bs,useEffect:$o,useImperativeHandle:function(e,t,r){return r=null!==r&&void 0!==r?r.concat([e]):null,Vo(4194308,4,Qo.bind(null,t,e),r)},useLayoutEffect:function(e,t){return Vo(4194308,4,e,t)},useInsertionEffect:function(e,t){return Vo(4,2,e,t)},useMemo:function(e,t){var r=Po();return t=void 0===t?null:t,e=e(),r.memoizedState=[e,t],e},useReducer:function(e,t,r){var n=Po();return t=void 0!==r?r(t):t,n.memoizedState=n.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},n.queue=e,e=e.dispatch=ai.bind(null,yo,e),[n.memoizedState,e]},useRef:function(e){return e={current:e},Po().memoizedState=e},useState:Bo,useDebugValue:Yo,useDeferredValue:function(e){return Po().memoizedState=e},useTransition:function(){var e=Bo(!1),t=e[0];return e=ri.bind(null,e[1]),Po().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,r){var n=yo,a=Po();if(ms){if(void 0===r)throw Error(s(407));r=r()}else{if(r=t(),null===Fl)throw Error(s(349));0!==(30&vo)||Uo(n,t,r)}a.memoizedState=r;var o={value:r,getSnapshot:t};return a.queue=o,$o(zo.bind(null,n,o,e),[e]),n.flags|=2048,qo(9,Do.bind(null,n,o,r,t),void 0,null),r},useId:function(){var e=Po(),t=Fl.identifierPrefix;if(ms){var r=ls;t=":"+t+"R"+(r=(is&~(1<<32-it(is)-1)).toString(32)+r),0<(r=ko++)&&(t+="H"+r.toString(32)),t+=":"}else t=":"+t+"r"+(r=_o++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},di={readContext:Bs,useCallback:Zo,useContext:Bs,useEffect:Ko,useImperativeHandle:Xo,useInsertionEffect:Jo,useLayoutEffect:Go,useMemo:ei,useReducer:Ro,useRef:Wo,useState:function(){return Ro(To)},useDebugValue:Yo,useDeferredValue:function(e){return ti(Oo(),bo.memoizedState,e)},useTransition:function(){return[Ro(To)[0],Oo().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Io,useId:ni,unstable_isNewReconciler:!1},hi={readContext:Bs,useCallback:Zo,useContext:Bs,useEffect:Ko,useImperativeHandle:Xo,useInsertionEffect:Jo,useLayoutEffect:Go,useMemo:ei,useReducer:Lo,useRef:Wo,useState:function(){return Lo(To)},useDebugValue:Yo,useDeferredValue:function(e){var t=Oo();return null===bo?t.memoizedState=e:ti(t,bo.memoizedState,e)},useTransition:function(){return[Lo(To)[0],Oo().memoizedState]},useMutableSource:Ao,useSyncExternalStore:Io,useId:ni,unstable_isNewReconciler:!1};function fi(e,t){if(e&&e.defaultProps){for(var r in t=D({},t),e=e.defaultProps)void 0===t[r]&&(t[r]=e[r]);return t}return t}function pi(e,t,r,n){r=null===(r=r(n,t=e.memoizedState))||void 0===r?t:D({},t,r),e.memoizedState=r,0===e.lanes&&(e.updateQueue.baseState=r)}var mi={isMounted:function(e){return!!(e=e._reactInternals)&&Be(e)===e},enqueueSetState:function(e,t,r){e=e._reactInternals;var n=dc(),a=hc(e),s=Gs(n,a);s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Qs(e,s,a))&&(fc(t,e,a,n),Xs(t,e,a))},enqueueReplaceState:function(e,t,r){e=e._reactInternals;var n=dc(),a=hc(e),s=Gs(n,a);s.tag=1,s.payload=t,void 0!==r&&null!==r&&(s.callback=r),null!==(t=Qs(e,s,a))&&(fc(t,e,a,n),Xs(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var r=dc(),n=hc(e),a=Gs(r,n);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Qs(e,a,n))&&(fc(t,e,n,r),Xs(t,e,n))}};function gi(e,t,r,n,a,s,o){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(n,s,o):!t.prototype||!t.prototype.isPureReactComponent||(!bn(r,n)||!bn(a,s))}function vi(e,t,r){var n=!1,a=za,s=t.contextType;return"object"===typeof s&&null!==s?s=Bs(s):(a=Wa(t)?Ba:Ma.current,s=(n=null!==(n=t.contextTypes)&&void 0!==n)?qa(e,a):za),t=new t(r,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=mi,e.stateNode=t,t._reactInternals=e,n&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function yi(e,t,r,n){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(r,n),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(r,n),t.state!==e&&mi.enqueueReplaceState(t,t.state,null)}function bi(e,t,r,n){var a=e.stateNode;a.props=r,a.state=e.memoizedState,a.refs={},Ks(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Bs(s):(s=Wa(t)?Ba:Ma.current,a.context=qa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(pi(e,t,s,r),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&mi.enqueueReplaceState(a,a.state,null),Zs(e,r,a,n),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function xi(e,t){try{var r="",n=t;do{r+=B(n),n=n.return}while(n);var a=r}catch(ut){a="\nError generating stack: "+ut.message+"\n"+ut.stack}return{value:e,source:t,stack:a,digest:null}}function wi(e,t,r){return{value:e,source:null,stack:null!=r?r:null,digest:null!=t?t:null}}function ji(e,t){try{console.error(t.value)}catch(dt){setTimeout((function(){throw dt}))}}var ki="function"===typeof WeakMap?WeakMap:Map;function _i(e,t,r){(r=Gs(-1,r)).tag=3,r.payload={element:null};var n=t.value;return r.callback=function(){tc||(tc=!0,rc=n),ji(0,t)},r}function Si(e,t,r){(r=Gs(-1,r)).tag=3;var n=e.type.getDerivedStateFromError;if("function"===typeof n){var a=t.value;r.payload=function(){return n(a)},r.callback=function(){ji(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(r.callback=function(){ji(0,t),"function"!==typeof n&&(null===nc?nc=new Set([this]):nc.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),r}function Ni(e,t,r){var n=e.pingCache;if(null===n){n=e.pingCache=new ki;var a=new Set;n.set(t,a)}else void 0===(a=n.get(t))&&(a=new Set,n.set(t,a));a.has(r)||(a.add(r),e=Uc.bind(null,e,t,r),t.then(e,e))}function Ei(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function Ci(e,t,r,n,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,r.flags|=131072,r.flags&=-52805,1===r.tag&&(null===r.alternate?r.tag=17:((t=Gs(-1,1)).tag=2,Qs(r,t,1))),r.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var Pi=x.ReactCurrentOwner,Oi=!1;function Ti(e,t,r,n){t.child=null===e?Rs(t,null,r,n):Ts(t,e.child,r,n)}function Ri(e,t,r,n,a){r=r.render;var s=t.ref;return Fs(t,a),n=Eo(e,t,r,n,s,a),r=Co(),null===e||Oi?(ms&&r&&ds(t),t.flags|=1,Ti(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,tl(e,t,a))}function Li(e,t,r,n,a){if(null===e){var s=r.type;return"function"!==typeof s||Wc(s)||void 0!==s.defaultProps||null!==r.compare||void 0!==r.defaultProps?((e=Hc(r.type,null,n,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ai(e,t,s,n,a))}if(s=e.child,0===(e.lanes&a)){var o=s.memoizedProps;if((r=null!==(r=r.compare)?r:bn)(o,n)&&e.ref===t.ref)return tl(e,t,a)}return t.flags|=1,(e=Vc(s,n)).ref=t.ref,e.return=t,t.child=e}function Ai(e,t,r,n,a){if(null!==e){var s=e.memoizedProps;if(bn(s,n)&&e.ref===t.ref){if(Oi=!1,t.pendingProps=n=s,0===(e.lanes&a))return t.lanes=e.lanes,tl(e,t,a);0!==(131072&e.flags)&&(Oi=!0)}}return Di(e,t,r,n,a)}function Ii(e,t,r){var n=t.pendingProps,a=n.children,s=null!==e?e.memoizedState:null;if("hidden"===n.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Da(Vl,Wl),Wl|=r;else{if(0===(1073741824&r))return e=null!==s?s.baseLanes|r:r,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Da(Vl,Wl),Wl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=null!==s?s.baseLanes:r,Da(Vl,Wl),Wl|=n}else null!==s?(n=s.baseLanes|r,t.memoizedState=null):n=r,Da(Vl,Wl),Wl|=n;return Ti(e,t,a,r),t.child}function Ui(e,t){var r=t.ref;(null===e&&null!==r||null!==e&&e.ref!==r)&&(t.flags|=512,t.flags|=2097152)}function Di(e,t,r,n,a){var s=Wa(r)?Ba:Ma.current;return s=qa(t,s),Fs(t,a),r=Eo(e,t,r,n,s,a),n=Co(),null===e||Oi?(ms&&n&&ds(t),t.flags|=1,Ti(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,tl(e,t,a))}function zi(e,t,r,n,a){if(Wa(r)){var s=!0;Ka(t)}else s=!1;if(Fs(t,a),null===t.stateNode)el(e,t),vi(t,r,n),bi(t,r,n,a),n=!0;else if(null===e){var o=t.stateNode,i=t.memoizedProps;o.props=i;var l=o.context,c=r.contextType;"object"===typeof c&&null!==c?c=Bs(c):c=qa(t,c=Wa(r)?Ba:Ma.current);var u=r.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof o.getSnapshotBeforeUpdate;d||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==n||l!==c)&&yi(t,o,n,c),$s=!1;var h=t.memoizedState;o.state=h,Zs(t,n,o,a),l=t.memoizedState,i!==n||h!==l||Fa.current||$s?("function"===typeof u&&(pi(t,r,u,n),l=t.memoizedState),(i=$s||gi(t,r,i,n,h,l,c))?(d||"function"!==typeof o.UNSAFE_componentWillMount&&"function"!==typeof o.componentWillMount||("function"===typeof o.componentWillMount&&o.componentWillMount(),"function"===typeof o.UNSAFE_componentWillMount&&o.UNSAFE_componentWillMount()),"function"===typeof o.componentDidMount&&(t.flags|=4194308)):("function"===typeof o.componentDidMount&&(t.flags|=4194308),t.memoizedProps=n,t.memoizedState=l),o.props=n,o.state=l,o.context=c,n=i):("function"===typeof o.componentDidMount&&(t.flags|=4194308),n=!1)}else{o=t.stateNode,Js(e,t),i=t.memoizedProps,c=t.type===t.elementType?i:fi(t.type,i),o.props=c,d=t.pendingProps,h=o.context,"object"===typeof(l=r.contextType)&&null!==l?l=Bs(l):l=qa(t,l=Wa(r)?Ba:Ma.current);var f=r.getDerivedStateFromProps;(u="function"===typeof f||"function"===typeof o.getSnapshotBeforeUpdate)||"function"!==typeof o.UNSAFE_componentWillReceiveProps&&"function"!==typeof o.componentWillReceiveProps||(i!==d||h!==l)&&yi(t,o,n,l),$s=!1,h=t.memoizedState,o.state=h,Zs(t,n,o,a);var p=t.memoizedState;i!==d||h!==p||Fa.current||$s?("function"===typeof f&&(pi(t,r,f,n),p=t.memoizedState),(c=$s||gi(t,r,c,n,h,p,l)||!1)?(u||"function"!==typeof o.UNSAFE_componentWillUpdate&&"function"!==typeof o.componentWillUpdate||("function"===typeof o.componentWillUpdate&&o.componentWillUpdate(n,p,l),"function"===typeof o.UNSAFE_componentWillUpdate&&o.UNSAFE_componentWillUpdate(n,p,l)),"function"===typeof o.componentDidUpdate&&(t.flags|=4),"function"===typeof o.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),t.memoizedProps=n,t.memoizedState=p),o.props=n,o.state=p,o.context=l,n=c):("function"!==typeof o.componentDidUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=4),"function"!==typeof o.getSnapshotBeforeUpdate||i===e.memoizedProps&&h===e.memoizedState||(t.flags|=1024),n=!1)}return Mi(e,t,r,n,s,a)}function Mi(e,t,r,n,a,s){Ui(e,t);var o=0!==(128&t.flags);if(!n&&!o)return a&&Ja(t,r,!1),tl(e,t,s);n=t.stateNode,Pi.current=t;var i=o&&"function"!==typeof r.getDerivedStateFromError?null:n.render();return t.flags|=1,null!==e&&o?(t.child=Ts(t,e.child,null,s),t.child=Ts(t,null,i,s)):Ti(e,t,i,s),t.memoizedState=n.state,a&&Ja(t,r,!0),t.child}function Fi(e){var t=e.stateNode;t.pendingContext?Ha(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ha(0,t.context,!1),oo(e,t.containerInfo)}function Bi(e,t,r,n,a){return _s(),Ss(a),t.flags|=256,Ti(e,t,r,n),t.child}var qi,Wi,Vi,Hi,$i={dehydrated:null,treeContext:null,retryLane:0};function Ki(e){return{baseLanes:e,cachePool:null,transitions:null}}function Ji(e,t,r){var n,a=t.pendingProps,o=uo.current,i=!1,l=0!==(128&t.flags);if((n=l)||(n=(null===e||null!==e.memoizedState)&&0!==(2&o)),n?(i=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(o|=1),Da(uo,1&o),null===e)return xs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=a.children,e=a.fallback,i?(a=t.mode,i=t.child,l={mode:"hidden",children:l},0===(1&a)&&null!==i?(i.childLanes=0,i.pendingProps=l):i=Kc(l,a,0,null),e=$c(e,a,r,null),i.return=t,e.return=t,i.sibling=e,t.child=i,t.child.memoizedState=Ki(r),t.memoizedState=$i,e):Gi(t,l));if(null!==(o=e.memoizedState)&&null!==(n=o.dehydrated))return function(e,t,r,n,a,o,i){if(r)return 256&t.flags?(t.flags&=-257,Qi(e,t,i,n=wi(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(o=n.fallback,a=t.mode,n=Kc({mode:"visible",children:n.children},a,0,null),(o=$c(o,a,i,null)).flags|=2,n.return=t,o.return=t,n.sibling=o,t.child=n,0!==(1&t.mode)&&Ts(t,e.child,null,i),t.child.memoizedState=Ki(i),t.memoizedState=$i,o);if(0===(1&t.mode))return Qi(e,t,i,null);if("$!"===a.data){if(n=a.nextSibling&&a.nextSibling.dataset)var l=n.dgst;return n=l,Qi(e,t,i,n=wi(o=Error(s(419)),n,void 0))}if(l=0!==(i&e.childLanes),Oi||l){if(null!==(n=Fl)){switch(i&-i){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(n.suspendedLanes|i))?0:a)&&a!==o.retryLane&&(o.retryLane=a,Hs(e,a),fc(n,e,a,-1))}return Nc(),Qi(e,t,i,n=wi(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=zc.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,ps=xa(a.nextSibling),fs=t,ms=!0,gs=null,null!==e&&(as[ss++]=is,as[ss++]=ls,as[ss++]=os,is=e.id,ls=e.overflow,os=t),t=Gi(t,n.children),t.flags|=4096,t)}(e,t,l,a,n,o,r);if(i){i=a.fallback,l=t.mode,n=(o=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&l)&&t.child!==o?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Vc(o,c)).subtreeFlags=14680064&o.subtreeFlags,null!==n?i=Vc(n,i):(i=$c(i,l,r,null)).flags|=2,i.return=t,a.return=t,a.sibling=i,t.child=a,a=i,i=t.child,l=null===(l=e.child.memoizedState)?Ki(r):{baseLanes:l.baseLanes|r,cachePool:null,transitions:l.transitions},i.memoizedState=l,i.childLanes=e.childLanes&~r,t.memoizedState=$i,a}return e=(i=e.child).sibling,a=Vc(i,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=r),a.return=t,a.sibling=null,null!==e&&(null===(r=t.deletions)?(t.deletions=[e],t.flags|=16):r.push(e)),t.child=a,t.memoizedState=null,a}function Gi(e,t){return(t=Kc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function Qi(e,t,r,n){return null!==n&&Ss(n),Ts(t,e.child,null,r),(e=Gi(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Xi(e,t,r){e.lanes|=t;var n=e.alternate;null!==n&&(n.lanes|=t),Ms(e.return,t,r)}function Yi(e,t,r,n,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=a)}function Zi(e,t,r){var n=t.pendingProps,a=n.revealOrder,s=n.tail;if(Ti(e,t,n.children,r),0!==(2&(n=uo.current)))n=1&n|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Xi(e,r,t);else if(19===e.tag)Xi(e,r,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}n&=1}if(Da(uo,n),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(r=t.child,a=null;null!==r;)null!==(e=r.alternate)&&null===ho(e)&&(a=r),r=r.sibling;null===(r=a)?(a=t.child,t.child=null):(a=r.sibling,r.sibling=null),Yi(t,!1,a,r,s);break;case"backwards":for(r=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ho(e)){t.child=a;break}e=a.sibling,a.sibling=r,r=a,a=e}Yi(t,!0,r,null,s);break;case"together":Yi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function el(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function tl(e,t,r){if(null!==e&&(t.dependencies=e.dependencies),Kl|=t.lanes,0===(r&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(r=Vc(e=t.child,e.pendingProps),t.child=r,r.return=t;null!==e.sibling;)e=e.sibling,(r=r.sibling=Vc(e,e.pendingProps)).return=t;r.sibling=null}return t.child}function rl(e,t){if(!ms)switch(e.tailMode){case"hidden":t=e.tail;for(var r=null;null!==t;)null!==t.alternate&&(r=t),t=t.sibling;null===r?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var n=null;null!==r;)null!==r.alternate&&(n=r),r=r.sibling;null===n?t||null===e.tail?e.tail=null:e.tail.sibling=null:n.sibling=null}}function nl(e){var t=null!==e.alternate&&e.alternate.child===e.child,r=0,n=0;if(t)for(var a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=14680064&a.subtreeFlags,n|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)r|=a.lanes|a.childLanes,n|=a.subtreeFlags,n|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=n,e.childLanes=r,t}function al(e,t,r){var n=t.pendingProps;switch(hs(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return nl(t),null;case 1:case 17:return Wa(t.type)&&Va(),nl(t),null;case 3:return n=t.stateNode,io(),Ua(Fa),Ua(Ma),po(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),null!==e&&null!==e.child||(js(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==gs&&(vc(gs),gs=null))),Wi(e,t),nl(t),null;case 5:co(t);var a=so(ao.current);if(r=t.type,null!==e&&null!=t.stateNode)Vi(e,t,r,n,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!n){if(null===t.stateNode)throw Error(s(166));return nl(t),null}if(e=so(ro.current),js(t)){n=t.stateNode,r=t.type;var o=t.memoizedProps;switch(n[ka]=t,n[_a]=o,e=0!==(1&t.mode),r){case"dialog":Qn("cancel",n),Qn("close",n);break;case"iframe":case"object":case"embed":Qn("load",n);break;case"video":case"audio":for(a=0;a<$n.length;a++)Qn($n[a],n);break;case"source":Qn("error",n);break;case"img":case"image":case"link":Qn("error",n),Qn("load",n);break;case"details":Qn("toggle",n);break;case"input":Q(n,o),Qn("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!o.multiple},Qn("invalid",n);break;case"textarea":ae(n,o),Qn("invalid",n)}for(var l in ve(r,o),a=null,o)if(o.hasOwnProperty(l)){var c=o[l];"children"===l?"string"===typeof c?n.textContent!==c&&(!0!==o.suppressHydrationWarning&&ca(n.textContent,c,e),a=["children",c]):"number"===typeof c&&n.textContent!==""+c&&(!0!==o.suppressHydrationWarning&&ca(n.textContent,c,e),a=["children",""+c]):i.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Qn("scroll",n)}switch(r){case"input":$(n),Z(n,o,!0);break;case"textarea":$(n),oe(n);break;case"select":case"option":break;default:"function"===typeof o.onClick&&(n.onclick=ua)}n=a,t.updateQueue=n,null!==n&&(t.flags|=4)}else{l=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=ie(r)),"http://www.w3.org/1999/xhtml"===e?"script"===r?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof n.is?e=l.createElement(r,{is:n.is}):(e=l.createElement(r),"select"===r&&(l=e,n.multiple?l.multiple=!0:n.size&&(l.size=n.size))):e=l.createElementNS(e,r),e[ka]=t,e[_a]=n,qi(e,t,!1,!1),t.stateNode=e;e:{switch(l=ye(r,n),r){case"dialog":Qn("cancel",e),Qn("close",e),a=n;break;case"iframe":case"object":case"embed":Qn("load",e),a=n;break;case"video":case"audio":for(a=0;a<$n.length;a++)Qn($n[a],e);a=n;break;case"source":Qn("error",e),a=n;break;case"img":case"image":case"link":Qn("error",e),Qn("load",e),a=n;break;case"details":Qn("toggle",e),a=n;break;case"input":Q(e,n),a=G(e,n),Qn("invalid",e);break;case"option":default:a=n;break;case"select":e._wrapperState={wasMultiple:!!n.multiple},a=D({},n,{value:void 0}),Qn("invalid",e);break;case"textarea":ae(e,n),a=ne(e,n),Qn("invalid",e)}for(o in ve(r,a),c=a)if(c.hasOwnProperty(o)){var u=c[o];"style"===o?me(e,u):"dangerouslySetInnerHTML"===o?null!=(u=u?u.__html:void 0)&&ue(e,u):"children"===o?"string"===typeof u?("textarea"!==r||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==o&&"suppressHydrationWarning"!==o&&"autoFocus"!==o&&(i.hasOwnProperty(o)?null!=u&&"onScroll"===o&&Qn("scroll",e):null!=u&&b(e,o,u,l))}switch(r){case"input":$(e),Z(e,n,!1);break;case"textarea":$(e),oe(e);break;case"option":null!=n.value&&e.setAttribute("value",""+V(n.value));break;case"select":e.multiple=!!n.multiple,null!=(o=n.value)?re(e,!!n.multiple,o,!1):null!=n.defaultValue&&re(e,!!n.multiple,n.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=ua)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return nl(t),null;case 6:if(e&&null!=t.stateNode)Hi(e,t,e.memoizedProps,n);else{if("string"!==typeof n&&null===t.stateNode)throw Error(s(166));if(r=so(ao.current),so(ro.current),js(t)){if(n=t.stateNode,r=t.memoizedProps,n[ka]=t,(o=n.nodeValue!==r)&&null!==(e=fs))switch(e.tag){case 3:ca(n.nodeValue,r,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&ca(n.nodeValue,r,0!==(1&e.mode))}o&&(t.flags|=4)}else(n=(9===r.nodeType?r:r.ownerDocument).createTextNode(n))[ka]=t,t.stateNode=n}return nl(t),null;case 13:if(Ua(uo),n=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(ms&&null!==ps&&0!==(1&t.mode)&&0===(128&t.flags))ks(),_s(),t.flags|=98560,o=!1;else if(o=js(t),null!==n&&null!==n.dehydrated){if(null===e){if(!o)throw Error(s(318));if(!(o=null!==(o=t.memoizedState)?o.dehydrated:null))throw Error(s(317));o[ka]=t}else _s(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;nl(t),o=!1}else null!==gs&&(vc(gs),gs=null),o=!0;if(!o)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=r,t):((n=null!==n)!==(null!==e&&null!==e.memoizedState)&&n&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&uo.current)?0===Hl&&(Hl=3):Nc())),null!==t.updateQueue&&(t.flags|=4),nl(t),null);case 4:return io(),Wi(e,t),null===e&&Zn(t.stateNode.containerInfo),nl(t),null;case 10:return zs(t.type._context),nl(t),null;case 19:if(Ua(uo),null===(o=t.memoizedState))return nl(t),null;if(n=0!==(128&t.flags),null===(l=o.rendering))if(n)rl(o,!1);else{if(0!==Hl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ho(e))){for(t.flags|=128,rl(o,!1),null!==(n=l.updateQueue)&&(t.updateQueue=n,t.flags|=4),t.subtreeFlags=0,n=r,r=t.child;null!==r;)e=n,(o=r).flags&=14680066,null===(l=o.alternate)?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=l.childLanes,o.lanes=l.lanes,o.child=l.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=l.memoizedProps,o.memoizedState=l.memoizedState,o.updateQueue=l.updateQueue,o.type=l.type,e=l.dependencies,o.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),r=r.sibling;return Da(uo,1&uo.current|2),t.child}e=e.sibling}null!==o.tail&&Qe()>Zl&&(t.flags|=128,n=!0,rl(o,!1),t.lanes=4194304)}else{if(!n)if(null!==(e=ho(l))){if(t.flags|=128,n=!0,null!==(r=e.updateQueue)&&(t.updateQueue=r,t.flags|=4),rl(o,!0),null===o.tail&&"hidden"===o.tailMode&&!l.alternate&&!ms)return nl(t),null}else 2*Qe()-o.renderingStartTime>Zl&&1073741824!==r&&(t.flags|=128,n=!0,rl(o,!1),t.lanes=4194304);o.isBackwards?(l.sibling=t.child,t.child=l):(null!==(r=o.last)?r.sibling=l:t.child=l,o.last=l)}return null!==o.tail?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=Qe(),t.sibling=null,r=uo.current,Da(uo,n?1&r|2:1&r),t):(nl(t),null);case 22:case 23:return jc(),n=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==n&&(t.flags|=8192),n&&0!==(1&t.mode)?0!==(1073741824&Wl)&&(nl(t),6&t.subtreeFlags&&(t.flags|=8192)):nl(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function sl(e,t){switch(hs(t),t.tag){case 1:return Wa(t.type)&&Va(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return io(),Ua(Fa),Ua(Ma),po(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return co(t),null;case 13:if(Ua(uo),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));_s()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Ua(uo),null;case 4:return io(),null;case 10:return zs(t.type._context),null;case 22:case 23:return jc(),null;default:return null}}qi=function(e,t){for(var r=t.child;null!==r;){if(5===r.tag||6===r.tag)e.appendChild(r.stateNode);else if(4!==r.tag&&null!==r.child){r.child.return=r,r=r.child;continue}if(r===t)break;for(;null===r.sibling;){if(null===r.return||r.return===t)return;r=r.return}r.sibling.return=r.return,r=r.sibling}},Wi=function(){},Vi=function(e,t,r,n){var a=e.memoizedProps;if(a!==n){e=t.stateNode,so(ro.current);var s,o=null;switch(r){case"input":a=G(e,a),n=G(e,n),o=[];break;case"select":a=D({},a,{value:void 0}),n=D({},n,{value:void 0}),o=[];break;case"textarea":a=ne(e,a),n=ne(e,n),o=[];break;default:"function"!==typeof a.onClick&&"function"===typeof n.onClick&&(e.onclick=ua)}for(u in ve(r,n),r=null,a)if(!n.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var l=a[u];for(s in l)l.hasOwnProperty(s)&&(r||(r={}),r[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(i.hasOwnProperty(u)?o||(o=[]):(o=o||[]).push(u,null));for(u in n){var c=n[u];if(l=null!=a?a[u]:void 0,n.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(r||(r={}),r[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(r||(r={}),r[s]=c[s])}else r||(o||(o=[]),o.push(u,r)),r=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(o=o||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(o=o||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(i.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Qn("scroll",e),o||l===c||(o=[])):(o=o||[]).push(u,c))}r&&(o=o||[]).push("style",r);var u=o;(t.updateQueue=u)&&(t.flags|=4)}},Hi=function(e,t,r,n){r!==n&&(t.flags|=4)};var ol=!1,il=!1,ll="function"===typeof WeakSet?WeakSet:Set,cl=null;function ul(e,t){var r=e.ref;if(null!==r)if("function"===typeof r)try{r(null)}catch(gt){Ic(e,t,gt)}else r.current=null}function dl(e,t,r){try{r()}catch(gt){Ic(e,t,gt)}}var hl=!1;function fl(e,t,r){var n=t.updateQueue;if(null!==(n=null!==n?n.lastEffect:null)){var a=n=n.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&dl(t,r,s)}a=a.next}while(a!==n)}}function pl(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var r=t=t.next;do{if((r.tag&e)===e){var n=r.create;r.destroy=n()}r=r.next}while(r!==t)}}function ml(e){var t=e.ref;if(null!==t){var r=e.stateNode;e.tag,e=r,"function"===typeof t?t(e):t.current=e}}function gl(e){var t=e.alternate;null!==t&&(e.alternate=null,gl(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ka],delete t[_a],delete t[Na],delete t[Ea],delete t[Ca])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function vl(e){return 5===e.tag||3===e.tag||4===e.tag}function yl(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||vl(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function bl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?8===r.nodeType?r.parentNode.insertBefore(e,t):r.insertBefore(e,t):(8===r.nodeType?(t=r.parentNode).insertBefore(e,r):(t=r).appendChild(e),null!==(r=r._reactRootContainer)&&void 0!==r||null!==t.onclick||(t.onclick=ua));else if(4!==n&&null!==(e=e.child))for(bl(e,t,r),e=e.sibling;null!==e;)bl(e,t,r),e=e.sibling}function xl(e,t,r){var n=e.tag;if(5===n||6===n)e=e.stateNode,t?r.insertBefore(e,t):r.appendChild(e);else if(4!==n&&null!==(e=e.child))for(xl(e,t,r),e=e.sibling;null!==e;)xl(e,t,r),e=e.sibling}var wl=null,jl=!1;function kl(e,t,r){for(r=r.child;null!==r;)_l(e,t,r),r=r.sibling}function _l(e,t,r){if(ot&&"function"===typeof ot.onCommitFiberUnmount)try{ot.onCommitFiberUnmount(nt,r)}catch(vt){}switch(r.tag){case 5:il||ul(r,t);case 6:var n=wl,a=jl;wl=null,kl(e,t,r),jl=a,null!==(wl=n)&&(jl?(e=wl,r=r.stateNode,8===e.nodeType?e.parentNode.removeChild(r):e.removeChild(r)):wl.removeChild(r.stateNode));break;case 18:null!==wl&&(jl?(e=wl,r=r.stateNode,8===e.nodeType?ba(e.parentNode,r):1===e.nodeType&&ba(e,r),Zt(e)):ba(wl,r.stateNode));break;case 4:n=wl,a=jl,wl=r.stateNode.containerInfo,jl=!0,kl(e,t,r),wl=n,jl=a;break;case 0:case 11:case 14:case 15:if(!il&&(null!==(n=r.updateQueue)&&null!==(n=n.lastEffect))){a=n=n.next;do{var s=a,o=s.destroy;s=s.tag,void 0!==o&&(0!==(2&s)||0!==(4&s))&&dl(r,t,o),a=a.next}while(a!==n)}kl(e,t,r);break;case 1:if(!il&&(ul(r,t),"function"===typeof(n=r.stateNode).componentWillUnmount))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(vt){Ic(r,t,vt)}kl(e,t,r);break;case 21:kl(e,t,r);break;case 22:1&r.mode?(il=(n=il)||null!==r.memoizedState,kl(e,t,r),il=n):kl(e,t,r);break;default:kl(e,t,r)}}function Sl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var r=e.stateNode;null===r&&(r=e.stateNode=new ll),t.forEach((function(t){var n=Mc.bind(null,e,t);r.has(t)||(r.add(t),t.then(n,n))}))}}function Nl(e,t){var r=t.deletions;if(null!==r)for(var n=0;n<r.length;n++){var a=r[n];try{var o=e,i=t,l=i;e:for(;null!==l;){switch(l.tag){case 5:wl=l.stateNode,jl=!1;break e;case 3:case 4:wl=l.stateNode.containerInfo,jl=!0;break e}l=l.return}if(null===wl)throw Error(s(160));_l(o,i,a),wl=null,jl=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(mt){Ic(a,t,mt)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)El(t,e),t=t.sibling}function El(e,t){var r=e.alternate,n=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Nl(t,e),Cl(e),4&n){try{fl(3,e,e.return),pl(3,e)}catch(st){Ic(e,e.return,st)}try{fl(5,e,e.return)}catch(st){Ic(e,e.return,st)}}break;case 1:Nl(t,e),Cl(e),512&n&&null!==r&&ul(r,r.return);break;case 5:if(Nl(t,e),Cl(e),512&n&&null!==r&&ul(r,r.return),32&e.flags){var a=e.stateNode;try{de(a,"")}catch(st){Ic(e,e.return,st)}}if(4&n&&null!=(a=e.stateNode)){var o=e.memoizedProps,i=null!==r?r.memoizedProps:o,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===o.type&&null!=o.name&&X(a,o),ye(l,i);var u=ye(l,o);for(i=0;i<c.length;i+=2){var d=c[i],h=c[i+1];"style"===d?me(a,h):"dangerouslySetInnerHTML"===d?ue(a,h):"children"===d?de(a,h):b(a,d,h,u)}switch(l){case"input":Y(a,o);break;case"textarea":se(a,o);break;case"select":var f=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var p=o.value;null!=p?re(a,!!o.multiple,p,!1):f!==!!o.multiple&&(null!=o.defaultValue?re(a,!!o.multiple,o.defaultValue,!0):re(a,!!o.multiple,o.multiple?[]:"",!1))}a[_a]=o}catch(st){Ic(e,e.return,st)}}break;case 6:if(Nl(t,e),Cl(e),4&n){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(st){Ic(e,e.return,st)}}break;case 3:if(Nl(t,e),Cl(e),4&n&&null!==r&&r.memoizedState.isDehydrated)try{Zt(t.containerInfo)}catch(st){Ic(e,e.return,st)}break;case 4:default:Nl(t,e),Cl(e);break;case 13:Nl(t,e),Cl(e),8192&(a=e.child).flags&&(o=null!==a.memoizedState,a.stateNode.isHidden=o,!o||null!==a.alternate&&null!==a.alternate.memoizedState||(Yl=Qe())),4&n&&Sl(e);break;case 22:if(d=null!==r&&null!==r.memoizedState,1&e.mode?(il=(u=il)||d,Nl(t,e),il=u):Nl(t,e),Cl(e),8192&n){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(cl=e,d=e.child;null!==d;){for(h=cl=d;null!==cl;){switch(p=(f=cl).child,f.tag){case 0:case 11:case 14:case 15:fl(4,f,f.return);break;case 1:ul(f,f.return);var m=f.stateNode;if("function"===typeof m.componentWillUnmount){n=f,r=f.return;try{t=n,m.props=t.memoizedProps,m.state=t.memoizedState,m.componentWillUnmount()}catch(st){Ic(n,r,st)}}break;case 5:ul(f,f.return);break;case 22:if(null!==f.memoizedState){Rl(h);continue}}null!==p?(p.return=f,cl=p):Rl(h)}d=d.sibling}e:for(d=null,h=e;;){if(5===h.tag){if(null===d){d=h;try{a=h.stateNode,u?"function"===typeof(o=a.style).setProperty?o.setProperty("display","none","important"):o.display="none":(l=h.stateNode,i=void 0!==(c=h.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=pe("display",i))}catch(st){Ic(e,e.return,st)}}}else if(6===h.tag){if(null===d)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(st){Ic(e,e.return,st)}}else if((22!==h.tag&&23!==h.tag||null===h.memoizedState||h===e)&&null!==h.child){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;null===h.sibling;){if(null===h.return||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Nl(t,e),Cl(e),4&n&&Sl(e);case 21:}}function Cl(e){var t=e.flags;if(2&t){try{e:{for(var r=e.return;null!==r;){if(vl(r)){var n=r;break e}r=r.return}throw Error(s(160))}switch(n.tag){case 5:var a=n.stateNode;32&n.flags&&(de(a,""),n.flags&=-33),xl(e,yl(e),a);break;case 3:case 4:var o=n.stateNode.containerInfo;bl(e,yl(e),o);break;default:throw Error(s(161))}}catch(Lt){Ic(e,e.return,Lt)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function Pl(e,t,r){cl=e,Ol(e,t,r)}function Ol(e,t,r){for(var n=0!==(1&e.mode);null!==cl;){var a=cl,s=a.child;if(22===a.tag&&n){var o=null!==a.memoizedState||ol;if(!o){var i=a.alternate,l=null!==i&&null!==i.memoizedState||il;i=ol;var c=il;if(ol=o,(il=l)&&!c)for(cl=a;null!==cl;)l=(o=cl).child,22===o.tag&&null!==o.memoizedState?Ll(a):null!==l?(l.return=o,cl=l):Ll(a);for(;null!==s;)cl=s,Ol(s,t,r),s=s.sibling;cl=a,ol=i,il=c}Tl(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,cl=s):Tl(e)}}function Tl(e){for(;null!==cl;){var t=cl;if(0!==(8772&t.flags)){var r=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:il||pl(5,t);break;case 1:var n=t.stateNode;if(4&t.flags&&!il)if(null===r)n.componentDidMount();else{var a=t.elementType===t.type?r.memoizedProps:fi(t.type,r.memoizedProps);n.componentDidUpdate(a,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;null!==o&&eo(t,o,n);break;case 3:var i=t.updateQueue;if(null!==i){if(r=null,null!==t.child)switch(t.child.tag){case 5:case 1:r=t.child.stateNode}eo(t,i,r)}break;case 5:var l=t.stateNode;if(null===r&&4&t.flags){r=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&r.focus();break;case"img":c.src&&(r.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var h=d.dehydrated;null!==h&&Zt(h)}}}break;default:throw Error(s(163))}il||512&t.flags&&ml(t)}catch(at){Ic(t,t.return,at)}}if(t===e){cl=null;break}if(null!==(r=t.sibling)){r.return=t.return,cl=r;break}cl=t.return}}function Rl(e){for(;null!==cl;){var t=cl;if(t===e){cl=null;break}var r=t.sibling;if(null!==r){r.return=t.return,cl=r;break}cl=t.return}}function Ll(e){for(;null!==cl;){var t=cl;try{switch(t.tag){case 0:case 11:case 15:var r=t.return;try{pl(4,t)}catch(Lt){Ic(t,r,Lt)}break;case 1:var n=t.stateNode;if("function"===typeof n.componentDidMount){var a=t.return;try{n.componentDidMount()}catch(Lt){Ic(t,a,Lt)}}var s=t.return;try{ml(t)}catch(Lt){Ic(t,s,Lt)}break;case 5:var o=t.return;try{ml(t)}catch(Lt){Ic(t,o,Lt)}}}catch(Lt){Ic(t,t.return,Lt)}if(t===e){cl=null;break}var i=t.sibling;if(null!==i){i.return=t.return,cl=i;break}cl=t.return}}var Al,Il=Math.ceil,Ul=x.ReactCurrentDispatcher,Dl=x.ReactCurrentOwner,zl=x.ReactCurrentBatchConfig,Ml=0,Fl=null,Bl=null,ql=0,Wl=0,Vl=Ia(0),Hl=0,$l=null,Kl=0,Jl=0,Gl=0,Ql=null,Xl=null,Yl=0,Zl=1/0,ec=null,tc=!1,rc=null,nc=null,ac=!1,sc=null,oc=0,ic=0,lc=null,cc=-1,uc=0;function dc(){return 0!==(6&Ml)?Qe():-1!==cc?cc:cc=Qe()}function hc(e){return 0===(1&e.mode)?1:0!==(2&Ml)&&0!==ql?ql&-ql:null!==Ns.transition?(0===uc&&(uc=_t()),uc):0!==(e=Ct)?e:e=void 0===(e=window.event)?16:ir(e.type)}function fc(e,t,r,n){if(50<ic)throw ic=0,lc=null,Error(s(185));Nt(e,r,n),0!==(2&Ml)&&e===Fl||(e===Fl&&(0===(2&Ml)&&(Jl|=r),4===Hl&&yc(e,ql)),pc(e,n),1===r&&0===Ml&&0===(1&t.mode)&&(Zl=Qe()+500,Qa&&Za()))}function pc(e,t){var r=e.callbackNode;!function(e,t){for(var r=e.suspendedLanes,n=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var o=31-it(s),i=1<<o,l=a[o];-1===l?0!==(i&r)&&0===(i&n)||(a[o]=jt(i,t)):l<=t&&(e.expiredLanes|=i),s&=~i}}(e,t);var n=wt(e,e===Fl?ql:0);if(0===n)null!==r&&Ke(r),e.callbackNode=null,e.callbackPriority=0;else if(t=n&-n,e.callbackPriority!==t){if(null!=r&&Ke(r),1===t)0===e.tag?function(e){Qa=!0,Ya(e)}(bc.bind(null,e)):Ya(bc.bind(null,e)),va((function(){0===(6&Ml)&&Za()})),r=null;else{switch(Pt(n)){case 1:r=Ye;break;case 4:r=Ze;break;case 16:default:r=et;break;case 536870912:r=rt}r=Fc(r,mc.bind(null,e))}e.callbackPriority=t,e.callbackNode=r}}function mc(e,t){if(cc=-1,uc=0,0!==(6&Ml))throw Error(s(327));var r=e.callbackNode;if(Lc()&&e.callbackNode!==r)return null;var n=wt(e,e===Fl?ql:0);if(0===n)return null;if(0!==(30&n)||0!==(n&e.expiredLanes)||t)t=Ec(e,n);else{t=n;var a=Ml;Ml|=2;var o=Sc();for(Fl===e&&ql===t||(ec=null,Zl=Qe()+500,kc(e,t));;)try{Pc();break}catch(vt){_c(e,vt)}Ds(),Ul.current=o,Ml=a,null!==Bl?t=0:(Fl=null,ql=0,t=Hl)}if(0!==t){if(2===t&&(0!==(a=kt(e))&&(n=a,t=gc(e,a))),1===t)throw r=$l,kc(e,0),yc(e,n),pc(e,Qe()),r;if(6===t)yc(e,n);else{if(a=e.current.alternate,0===(30&n)&&!function(e){for(var t=e;;){if(16384&t.flags){var r=t.updateQueue;if(null!==r&&null!==(r=r.stores))for(var n=0;n<r.length;n++){var a=r[n],s=a.getSnapshot;a=a.value;try{if(!yn(s(),a))return!1}catch(i){return!1}}}if(r=t.child,16384&t.subtreeFlags&&null!==r)r.return=t,t=r;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=Ec(e,n))&&(0!==(o=kt(e))&&(n=o,t=gc(e,o))),1===t))throw r=$l,kc(e,0),yc(e,n),pc(e,Qe()),r;switch(e.finishedWork=a,e.finishedLanes=n,t){case 0:case 1:throw Error(s(345));case 2:case 5:Rc(e,Xl,ec);break;case 3:if(yc(e,n),(130023424&n)===n&&10<(t=Yl+500-Qe())){if(0!==wt(e,0))break;if(((a=e.suspendedLanes)&n)!==n){dc(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=pa(Rc.bind(null,e,Xl,ec),t);break}Rc(e,Xl,ec);break;case 4:if(yc(e,n),(4194240&n)===n)break;for(t=e.eventTimes,a=-1;0<n;){var i=31-it(n);o=1<<i,(i=t[i])>a&&(a=i),n&=~o}if(n=a,10<(n=(120>(n=Qe()-n)?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*Il(n/1960))-n)){e.timeoutHandle=pa(Rc.bind(null,e,Xl,ec),n);break}Rc(e,Xl,ec);break;default:throw Error(s(329))}}}return pc(e,Qe()),e.callbackNode===r?mc.bind(null,e):null}function gc(e,t){var r=Ql;return e.current.memoizedState.isDehydrated&&(kc(e,t).flags|=256),2!==(e=Ec(e,t))&&(t=Xl,Xl=r,null!==t&&vc(t)),e}function vc(e){null===Xl?Xl=e:Xl.push.apply(Xl,e)}function yc(e,t){for(t&=~Gl,t&=~Jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var r=31-it(t),n=1<<r;e[r]=-1,t&=~n}}function bc(e){if(0!==(6&Ml))throw Error(s(327));Lc();var t=wt(e,0);if(0===(1&t))return pc(e,Qe()),null;var r=Ec(e,t);if(0!==e.tag&&2===r){var n=kt(e);0!==n&&(t=n,r=gc(e,n))}if(1===r)throw r=$l,kc(e,0),yc(e,t),pc(e,Qe()),r;if(6===r)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Rc(e,Xl,ec),pc(e,Qe()),null}function xc(e,t){var r=Ml;Ml|=1;try{return e(t)}finally{0===(Ml=r)&&(Zl=Qe()+500,Qa&&Za())}}function wc(e){null!==sc&&0===sc.tag&&0===(6&Ml)&&Lc();var t=Ml;Ml|=1;var r=zl.transition,n=Ct;try{if(zl.transition=null,Ct=1,e)return e()}finally{Ct=n,zl.transition=r,0===(6&(Ml=t))&&Za()}}function jc(){Wl=Vl.current,Ua(Vl)}function kc(e,t){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;if(-1!==r&&(e.timeoutHandle=-1,ma(r)),null!==Bl)for(r=Bl.return;null!==r;){var n=r;switch(hs(n),n.tag){case 1:null!==(n=n.type.childContextTypes)&&void 0!==n&&Va();break;case 3:io(),Ua(Fa),Ua(Ma),po();break;case 5:co(n);break;case 4:io();break;case 13:case 19:Ua(uo);break;case 10:zs(n.type._context);break;case 22:case 23:jc()}r=r.return}if(Fl=e,Bl=e=Vc(e.current,null),ql=Wl=t,Hl=0,$l=null,Gl=Jl=Kl=0,Xl=Ql=null,null!==qs){for(t=0;t<qs.length;t++)if(null!==(n=(r=qs[t]).interleaved)){r.interleaved=null;var a=n.next,s=r.pending;if(null!==s){var o=s.next;s.next=a,n.next=o}r.pending=n}qs=null}return e}function _c(e,t){for(;;){var r=Bl;try{if(Ds(),mo.current=ci,wo){for(var n=yo.memoizedState;null!==n;){var a=n.queue;null!==a&&(a.pending=null),n=n.next}wo=!1}if(vo=0,xo=bo=yo=null,jo=!1,ko=0,Dl.current=null,null===r||null===r.return){Hl=1,$l=t,Bl=null;break}e:{var o=e,i=r.return,l=r,c=t;if(t=ql,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=l,h=d.tag;if(0===(1&d.mode)&&(0===h||11===h||15===h)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ei(i);if(null!==p){p.flags&=-257,Ci(p,i,l,0,t),1&p.mode&&Ni(o,u,t),c=u;var m=(t=p).updateQueue;if(null===m){var g=new Set;g.add(c),t.updateQueue=g}else m.add(c);break e}if(0===(1&t)){Ni(o,u,t),Nc();break e}c=Error(s(426))}else if(ms&&1&l.mode){var v=Ei(i);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),Ci(v,i,l,0,t),Ss(xi(c,l));break e}}o=c=xi(c,l),4!==Hl&&(Hl=2),null===Ql?Ql=[o]:Ql.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t,Ys(o,_i(0,c,t));break e;case 1:l=c;var y=o.type,b=o.stateNode;if(0===(128&o.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===nc||!nc.has(b)))){o.flags|=65536,t&=-t,o.lanes|=t,Ys(o,Si(o,l,t));break e}}o=o.return}while(null!==o)}Tc(r)}catch(x){t=x,Bl===r&&null!==r&&(Bl=r=r.return);continue}break}}function Sc(){var e=Ul.current;return Ul.current=ci,null===e?ci:e}function Nc(){0!==Hl&&3!==Hl&&2!==Hl||(Hl=4),null===Fl||0===(268435455&Kl)&&0===(268435455&Jl)||yc(Fl,ql)}function Ec(e,t){var r=Ml;Ml|=2;var n=Sc();for(Fl===e&&ql===t||(ec=null,kc(e,t));;)try{Cc();break}catch(a){_c(e,a)}if(Ds(),Ml=r,Ul.current=n,null!==Bl)throw Error(s(261));return Fl=null,ql=0,Hl}function Cc(){for(;null!==Bl;)Oc(Bl)}function Pc(){for(;null!==Bl&&!Je();)Oc(Bl)}function Oc(e){var t=Al(e.alternate,e,Wl);e.memoizedProps=e.pendingProps,null===t?Tc(e):Bl=t,Dl.current=null}function Tc(e){var t=e;do{var r=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(r=al(r,t,Wl)))return void(Bl=r)}else{if(null!==(r=sl(r,t)))return r.flags&=32767,void(Bl=r);if(null===e)return Hl=6,void(Bl=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Bl=t);Bl=t=e}while(null!==t);0===Hl&&(Hl=5)}function Rc(e,t,r){var n=Ct,a=zl.transition;try{zl.transition=null,Ct=1,function(e,t,r,n){do{Lc()}while(null!==sc);if(0!==(6&Ml))throw Error(s(327));r=e.finishedWork;var a=e.finishedLanes;if(null===r)return null;if(e.finishedWork=null,e.finishedLanes=0,r===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var o=r.lanes|r.childLanes;if(function(e,t){var r=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var n=e.eventTimes;for(e=e.expirationTimes;0<r;){var a=31-it(r),s=1<<a;t[a]=0,n[a]=-1,e[a]=-1,r&=~s}}(e,o),e===Fl&&(Bl=Fl=null,ql=0),0===(2064&r.subtreeFlags)&&0===(2064&r.flags)||ac||(ac=!0,Fc(et,(function(){return Lc(),null}))),o=0!==(15990&r.flags),0!==(15990&r.subtreeFlags)||o){o=zl.transition,zl.transition=null;var i=Ct;Ct=1;var l=Ml;Ml|=4,Dl.current=null,function(e,t){if(da=tr,_n(e=kn())){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else e:{var n=(r=(r=e.ownerDocument)&&r.defaultView||window).getSelection&&r.getSelection();if(n&&0!==n.rangeCount){r=n.anchorNode;var a=n.anchorOffset,o=n.focusNode;n=n.focusOffset;try{r.nodeType,o.nodeType}catch(zt){r=null;break e}var i=0,l=-1,c=-1,u=0,d=0,h=e,f=null;t:for(;;){for(var p;h!==r||0!==a&&3!==h.nodeType||(l=i+a),h!==o||0!==n&&3!==h.nodeType||(c=i+n),3===h.nodeType&&(i+=h.nodeValue.length),null!==(p=h.firstChild);)f=h,h=p;for(;;){if(h===e)break t;if(f===r&&++u===a&&(l=i),f===o&&++d===n&&(c=i),null!==(p=h.nextSibling))break;f=(h=f).parentNode}h=p}r=-1===l||-1===c?null:{start:l,end:c}}else r=null}r=r||{start:0,end:0}}else r=null;for(ha={focusedElem:e,selectionRange:r},tr=!1,cl=t;null!==cl;)if(e=(t=cl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,cl=e;else for(;null!==cl;){t=cl;try{var m=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==m){var g=m.memoizedProps,v=m.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?g:fi(t.type,g),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var x=t.stateNode.containerInfo;1===x.nodeType?x.textContent="":9===x.nodeType&&x.documentElement&&x.removeChild(x.documentElement);break;default:throw Error(s(163))}}catch(zt){Ic(t,t.return,zt)}if(null!==(e=t.sibling)){e.return=t.return,cl=e;break}cl=t.return}m=hl,hl=!1}(e,r),El(r,e),Sn(ha),tr=!!da,ha=da=null,e.current=r,Pl(r,e,a),Ge(),Ml=l,Ct=i,zl.transition=o}else e.current=r;if(ac&&(ac=!1,sc=e,oc=a),o=e.pendingLanes,0===o&&(nc=null),function(e){if(ot&&"function"===typeof ot.onCommitFiberRoot)try{ot.onCommitFiberRoot(nt,e,void 0,128===(128&e.current.flags))}catch(t){}}(r.stateNode),pc(e,Qe()),null!==t)for(n=e.onRecoverableError,r=0;r<t.length;r++)a=t[r],n(a.value,{componentStack:a.stack,digest:a.digest});if(tc)throw tc=!1,e=rc,rc=null,e;0!==(1&oc)&&0!==e.tag&&Lc(),o=e.pendingLanes,0!==(1&o)?e===lc?ic++:(ic=0,lc=e):ic=0,Za()}(e,t,r,n)}finally{zl.transition=a,Ct=n}return null}function Lc(){if(null!==sc){var e=Pt(oc),t=zl.transition,r=Ct;try{if(zl.transition=null,Ct=16>e?16:e,null===sc)var n=!1;else{if(e=sc,sc=null,oc=0,0!==(6&Ml))throw Error(s(331));var a=Ml;for(Ml|=4,cl=e.current;null!==cl;){var o=cl,i=o.child;if(0!==(16&cl.flags)){var l=o.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(cl=u;null!==cl;){var d=cl;switch(d.tag){case 0:case 11:case 15:fl(8,d,o)}var h=d.child;if(null!==h)h.return=d,cl=h;else for(;null!==cl;){var f=(d=cl).sibling,p=d.return;if(gl(d),d===u){cl=null;break}if(null!==f){f.return=p,cl=f;break}cl=p}}}var m=o.alternate;if(null!==m){var g=m.child;if(null!==g){m.child=null;do{var v=g.sibling;g.sibling=null,g=v}while(null!==g)}}cl=o}}if(0!==(2064&o.subtreeFlags)&&null!==i)i.return=o,cl=i;else e:for(;null!==cl;){if(0!==(2048&(o=cl).flags))switch(o.tag){case 0:case 11:case 15:fl(9,o,o.return)}var y=o.sibling;if(null!==y){y.return=o.return,cl=y;break e}cl=o.return}}var b=e.current;for(cl=b;null!==cl;){var x=(i=cl).child;if(0!==(2064&i.subtreeFlags)&&null!==x)x.return=i,cl=x;else e:for(i=b;null!==cl;){if(0!==(2048&(l=cl).flags))try{switch(l.tag){case 0:case 11:case 15:pl(9,l)}}catch(j){Ic(l,l.return,j)}if(l===i){cl=null;break e}var w=l.sibling;if(null!==w){w.return=l.return,cl=w;break e}cl=l.return}}if(Ml=a,Za(),ot&&"function"===typeof ot.onPostCommitFiberRoot)try{ot.onPostCommitFiberRoot(nt,e)}catch(j){}n=!0}return n}finally{Ct=r,zl.transition=t}}return!1}function Ac(e,t,r){e=Qs(e,t=_i(0,t=xi(r,t),1),1),t=dc(),null!==e&&(Nt(e,1,t),pc(e,t))}function Ic(e,t,r){if(3===e.tag)Ac(e,e,r);else for(;null!==t;){if(3===t.tag){Ac(t,e,r);break}if(1===t.tag){var n=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof n.componentDidCatch&&(null===nc||!nc.has(n))){t=Qs(t,e=Si(t,e=xi(r,e),1),1),e=dc(),null!==t&&(Nt(t,1,e),pc(t,e));break}}t=t.return}}function Uc(e,t,r){var n=e.pingCache;null!==n&&n.delete(t),t=dc(),e.pingedLanes|=e.suspendedLanes&r,Fl===e&&(ql&r)===r&&(4===Hl||3===Hl&&(130023424&ql)===ql&&500>Qe()-Yl?kc(e,0):Gl|=r),pc(e,t)}function Dc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=pt,0===(130023424&(pt<<=1))&&(pt=4194304)));var r=dc();null!==(e=Hs(e,t))&&(Nt(e,t,r),pc(e,r))}function zc(e){var t=e.memoizedState,r=0;null!==t&&(r=t.retryLane),Dc(e,r)}function Mc(e,t){var r=0;switch(e.tag){case 13:var n=e.stateNode,a=e.memoizedState;null!==a&&(r=a.retryLane);break;case 19:n=e.stateNode;break;default:throw Error(s(314))}null!==n&&n.delete(t),Dc(e,r)}function Fc(e,t){return $e(e,t)}function Bc(e,t,r,n){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function qc(e,t,r,n){return new Bc(e,t,r,n)}function Wc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Vc(e,t){var r=e.alternate;return null===r?((r=qc(e.tag,t,e.key,e.mode)).elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=t,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=14680064&e.flags,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,t=e.dependencies,r.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r}function Hc(e,t,r,n,a,o){var i=2;if(n=e,"function"===typeof e)Wc(e)&&(i=1);else if("string"===typeof e)i=5;else e:switch(e){case k:return $c(r.children,a,o,t);case _:i=8,a|=8;break;case S:return(e=qc(12,r,t,2|a)).elementType=S,e.lanes=o,e;case P:return(e=qc(13,r,t,a)).elementType=P,e.lanes=o,e;case O:return(e=qc(19,r,t,a)).elementType=O,e.lanes=o,e;case L:return Kc(r,a,o,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case N:i=10;break e;case E:i=9;break e;case C:i=11;break e;case T:i=14;break e;case R:i=16,n=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=qc(i,r,t,a)).elementType=e,t.type=n,t.lanes=o,t}function $c(e,t,r,n){return(e=qc(7,e,n,t)).lanes=r,e}function Kc(e,t,r,n){return(e=qc(22,e,n,t)).elementType=L,e.lanes=r,e.stateNode={isHidden:!1},e}function Jc(e,t,r){return(e=qc(6,e,null,t)).lanes=r,e}function Gc(e,t,r){return(t=qc(4,null!==e.children?e.children:[],e.key,t)).lanes=r,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Qc(e,t,r,n,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=St(0),this.expirationTimes=St(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=St(0),this.identifierPrefix=n,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Xc(e,t,r,n,a,s,o,i,l){return e=new Qc(e,t,r,i,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=qc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ks(s),e}function Yc(e){if(!e)return za;e:{if(Be(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Wa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var r=e.type;if(Wa(r))return $a(e,r,t)}return t}function Zc(e,t,r,n,a,s,o,i,l){return(e=Xc(r,n,!0,e,0,s,0,i,l)).context=Yc(null),r=e.current,(s=Gs(n=dc(),a=hc(r))).callback=void 0!==t&&null!==t?t:null,Qs(r,s,a),e.current.lanes=a,Nt(e,a,n),pc(e,n),e}function eu(e,t,r,n){var a=t.current,s=dc(),o=hc(a);return r=Yc(r),null===t.context?t.context=r:t.pendingContext=r,(t=Gs(s,o)).payload={element:e},null!==(n=void 0===n?null:n)&&(t.callback=n),null!==(e=Qs(a,t,o))&&(fc(e,a,o,s),Xs(e,a,o)),o}function tu(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function ru(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var r=e.retryLane;e.retryLane=0!==r&&r<t?r:t}}function nu(e,t){ru(e,t),(e=e.alternate)&&ru(e,t)}Al=function(e,t,r){if(null!==e)if(e.memoizedProps!==t.pendingProps||Fa.current)Oi=!0;else{if(0===(e.lanes&r)&&0===(128&t.flags))return Oi=!1,function(e,t,r){switch(t.tag){case 3:Fi(t),_s();break;case 5:lo(t);break;case 1:Wa(t.type)&&Ka(t);break;case 4:oo(t,t.stateNode.containerInfo);break;case 10:var n=t.type._context,a=t.memoizedProps.value;Da(Ls,n._currentValue),n._currentValue=a;break;case 13:if(null!==(n=t.memoizedState))return null!==n.dehydrated?(Da(uo,1&uo.current),t.flags|=128,null):0!==(r&t.child.childLanes)?Ji(e,t,r):(Da(uo,1&uo.current),null!==(e=tl(e,t,r))?e.sibling:null);Da(uo,1&uo.current);break;case 19:if(n=0!==(r&t.childLanes),0!==(128&e.flags)){if(n)return Zi(e,t,r);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),Da(uo,uo.current),n)break;return null;case 22:case 23:return t.lanes=0,Ii(e,t,r)}return tl(e,t,r)}(e,t,r);Oi=0!==(131072&e.flags)}else Oi=!1,ms&&0!==(1048576&t.flags)&&us(t,ns,t.index);switch(t.lanes=0,t.tag){case 2:var n=t.type;el(e,t),e=t.pendingProps;var a=qa(t,Ma.current);Fs(t,r),a=Eo(null,t,n,e,a,r);var o=Co();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Wa(n)?(o=!0,Ka(t)):o=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ks(t),a.updater=mi,t.stateNode=a,a._reactInternals=t,bi(t,n,e,r),t=Mi(null,t,n,!0,o,r)):(t.tag=0,ms&&o&&ds(t),Ti(null,t,a,r),t=t.child),t;case 16:n=t.elementType;e:{switch(el(e,t),e=t.pendingProps,n=(a=n._init)(n._payload),t.type=n,a=t.tag=function(e){if("function"===typeof e)return Wc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===T)return 14}return 2}(n),e=fi(n,e),a){case 0:t=Di(null,t,n,e,r);break e;case 1:t=zi(null,t,n,e,r);break e;case 11:t=Ri(null,t,n,e,r);break e;case 14:t=Li(null,t,n,fi(n.type,e),r);break e}throw Error(s(306,n,""))}return t;case 0:return n=t.type,a=t.pendingProps,Di(e,t,n,a=t.elementType===n?a:fi(n,a),r);case 1:return n=t.type,a=t.pendingProps,zi(e,t,n,a=t.elementType===n?a:fi(n,a),r);case 3:e:{if(Fi(t),null===e)throw Error(s(387));n=t.pendingProps,a=(o=t.memoizedState).element,Js(e,t),Zs(t,n,null,r);var i=t.memoizedState;if(n=i.element,o.isDehydrated){if(o={element:n,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,256&t.flags){t=Bi(e,t,n,r,a=xi(Error(s(423)),t));break e}if(n!==a){t=Bi(e,t,n,r,a=xi(Error(s(424)),t));break e}for(ps=xa(t.stateNode.containerInfo.firstChild),fs=t,ms=!0,gs=null,r=Rs(t,null,n,r),t.child=r;r;)r.flags=-3&r.flags|4096,r=r.sibling}else{if(_s(),n===a){t=tl(e,t,r);break e}Ti(e,t,n,r)}t=t.child}return t;case 5:return lo(t),null===e&&xs(t),n=t.type,a=t.pendingProps,o=null!==e?e.memoizedProps:null,i=a.children,fa(n,a)?i=null:null!==o&&fa(n,o)&&(t.flags|=32),Ui(e,t),Ti(e,t,i,r),t.child;case 6:return null===e&&xs(t),null;case 13:return Ji(e,t,r);case 4:return oo(t,t.stateNode.containerInfo),n=t.pendingProps,null===e?t.child=Ts(t,null,n,r):Ti(e,t,n,r),t.child;case 11:return n=t.type,a=t.pendingProps,Ri(e,t,n,a=t.elementType===n?a:fi(n,a),r);case 7:return Ti(e,t,t.pendingProps,r),t.child;case 8:case 12:return Ti(e,t,t.pendingProps.children,r),t.child;case 10:e:{if(n=t.type._context,a=t.pendingProps,o=t.memoizedProps,i=a.value,Da(Ls,n._currentValue),n._currentValue=i,null!==o)if(yn(o.value,i)){if(o.children===a.children&&!Fa.current){t=tl(e,t,r);break e}}else for(null!==(o=t.child)&&(o.return=t);null!==o;){var l=o.dependencies;if(null!==l){i=o.child;for(var c=l.firstContext;null!==c;){if(c.context===n){if(1===o.tag){(c=Gs(-1,r&-r)).tag=2;var u=o.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}o.lanes|=r,null!==(c=o.alternate)&&(c.lanes|=r),Ms(o.return,r,t),l.lanes|=r;break}c=c.next}}else if(10===o.tag)i=o.type===t.type?null:o.child;else if(18===o.tag){if(null===(i=o.return))throw Error(s(341));i.lanes|=r,null!==(l=i.alternate)&&(l.lanes|=r),Ms(i,r,t),i=o.sibling}else i=o.child;if(null!==i)i.return=o;else for(i=o;null!==i;){if(i===t){i=null;break}if(null!==(o=i.sibling)){o.return=i.return,i=o;break}i=i.return}o=i}Ti(e,t,a.children,r),t=t.child}return t;case 9:return a=t.type,n=t.pendingProps.children,Fs(t,r),n=n(a=Bs(a)),t.flags|=1,Ti(e,t,n,r),t.child;case 14:return a=fi(n=t.type,t.pendingProps),Li(e,t,n,a=fi(n.type,a),r);case 15:return Ai(e,t,t.type,t.pendingProps,r);case 17:return n=t.type,a=t.pendingProps,a=t.elementType===n?a:fi(n,a),el(e,t),t.tag=1,Wa(n)?(e=!0,Ka(t)):e=!1,Fs(t,r),vi(t,n,a),bi(t,n,a,r),Mi(null,t,n,!0,e,r);case 19:return Zi(e,t,r);case 22:return Ii(e,t,r)}throw Error(s(156,t.tag))};var au="function"===typeof reportError?reportError:function(e){console.error(e)};function su(e){this._internalRoot=e}function ou(e){this._internalRoot=e}function iu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function lu(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function cu(){}function uu(e,t,r,n,a){var s=r._reactRootContainer;if(s){var o=s;if("function"===typeof a){var i=a;a=function(){var e=tu(o);i.call(e)}}eu(t,o,e,a)}else o=function(e,t,r,n,a){if(a){if("function"===typeof n){var s=n;n=function(){var e=tu(o);s.call(e)}}var o=Zc(t,n,e,0,null,!1,0,"",cu);return e._reactRootContainer=o,e[Sa]=o.current,Zn(8===e.nodeType?e.parentNode:e),wc(),o}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof n){var i=n;n=function(){var e=tu(l);i.call(e)}}var l=Xc(e,0,!1,null,0,!1,0,"",cu);return e._reactRootContainer=l,e[Sa]=l.current,Zn(8===e.nodeType?e.parentNode:e),wc((function(){eu(t,l,r,n)})),l}(r,t,e,a,n);return tu(o)}ou.prototype.render=su.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));eu(e,t,null,null)},ou.prototype.unmount=su.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;wc((function(){eu(null,e,null,null)})),t[Sa]=null}},ou.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var r=0;r<Vt.length&&0!==t&&t<Vt[r].priority;r++);Vt.splice(r,0,e),0===r&&Jt(e)}},Ot=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var r=yt(t.pendingLanes);0!==r&&(Et(t,1|r),pc(t,Qe()),0===(6&Ml)&&(Zl=Qe()+500,Za()))}break;case 13:wc((function(){var t=Hs(e,1);if(null!==t){var r=dc();fc(t,e,1,r)}})),nu(e,1)}},Tt=function(e){if(13===e.tag){var t=Hs(e,134217728);if(null!==t)fc(t,e,134217728,dc());nu(e,134217728)}},Rt=function(e){if(13===e.tag){var t=hc(e),r=Hs(e,t);if(null!==r)fc(r,e,t,dc());nu(e,t)}},At=function(){return Ct},It=function(e,t){var r=Ct;try{return Ct=e,t()}finally{Ct=r}},we=function(e,t,r){switch(t){case"input":if(Y(e,r),t=r.name,"radio"===r.type&&null!=t){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<r.length;t++){var n=r[t];if(n!==e&&n.form===e.form){var a=Ra(n);if(!a)throw Error(s(90));K(n),Y(n,a)}}}break;case"textarea":se(e,r);break;case"select":null!=(t=r.value)&&re(e,!!r.multiple,t,!1)}},Ee=xc,Ce=wc;var du={usingClientEntryPoint:!1,Events:[Oa,Ta,Ra,Se,Ne,xc]},hu={findFiberByHostInstance:Pa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},fu={bundleType:hu.bundleType,version:hu.version,rendererPackageName:hu.rendererPackageName,rendererConfig:hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:x.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=Ve(e))?null:e.stateNode},findFiberByHostInstance:hu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var pu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!pu.isDisabled&&pu.supportsFiber)try{nt=pu.inject(fu),ot=pu}catch(ct){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=du,t.createPortal=function(e,t){var r=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!iu(t))throw Error(s(200));return function(e,t,r){var n=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==n?null:""+n,children:e,containerInfo:t,implementation:r}}(e,t,null,r)},t.createRoot=function(e,t){if(!iu(e))throw Error(s(299));var r=!1,n="",a=au;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(r=!0),void 0!==t.identifierPrefix&&(n=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Xc(e,1,!1,null,0,r,0,n,a),e[Sa]=t.current,Zn(8===e.nodeType?e.parentNode:e),new su(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=Ve(t))?null:e.stateNode},t.flushSync=function(e){return wc(e)},t.hydrate=function(e,t,r){if(!lu(t))throw Error(s(200));return uu(null,e,t,!0,r)},t.hydrateRoot=function(e,t,r){if(!iu(e))throw Error(s(405));var n=null!=r&&r.hydratedSources||null,a=!1,o="",i=au;if(null!==r&&void 0!==r&&(!0===r.unstable_strictMode&&(a=!0),void 0!==r.identifierPrefix&&(o=r.identifierPrefix),void 0!==r.onRecoverableError&&(i=r.onRecoverableError)),t=Zc(t,null,e,1,null!=r?r:null,a,0,o,i),e[Sa]=t.current,Zn(e),n)for(e=0;e<n.length;e++)a=(a=(r=n[e])._getVersion)(r._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[r,a]:t.mutableSourceEagerHydrationData.push(r,a);return new ou(t)},t.render=function(e,t,r){if(!lu(t))throw Error(s(200));return uu(null,e,t,!1,r)},t.unmountComponentAtNode=function(e){if(!lu(e))throw Error(s(40));return!!e._reactRootContainer&&(wc((function(){uu(null,null,e,!1,(function(){e._reactRootContainer=null,e[Sa]=null}))})),!0)},t.unstable_batchedUpdates=xc,t.unstable_renderSubtreeIntoContainer=function(e,t,r,n){if(!lu(r))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return uu(e,t,r,!1,n)},t.version="18.3.1-next-f1338f8080-20240426"},736:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(374));class s extends a.default{eq(e,t){return this.url.searchParams.append(e,"eq.".concat(t)),this}neq(e,t){return this.url.searchParams.append(e,"neq.".concat(t)),this}gt(e,t){return this.url.searchParams.append(e,"gt.".concat(t)),this}gte(e,t){return this.url.searchParams.append(e,"gte.".concat(t)),this}lt(e,t){return this.url.searchParams.append(e,"lt.".concat(t)),this}lte(e,t){return this.url.searchParams.append(e,"lte.".concat(t)),this}like(e,t){return this.url.searchParams.append(e,"like.".concat(t)),this}likeAllOf(e,t){return this.url.searchParams.append(e,"like(all).{".concat(t.join(","),"}")),this}likeAnyOf(e,t){return this.url.searchParams.append(e,"like(any).{".concat(t.join(","),"}")),this}ilike(e,t){return this.url.searchParams.append(e,"ilike.".concat(t)),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,"ilike(all).{".concat(t.join(","),"}")),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,"ilike(any).{".concat(t.join(","),"}")),this}is(e,t){return this.url.searchParams.append(e,"is.".concat(t)),this}in(e,t){const r=Array.from(new Set(t)).map((e=>"string"===typeof e&&new RegExp("[,()]").test(e)?'"'.concat(e,'"'):"".concat(e))).join(",");return this.url.searchParams.append(e,"in.(".concat(r,")")),this}contains(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cs.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cs.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cs.".concat(JSON.stringify(t))),this}containedBy(e,t){return"string"===typeof t?this.url.searchParams.append(e,"cd.".concat(t)):Array.isArray(t)?this.url.searchParams.append(e,"cd.{".concat(t.join(","),"}")):this.url.searchParams.append(e,"cd.".concat(JSON.stringify(t))),this}rangeGt(e,t){return this.url.searchParams.append(e,"sr.".concat(t)),this}rangeGte(e,t){return this.url.searchParams.append(e,"nxl.".concat(t)),this}rangeLt(e,t){return this.url.searchParams.append(e,"sl.".concat(t)),this}rangeLte(e,t){return this.url.searchParams.append(e,"nxr.".concat(t)),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,"adj.".concat(t)),this}overlaps(e,t){return"string"===typeof t?this.url.searchParams.append(e,"ov.".concat(t)):this.url.searchParams.append(e,"ov.{".concat(t.join(","),"}")),this}textSearch(e,t){let{config:r,type:n}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a="";"plain"===n?a="pl":"phrase"===n?a="ph":"websearch"===n&&(a="w");const s=void 0===r?"":"(".concat(r,")");return this.url.searchParams.append(e,"".concat(a,"fts").concat(s,".").concat(t)),this}match(e){return Object.entries(e).forEach((e=>{let[t,r]=e;this.url.searchParams.append(t,"eq.".concat(r))})),this}not(e,t,r){return this.url.searchParams.append(e,"not.".concat(t,".").concat(r)),this}or(e){let{foreignTable:t,referencedTable:r=t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=r?"".concat(r,".or"):"or";return this.url.searchParams.append(n,"(".concat(e,")")),this}filter(e,t,r){return this.url.searchParams.append(e,"".concat(t,".").concat(r)),this}}t.default=s},745:(e,t,r)=>{Object.defineProperty(t,"__esModule",{value:!0}),t.DEFAULT_HEADERS=void 0;const n=r(400);t.DEFAULT_HEADERS={"X-Client-Info":"postgrest-js/".concat(n.version)}},763:(e,t,r)=>{e.exports=r(983)},829:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});const a=n(r(736));t.default=class{constructor(e,t){let{headers:r={},schema:n,fetch:a}=t;this.url=e,this.headers=r,this.schema=n,this.fetch=a}select(e){let{head:t=!1,count:r}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=t?"HEAD":"GET";let s=!1;const o=(null!==e&&void 0!==e?e:"*").split("").map((e=>/\s/.test(e)&&!s?"":('"'===e&&(s=!s),e))).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer="count=".concat(r)),new a.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e){let{count:t,defaultToNull:r=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=[];if(this.headers.Prefer&&n.push(this.headers.Prefer),t&&n.push("count=".concat(t)),r||n.push("missing=default"),this.headers.Prefer=n.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e){let{onConflict:t,ignoreDuplicates:r=!1,count:n,defaultToNull:s=!0}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const o=["resolution=".concat(r?"ignore":"merge","-duplicates")];if(void 0!==t&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),n&&o.push("count=".concat(n)),s||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const t=e.reduce(((e,t)=>e.concat(Object.keys(t))),[]);if(t.length>0){const e=[...new Set(t)].map((e=>'"'.concat(e,'"')));this.url.searchParams.set("columns",e.join(","))}}return new a.default({method:"POST",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e){let{count:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const r=[];return this.headers.Prefer&&r.push(this.headers.Prefer),t&&r.push("count=".concat(t)),this.headers.Prefer=r.join(","),new a.default({method:"PATCH",url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete(){let{count:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=[];return e&&t.push("count=".concat(e)),this.headers.Prefer&&t.unshift(this.headers.Prefer),this.headers.Prefer=t.join(","),new a.default({method:"DELETE",url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}}},853:(e,t,r)=>{e.exports=r(234)},950:(e,t,r)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=r(730)},980:function(e,t,r){var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PostgrestError=t.PostgrestBuilder=t.PostgrestTransformBuilder=t.PostgrestFilterBuilder=t.PostgrestQueryBuilder=t.PostgrestClient=void 0;const a=n(r(210));t.PostgrestClient=a.default;const s=n(r(829));t.PostgrestQueryBuilder=s.default;const o=n(r(736));t.PostgrestFilterBuilder=o.default;const i=n(r(374));t.PostgrestTransformBuilder=i.default;const l=n(r(286));t.PostgrestBuilder=l.default;const c=n(r(611));t.PostgrestError=c.default,t.default={PostgrestClient:a.default,PostgrestQueryBuilder:s.default,PostgrestFilterBuilder:o.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:l.default,PostgrestError:c.default}},983:(e,t)=>{var r="function"===typeof Symbol&&Symbol.for,n=r?Symbol.for("react.element"):60103,a=r?Symbol.for("react.portal"):60106,s=r?Symbol.for("react.fragment"):60107,o=r?Symbol.for("react.strict_mode"):60108,i=r?Symbol.for("react.profiler"):60114,l=r?Symbol.for("react.provider"):60109,c=r?Symbol.for("react.context"):60110,u=r?Symbol.for("react.async_mode"):60111,d=r?Symbol.for("react.concurrent_mode"):60111,h=r?Symbol.for("react.forward_ref"):60112,f=r?Symbol.for("react.suspense"):60113,p=r?Symbol.for("react.suspense_list"):60120,m=r?Symbol.for("react.memo"):60115,g=r?Symbol.for("react.lazy"):60116,v=r?Symbol.for("react.block"):60121,y=r?Symbol.for("react.fundamental"):60117,b=r?Symbol.for("react.responder"):60118,x=r?Symbol.for("react.scope"):60119;function w(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case n:switch(e=e.type){case u:case d:case s:case i:case o:case f:return e;default:switch(e=e&&e.$$typeof){case c:case h:case g:case m:case l:return e;default:return t}}case a:return t}}}function j(e){return w(e)===d}t.AsyncMode=u,t.ConcurrentMode=d,t.ContextConsumer=c,t.ContextProvider=l,t.Element=n,t.ForwardRef=h,t.Fragment=s,t.Lazy=g,t.Memo=m,t.Portal=a,t.Profiler=i,t.StrictMode=o,t.Suspense=f,t.isAsyncMode=function(e){return j(e)||w(e)===u},t.isConcurrentMode=j,t.isContextConsumer=function(e){return w(e)===c},t.isContextProvider=function(e){return w(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===n},t.isForwardRef=function(e){return w(e)===h},t.isFragment=function(e){return w(e)===s},t.isLazy=function(e){return w(e)===g},t.isMemo=function(e){return w(e)===m},t.isPortal=function(e){return w(e)===a},t.isProfiler=function(e){return w(e)===i},t.isStrictMode=function(e){return w(e)===o},t.isSuspense=function(e){return w(e)===f},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===d||e===i||e===o||e===f||e===p||"object"===typeof e&&null!==e&&(e.$$typeof===g||e.$$typeof===m||e.$$typeof===l||e.$$typeof===c||e.$$typeof===h||e.$$typeof===y||e.$$typeof===b||e.$$typeof===x||e.$$typeof===v)},t.typeOf=w}},t={};function r(n){var a=t[n];if(void 0!==a)return a.exports;var s=t[n]={exports:{}};return e[n].call(s.exports,s,s.exports,r),s.exports}r.m=e,(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;r.t=function(n,a){if(1&a&&(n=this(n)),8&a)return n;if("object"===typeof n&&n){if(4&a&&n.__esModule)return n;if(16&a&&"function"===typeof n.then)return n}var s=Object.create(null);r.r(s);var o={};e=e||[null,t({}),t([]),t(t)];for(var i=2&a&&n;"object"==typeof i&&!~e.indexOf(i);i=t(i))Object.getOwnPropertyNames(i).forEach((e=>o[e]=()=>n[e]));return o.default=()=>n,r.d(s,o),s}})(),r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,n)=>(r.f[n](e,t),t)),[])),r.u=e=>"static/js/"+e+".0d2cbbc7.chunk.js",r.miniCssF=e=>{},r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={},t="ai-lms-frontend:";r.l=(n,a,s,o)=>{if(e[n])e[n].push(a);else{var i,l;if(void 0!==s)for(var c=document.getElementsByTagName("script"),u=0;u<c.length;u++){var d=c[u];if(d.getAttribute("src")==n||d.getAttribute("data-webpack")==t+s){i=d;break}}i||(l=!0,(i=document.createElement("script")).charset="utf-8",i.timeout=120,r.nc&&i.setAttribute("nonce",r.nc),i.setAttribute("data-webpack",t+s),i.src=n),e[n]=[a];var h=(t,r)=>{i.onerror=i.onload=null,clearTimeout(f);var a=e[n];if(delete e[n],i.parentNode&&i.parentNode.removeChild(i),a&&a.forEach((e=>e(r))),t)return t(r)},f=setTimeout(h.bind(null,void 0,{type:"timeout",target:i}),12e4);i.onerror=h.bind(null,i.onerror),i.onload=h.bind(null,i.onload),l&&document.head.appendChild(i)}}})(),r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.p="/",(()=>{var e={792:0};r.f.j=(t,n)=>{var a=r.o(e,t)?e[t]:void 0;if(0!==a)if(a)n.push(a[2]);else{var s=new Promise(((r,n)=>a=e[t]=[r,n]));n.push(a[2]=s);var o=r.p+r.u(t),i=new Error;r.l(o,(n=>{if(r.o(e,t)&&(0!==(a=e[t])&&(e[t]=void 0),a)){var s=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;i.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",i.name="ChunkLoadError",i.type=s,i.request=o,a[1](i)}}),"chunk-"+t,t)}};var t=(t,n)=>{var a,s,o=n[0],i=n[1],l=n[2],c=0;if(o.some((t=>0!==e[t]))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)l(r)}for(t&&t(n);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0},n=self.webpackChunkai_lms_frontend=self.webpackChunkai_lms_frontend||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var n={};r.r(n),r.d(n,{hasBrowserEnv:()=>na,hasStandardBrowserEnv:()=>sa,hasStandardBrowserWebWorkerEnv:()=>oa,navigator:()=>aa,origin:()=>ia});var a=r(43),s=r.t(a,2),o=r(391),i=r(461),l=r(443),c=r(950),u=r.t(c,2);let d=function(e){e()};const h=()=>d,f=Symbol.for("react-redux-context"),p="undefined"!==typeof globalThis?globalThis:{};function m(){var e;if(!a.createContext)return{};const t=null!=(e=p[f])?e:p[f]=new Map;let r=t.get(a.createContext);return r||(r=a.createContext(null),t.set(a.createContext,r)),r}const g=m();function v(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;return function(){return(0,a.useContext)(e)}}const y=v();let b=()=>{throw new Error("uSES not initialized!")};const x=(e,t)=>e===t;function w(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;const t=e===g?y:v(e);return function(e){let r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{equalityFn:n=x,stabilityCheck:s,noopCheck:o}="function"===typeof r?{equalityFn:r}:r;const{store:i,subscription:l,getServerState:c,stabilityCheck:u,noopCheck:d}=t(),h=((0,a.useRef)(!0),(0,a.useCallback)({[e.name]:t=>e(t)}[e.name],[e,u,s])),f=b(l.addNestedSub,i.getState,c||i.getState,h,n);return(0,a.useDebugValue)(f),f}}const j=w();r(219),r(706);const k={notify(){},get:()=>[]};function _(e,t){let r,n=k,a=0,s=!1;function o(){c.onStateChange&&c.onStateChange()}function i(){a++,r||(r=t?t.addNestedSub(o):e.subscribe(o),n=function(){const e=h();let t=null,r=null;return{clear(){t=null,r=null},notify(){e((()=>{let e=t;for(;e;)e.callback(),e=e.next}))},get(){let e=[],r=t;for(;r;)e.push(r),r=r.next;return e},subscribe(e){let n=!0,a=r={callback:e,next:null,prev:r};return a.prev?a.prev.next=a:t=a,function(){n&&null!==t&&(n=!1,a.next?a.next.prev=a.prev:r=a.prev,a.prev?a.prev.next=a.next:t=a.next)}}}}())}function l(){a--,r&&0===a&&(r(),r=void 0,n.clear(),n=k)}const c={addNestedSub:function(e){i();const t=n.subscribe(e);let r=!1;return()=>{r||(r=!0,t(),l())}},notifyNestedSubs:function(){n.notify()},handleChangeWrapper:o,isSubscribed:function(){return s},trySubscribe:function(){s||(s=!0,i())},tryUnsubscribe:function(){s&&(s=!1,l())},getListeners:()=>n};return c}const S=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement)?a.useLayoutEffect:a.useEffect;let N=null;const E=function(e){let{store:t,context:r,children:n,serverState:s,stabilityCheck:o="once",noopCheck:i="once"}=e;const l=a.useMemo((()=>{const e=_(t);return{store:t,subscription:e,getServerState:s?()=>s:void 0,stabilityCheck:o,noopCheck:i}}),[t,s,o,i]),c=a.useMemo((()=>t.getState()),[t]);S((()=>{const{subscription:e}=l;return e.onStateChange=e.notifyNestedSubs,e.trySubscribe(),c!==t.getState()&&e.notifyNestedSubs(),()=>{e.tryUnsubscribe(),e.onStateChange=void 0}}),[l,c]);const u=r||g;return a.createElement(u.Provider,{value:l},n)};function C(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;const t=e===g?y:v(e);return function(){const{store:e}=t();return e}}const P=C();function O(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:g;const t=e===g?P:C(e);return function(){return t().dispatch}}const T=O();var R,L;function A(){return A=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},A.apply(this,arguments)}(e=>{b=e})(l.useSyncExternalStoreWithSelector),(e=>{N=e})(i.useSyncExternalStore),R=c.unstable_batchedUpdates,d=R,function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(L||(L={}));const I="popstate";function U(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function D(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(r){}}}function z(e,t){return{usr:e.state,key:e.key,idx:t}}function M(e,t,r,n){return void 0===r&&(r=null),A({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?B(t):t,{state:r,key:t&&t.key||n||Math.random().toString(36).substr(2,8)})}function F(e){let{pathname:t="/",search:r="",hash:n=""}=e;return r&&"?"!==r&&(t+="?"===r.charAt(0)?r:"?"+r),n&&"#"!==n&&(t+="#"===n.charAt(0)?n:"#"+n),t}function B(e){let t={};if(e){let r=e.indexOf("#");r>=0&&(t.hash=e.substr(r),e=e.substr(0,r));let n=e.indexOf("?");n>=0&&(t.search=e.substr(n),e=e.substr(0,n)),e&&(t.pathname=e)}return t}function q(e,t,r,n){void 0===n&&(n={});let{window:a=document.defaultView,v5Compat:s=!1}=n,o=a.history,i=L.Pop,l=null,c=u();function u(){return(o.state||{idx:null}).idx}function d(){i=L.Pop;let e=u(),t=null==e?null:e-c;c=e,l&&l({action:i,location:f.location,delta:t})}function h(e){let t="null"!==a.location.origin?a.location.origin:a.location.href,r="string"===typeof e?e:F(e);return r=r.replace(/ $/,"%20"),U(t,"No window.location.(origin|href) available to create URL for href: "+r),new URL(r,t)}null==c&&(c=0,o.replaceState(A({},o.state,{idx:c}),""));let f={get action(){return i},get location(){return e(a,o)},listen(e){if(l)throw new Error("A history only accepts one active listener");return a.addEventListener(I,d),l=e,()=>{a.removeEventListener(I,d),l=null}},createHref:e=>t(a,e),createURL:h,encodeLocation(e){let t=h(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){i=L.Push;let n=M(f.location,e,t);r&&r(n,e),c=u()+1;let d=z(n,c),h=f.createHref(n);try{o.pushState(d,"",h)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;a.location.assign(h)}s&&l&&l({action:i,location:f.location,delta:1})},replace:function(e,t){i=L.Replace;let n=M(f.location,e,t);r&&r(n,e),c=u();let a=z(n,c),d=f.createHref(n);o.replaceState(a,"",d),s&&l&&l({action:i,location:f.location,delta:0})},go:e=>o.go(e)};return f}var W;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(W||(W={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function V(e,t,r){return void 0===r&&(r="/"),H(e,t,r,!1)}function H(e,t,r,n){let a=se(("string"===typeof t?B(t):t).pathname||"/",r);if(null==a)return null;let s=$(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let r=e.length===t.length&&e.slice(0,-1).every(((e,r)=>e===t[r]));return r?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let o=null;for(let i=0;null==o&&i<s.length;++i){let e=ae(a);o=re(s[i],e,n)}return o}function $(e,t,r,n){void 0===t&&(t=[]),void 0===r&&(r=[]),void 0===n&&(n="");let a=(e,a,s)=>{let o={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};o.relativePath.startsWith("/")&&(U(o.relativePath.startsWith(n),'Absolute route path "'+o.relativePath+'" nested under path "'+n+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),o.relativePath=o.relativePath.slice(n.length));let i=ue([n,o.relativePath]),l=r.concat(o);e.children&&e.children.length>0&&(U(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+i+'".'),$(e.children,t,l,i)),(null!=e.path||e.index)&&t.push({path:i,score:te(i,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var r;if(""!==e.path&&null!=(r=e.path)&&r.includes("?"))for(let n of K(e.path))a(e,t,n);else a(e,t)})),t}function K(e){let t=e.split("/");if(0===t.length)return[];let[r,...n]=t,a=r.endsWith("?"),s=r.replace(/\?$/,"");if(0===n.length)return a?[s,""]:[s];let o=K(n.join("/")),i=[];return i.push(...o.map((e=>""===e?s:[s,e].join("/")))),a&&i.push(...o),i.map((t=>e.startsWith("/")&&""===t?"/":t))}const J=/^:[\w-]+$/,G=3,Q=2,X=1,Y=10,Z=-2,ee=e=>"*"===e;function te(e,t){let r=e.split("/"),n=r.length;return r.some(ee)&&(n+=Z),t&&(n+=Q),r.filter((e=>!ee(e))).reduce(((e,t)=>e+(J.test(t)?G:""===t?X:Y)),n)}function re(e,t,r){void 0===r&&(r=!1);let{routesMeta:n}=e,a={},s="/",o=[];for(let i=0;i<n.length;++i){let e=n[i],l=i===n.length-1,c="/"===s?t:t.slice(s.length)||"/",u=ne({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),d=e.route;if(!u&&l&&r&&!n[n.length-1].route.index&&(u=ne({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),o.push({params:a,pathname:ue([s,u.pathname]),pathnameBase:de(ue([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=ue([s,u.pathnameBase]))}return o}function ne(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[r,n]=function(e,t,r){void 0===t&&(t=!1);void 0===r&&(r=!0);D("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let n=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,r)=>(n.push({paramName:t,isOptional:null!=r}),r?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(n.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,n]}(e.path,e.caseSensitive,e.end),a=t.match(r);if(!a)return null;let s=a[0],o=s.replace(/(.)\/+$/,"$1"),i=a.slice(1);return{params:n.reduce(((e,t,r)=>{let{paramName:n,isOptional:a}=t;if("*"===n){let e=i[r]||"";o=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=i[r];return e[n]=a&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:o,pattern:e}}function ae(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return D(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function se(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let r=t.endsWith("/")?t.length-1:t.length,n=e.charAt(r);return n&&"/"!==n?null:e.slice(r)||"/"}function oe(e,t,r,n){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(n)+"].  Please separate it out to the `to."+r+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function ie(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function le(e,t){let r=ie(e);return t?r.map(((e,t)=>t===r.length-1?e.pathname:e.pathnameBase)):r.map((e=>e.pathnameBase))}function ce(e,t,r,n){let a;void 0===n&&(n=!1),"string"===typeof e?a=B(e):(a=A({},e),U(!a.pathname||!a.pathname.includes("?"),oe("?","pathname","search",a)),U(!a.pathname||!a.pathname.includes("#"),oe("#","pathname","hash",a)),U(!a.search||!a.search.includes("#"),oe("#","search","hash",a)));let s,o=""===e||""===a.pathname,i=o?"/":a.pathname;if(null==i)s=r;else{let e=t.length-1;if(!n&&i.startsWith("..")){let t=i.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e,t){void 0===t&&(t="/");let{pathname:r,search:n="",hash:a=""}="string"===typeof e?B(e):e,s=r?r.startsWith("/")?r:function(e,t){let r=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?r.length>1&&r.pop():"."!==e&&r.push(e)})),r.length>1?r.join("/"):"/"}(r,t):t;return{pathname:s,search:he(n),hash:fe(a)}}(a,s),c=i&&"/"!==i&&i.endsWith("/"),u=(o||"."===i)&&r.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}const ue=e=>e.join("/").replace(/\/\/+/g,"/"),de=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),he=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",fe=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function pe(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const me=["post","put","patch","delete"],ge=(new Set(me),["get",...me]);new Set(ge),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function ve(){return ve=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},ve.apply(this,arguments)}const ye=a.createContext(null);const be=a.createContext(null);const xe=a.createContext(null);const we=a.createContext(null);const je=a.createContext({outlet:null,matches:[],isDataRoute:!1});const ke=a.createContext(null);function _e(){return null!=a.useContext(we)}function Se(){return _e()||U(!1),a.useContext(we).location}function Ne(e){a.useContext(xe).static||a.useLayoutEffect(e)}function Ee(){let{isDataRoute:e}=a.useContext(je);return e?function(){let{router:e}=ze(Ue.UseNavigateStable),t=Fe(De.UseNavigateStable),r=a.useRef(!1);return Ne((()=>{r.current=!0})),a.useCallback((function(n,a){void 0===a&&(a={}),r.current&&("number"===typeof n?e.navigate(n):e.navigate(n,ve({fromRouteId:t},a)))}),[e,t])}():function(){_e()||U(!1);let e=a.useContext(ye),{basename:t,future:r,navigator:n}=a.useContext(xe),{matches:s}=a.useContext(je),{pathname:o}=Se(),i=JSON.stringify(le(s,r.v7_relativeSplatPath)),l=a.useRef(!1);return Ne((()=>{l.current=!0})),a.useCallback((function(r,a){if(void 0===a&&(a={}),!l.current)return;if("number"===typeof r)return void n.go(r);let s=ce(r,JSON.parse(i),o,"path"===a.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:ue([t,s.pathname])),(a.replace?n.replace:n.push)(s,a.state,a)}),[t,n,i,o,e])}()}function Ce(e,t){let{relative:r}=void 0===t?{}:t,{future:n}=a.useContext(xe),{matches:s}=a.useContext(je),{pathname:o}=Se(),i=JSON.stringify(le(s,n.v7_relativeSplatPath));return a.useMemo((()=>ce(e,JSON.parse(i),o,"path"===r)),[e,i,o,r])}function Pe(e,t){return Oe(e,t)}function Oe(e,t,r,n){_e()||U(!1);let{navigator:s}=a.useContext(xe),{matches:o}=a.useContext(je),i=o[o.length-1],l=i?i.params:{},c=(i&&i.pathname,i?i.pathnameBase:"/");i&&i.route;let u,d=Se();if(t){var h;let e="string"===typeof t?B(t):t;"/"===c||(null==(h=e.pathname)?void 0:h.startsWith(c))||U(!1),u=e}else u=d;let f=u.pathname||"/",p=f;if("/"!==c){let e=c.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(e.length).join("/")}let m=V(e,{pathname:p});let g=Ie(m&&m.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:ue([c,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?c:ue([c,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),o,r,n);return t&&g?a.createElement(we.Provider,{value:{location:ve({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:L.Pop}},g):g}function Te(){let e=function(){var e;let t=a.useContext(ke),r=Me(De.UseRouteError),n=Fe(De.UseRouteError);if(void 0!==t)return t;return null==(e=r.errors)?void 0:e[n]}(),t=pe(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),r=e instanceof Error?e.stack:null,n="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:n};return a.createElement(a.Fragment,null,a.createElement("h2",null,"Unexpected Application Error!"),a.createElement("h3",{style:{fontStyle:"italic"}},t),r?a.createElement("pre",{style:s},r):null,null)}const Re=a.createElement(Te,null);class Le extends a.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?a.createElement(je.Provider,{value:this.props.routeContext},a.createElement(ke.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ae(e){let{routeContext:t,match:r,children:n}=e,s=a.useContext(ye);return s&&s.static&&s.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=r.route.id),a.createElement(je.Provider,{value:t},n)}function Ie(e,t,r,n){var s;if(void 0===t&&(t=[]),void 0===r&&(r=null),void 0===n&&(n=null),null==e){var o;if(!r)return null;if(r.errors)e=r.matches;else{if(!(null!=(o=n)&&o.v7_partialHydration&&0===t.length&&!r.initialized&&r.matches.length>0))return null;e=r.matches}}let i=e,l=null==(s=r)?void 0:s.errors;if(null!=l){let e=i.findIndex((e=>e.route.id&&void 0!==(null==l?void 0:l[e.route.id])));e>=0||U(!1),i=i.slice(0,Math.min(i.length,e+1))}let c=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let a=0;a<i.length;a++){let e=i[a];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(u=a),e.route.id){let{loaderData:t,errors:n}=r,a=e.route.loader&&void 0===t[e.route.id]&&(!n||void 0===n[e.route.id]);if(e.route.lazy||a){c=!0,i=u>=0?i.slice(0,u+1):[i[0]];break}}}return i.reduceRight(((e,n,s)=>{let o,d=!1,h=null,f=null;var p;r&&(o=l&&n.route.id?l[n.route.id]:void 0,h=n.route.errorElement||Re,c&&(u<0&&0===s?(p="route-fallback",!1||Be[p]||(Be[p]=!0),d=!0,f=null):u===s&&(d=!0,f=n.route.hydrateFallbackElement||null)));let m=t.concat(i.slice(0,s+1)),g=()=>{let t;return t=o?h:d?f:n.route.Component?a.createElement(n.route.Component,null):n.route.element?n.route.element:e,a.createElement(Ae,{match:n,routeContext:{outlet:e,matches:m,isDataRoute:null!=r},children:t})};return r&&(n.route.ErrorBoundary||n.route.errorElement||0===s)?a.createElement(Le,{location:r.location,revalidation:r.revalidation,component:h,error:o,children:g(),routeContext:{outlet:null,matches:m,isDataRoute:!0}}):g()}),null)}var Ue=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Ue||{}),De=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(De||{});function ze(e){let t=a.useContext(ye);return t||U(!1),t}function Me(e){let t=a.useContext(be);return t||U(!1),t}function Fe(e){let t=function(){let e=a.useContext(je);return e||U(!1),e}(),r=t.matches[t.matches.length-1];return r.route.id||U(!1),r.route.id}const Be={};function qe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}s.startTransition;function We(e){let{to:t,replace:r,state:n,relative:s}=e;_e()||U(!1);let{future:o,static:i}=a.useContext(xe),{matches:l}=a.useContext(je),{pathname:c}=Se(),u=Ee(),d=ce(t,le(l,o.v7_relativeSplatPath),c,"path"===s),h=JSON.stringify(d);return a.useEffect((()=>u(JSON.parse(h),{replace:r,state:n,relative:s})),[u,h,s,r,n]),null}function Ve(e){let{basename:t="/",children:r=null,location:n,navigationType:s=L.Pop,navigator:o,static:i=!1,future:l}=e;_e()&&U(!1);let c=t.replace(/^\/*/,"/"),u=a.useMemo((()=>({basename:c,navigator:o,static:i,future:ve({v7_relativeSplatPath:!1},l)})),[c,l,o,i]);"string"===typeof n&&(n=B(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,g=a.useMemo((()=>{let e=se(d,c);return null==e?null:{location:{pathname:e,search:h,hash:f,state:p,key:m},navigationType:s}}),[c,d,h,f,p,m,s]);return null==g?null:a.createElement(xe.Provider,{value:u},a.createElement(we.Provider,{children:r,value:g}))}new Promise((()=>{}));a.Component;function He(){return He=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},He.apply(this,arguments)}function $e(e,t){if(null==e)return{};var r,n,a={},s=Object.keys(e);for(n=0;n<s.length;n++)r=s[n],t.indexOf(r)>=0||(a[r]=e[r]);return a}function Ke(e){return void 0===e&&(e=""),new URLSearchParams("string"===typeof e||Array.isArray(e)||e instanceof URLSearchParams?e:Object.keys(e).reduce(((t,r)=>{let n=e[r];return t.concat(Array.isArray(n)?n.map((e=>[r,e])):[[r,n]])}),[]))}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const Je=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Mc){}new Map;const Ge=s.startTransition;u.flushSync,s.useId;function Qe(e){let{basename:t,children:r,future:n,window:s}=e,o=a.useRef();var i;null==o.current&&(o.current=(void 0===(i={window:s,v5Compat:!0})&&(i={}),q((function(e,t){let{pathname:r,search:n,hash:a}=e.location;return M("",{pathname:r,search:n,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:F(t)}),null,i)));let l=o.current,[c,u]=a.useState({action:l.action,location:l.location}),{v7_startTransition:d}=n||{},h=a.useCallback((e=>{d&&Ge?Ge((()=>u(e))):u(e)}),[u,d]);return a.useLayoutEffect((()=>l.listen(h)),[l,h]),a.useEffect((()=>qe(n)),[n]),a.createElement(Ve,{basename:t,children:r,location:c.location,navigationType:c.action,navigator:l,future:n})}const Xe="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,Ye=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Ze=a.forwardRef((function(e,t){let r,{onClick:n,relative:s,reloadDocument:o,replace:i,state:l,target:c,to:u,preventScrollReset:d,viewTransition:h}=e,f=$e(e,Je),{basename:p}=a.useContext(xe),m=!1;if("string"===typeof u&&Ye.test(u)&&(r=u,Xe))try{let e=new URL(window.location.href),t=u.startsWith("//")?new URL(e.protocol+u):new URL(u),r=se(t.pathname,p);t.origin===e.origin&&null!=r?u=r+t.search+t.hash:m=!0}catch(Mc){}let g=function(e,t){let{relative:r}=void 0===t?{}:t;_e()||U(!1);let{basename:n,navigator:s}=a.useContext(xe),{hash:o,pathname:i,search:l}=Ce(e,{relative:r}),c=i;return"/"!==n&&(c="/"===i?n:ue([n,i])),s.createHref({pathname:c,search:l,hash:o})}(u,{relative:s}),v=function(e,t){let{target:r,replace:n,state:s,preventScrollReset:o,relative:i,viewTransition:l}=void 0===t?{}:t,c=Ee(),u=Se(),d=Ce(e,{relative:i});return a.useCallback((t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,r)){t.preventDefault();let r=void 0!==n?n:F(u)===F(d);c(e,{replace:r,state:s,preventScrollReset:o,relative:i,viewTransition:l})}}),[u,c,d,n,s,r,e,o,i,l])}(u,{replace:i,state:l,target:c,preventScrollReset:d,relative:s,viewTransition:h});return a.createElement("a",He({},f,{href:r||g,onClick:m||o?n:function(e){n&&n(e),e.defaultPrevented||v(e)},ref:t,target:c}))}));var et,tt;function rt(e){let t=a.useRef(Ke(e)),r=a.useRef(!1),n=Se(),s=a.useMemo((()=>function(e,t){let r=Ke(e);return t&&t.forEach(((e,n)=>{r.has(n)||t.getAll(n).forEach((e=>{r.append(n,e)}))})),r}(n.search,r.current?null:t.current)),[n.search]),o=Ee(),i=a.useCallback(((e,t)=>{const n=Ke("function"===typeof e?e(s):e);r.current=!0,o("?"+n,t)}),[o,s]);return[s,i]}(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(et||(et={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(tt||(tt={}));function nt(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];throw Error("[Immer] minified error nr: "+e+(r.length?" "+r.map((function(e){return"'"+e+"'"})).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function at(e){return!!e&&!!e[Kt]}function st(e){var t;return!!e&&(function(e){if(!e||"object"!=typeof e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;var r=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return r===Object||"function"==typeof r&&Function.toString.call(r)===Jt}(e)||Array.isArray(e)||!!e[$t]||!!(null===(t=e.constructor)||void 0===t?void 0:t[$t])||ht(e)||ft(e))}function ot(e,t,r){void 0===r&&(r=!1),0===it(e)?(r?Object.keys:Gt)(e).forEach((function(n){r&&"symbol"==typeof n||t(n,e[n],e)})):e.forEach((function(r,n){return t(n,r,e)}))}function it(e){var t=e[Kt];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:ht(e)?2:ft(e)?3:0}function lt(e,t){return 2===it(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function ct(e,t){return 2===it(e)?e.get(t):e[t]}function ut(e,t,r){var n=it(e);2===n?e.set(t,r):3===n?e.add(r):e[t]=r}function dt(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function ht(e){return qt&&e instanceof Map}function ft(e){return Wt&&e instanceof Set}function pt(e){return e.o||e.t}function mt(e){if(Array.isArray(e))return Array.prototype.slice.call(e);var t=Qt(e);delete t[Kt];for(var r=Gt(t),n=0;n<r.length;n++){var a=r[n],s=t[a];!1===s.writable&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(t[a]={configurable:!0,writable:!0,enumerable:s.enumerable,value:e[a]})}return Object.create(Object.getPrototypeOf(e),t)}function gt(e,t){return void 0===t&&(t=!1),yt(e)||at(e)||!st(e)||(it(e)>1&&(e.set=e.add=e.clear=e.delete=vt),Object.freeze(e),t&&ot(e,(function(e,t){return gt(t,!0)}),!0)),e}function vt(){nt(2)}function yt(e){return null==e||"object"!=typeof e||Object.isFrozen(e)}function bt(e){var t=Xt[e];return t||nt(18,e),t}function xt(e,t){Xt[e]||(Xt[e]=t)}function wt(){return Ft}function jt(e,t){t&&(bt("Patches"),e.u=[],e.s=[],e.v=t)}function kt(e){_t(e),e.p.forEach(Nt),e.p=null}function _t(e){e===Ft&&(Ft=e.l)}function St(e){return Ft={p:[],l:Ft,h:e,m:!0,_:0}}function Nt(e){var t=e[Kt];0===t.i||1===t.i?t.j():t.g=!0}function Et(e,t){t._=t.p.length;var r=t.p[0],n=void 0!==e&&e!==r;return t.h.O||bt("ES5").S(t,e,n),n?(r[Kt].P&&(kt(t),nt(4)),st(e)&&(e=Ct(t,e),t.l||Ot(t,e)),t.u&&bt("Patches").M(r[Kt].t,e,t.u,t.s)):e=Ct(t,r,[]),kt(t),t.u&&t.v(t.u,t.s),e!==Ht?e:void 0}function Ct(e,t,r){if(yt(t))return t;var n=t[Kt];if(!n)return ot(t,(function(a,s){return Pt(e,n,t,a,s,r)}),!0),t;if(n.A!==e)return t;if(!n.P)return Ot(e,n.t,!0),n.t;if(!n.I){n.I=!0,n.A._--;var a=4===n.i||5===n.i?n.o=mt(n.k):n.o,s=a,o=!1;3===n.i&&(s=new Set(a),a.clear(),o=!0),ot(s,(function(t,s){return Pt(e,n,a,t,s,r,o)})),Ot(e,a,!1),r&&e.u&&bt("Patches").N(n,r,e.u,e.s)}return n.o}function Pt(e,t,r,n,a,s,o){if(at(a)){var i=Ct(e,a,s&&t&&3!==t.i&&!lt(t.R,n)?s.concat(n):void 0);if(ut(r,n,i),!at(i))return;e.m=!1}else o&&r.add(a);if(st(a)&&!yt(a)){if(!e.h.D&&e._<1)return;Ct(e,a),t&&t.A.l||Ot(e,a)}}function Ot(e,t,r){void 0===r&&(r=!1),!e.l&&e.h.D&&e.m&&gt(t,r)}function Tt(e,t){var r=e[Kt];return(r?pt(r):e)[t]}function Rt(e,t){if(t in e)for(var r=Object.getPrototypeOf(e);r;){var n=Object.getOwnPropertyDescriptor(r,t);if(n)return n;r=Object.getPrototypeOf(r)}}function Lt(e){e.P||(e.P=!0,e.l&&Lt(e.l))}function At(e){e.o||(e.o=mt(e.t))}function It(e,t,r){var n=ht(t)?bt("MapSet").F(t,r):ft(t)?bt("MapSet").T(t,r):e.O?function(e,t){var r=Array.isArray(e),n={i:r?1:0,A:t?t.A:wt(),P:!1,I:!1,R:{},l:t,t:e,k:null,o:null,j:null,C:!1},a=n,s=Yt;r&&(a=[n],s=Zt);var o=Proxy.revocable(a,s),i=o.revoke,l=o.proxy;return n.k=l,n.j=i,l}(t,r):bt("ES5").J(t,r);return(r?r.A:wt()).p.push(n),n}function Ut(e){return at(e)||nt(22,e),function e(t){if(!st(t))return t;var r,n=t[Kt],a=it(t);if(n){if(!n.P&&(n.i<4||!bt("ES5").K(n)))return n.t;n.I=!0,r=Dt(t,a),n.I=!1}else r=Dt(t,a);return ot(r,(function(t,a){n&&ct(n.t,t)===a||ut(r,t,e(a))})),3===a?new Set(r):r}(e)}function Dt(e,t){switch(t){case 2:return new Map(e);case 3:return Array.from(e)}return mt(e)}function zt(){function e(e,t){var r=a[e];return r?r.enumerable=t:a[e]=r={configurable:!0,enumerable:t,get:function(){var t=this[Kt];return Yt.get(t,e)},set:function(t){var r=this[Kt];Yt.set(r,e,t)}},r}function t(e){for(var t=e.length-1;t>=0;t--){var a=e[t][Kt];if(!a.P)switch(a.i){case 5:n(a)&&Lt(a);break;case 4:r(a)&&Lt(a)}}}function r(e){for(var t=e.t,r=e.k,n=Gt(r),a=n.length-1;a>=0;a--){var s=n[a];if(s!==Kt){var o=t[s];if(void 0===o&&!lt(t,s))return!0;var i=r[s],l=i&&i[Kt];if(l?l.t!==o:!dt(i,o))return!0}}var c=!!t[Kt];return n.length!==Gt(t).length+(c?0:1)}function n(e){var t=e.k;if(t.length!==e.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);if(r&&!r.get)return!0;for(var n=0;n<t.length;n++)if(!t.hasOwnProperty(n))return!0;return!1}var a={};xt("ES5",{J:function(t,r){var n=Array.isArray(t),a=function(t,r){if(t){for(var n=Array(r.length),a=0;a<r.length;a++)Object.defineProperty(n,""+a,e(a,!0));return n}var s=Qt(r);delete s[Kt];for(var o=Gt(s),i=0;i<o.length;i++){var l=o[i];s[l]=e(l,t||!!s[l].enumerable)}return Object.create(Object.getPrototypeOf(r),s)}(n,t),s={i:n?5:4,A:r?r.A:wt(),P:!1,I:!1,R:{},l:r,t:t,k:a,o:null,g:!1,C:!1};return Object.defineProperty(a,Kt,{value:s,writable:!0}),a},S:function(e,r,a){a?at(r)&&r[Kt].A===e&&t(e.p):(e.u&&function e(t){if(t&&"object"==typeof t){var r=t[Kt];if(r){var a=r.t,s=r.k,o=r.R,i=r.i;if(4===i)ot(s,(function(t){t!==Kt&&(void 0!==a[t]||lt(a,t)?o[t]||e(s[t]):(o[t]=!0,Lt(r)))})),ot(a,(function(e){void 0!==s[e]||lt(s,e)||(o[e]=!1,Lt(r))}));else if(5===i){if(n(r)&&(Lt(r),o.length=!0),s.length<a.length)for(var l=s.length;l<a.length;l++)o[l]=!1;else for(var c=a.length;c<s.length;c++)o[c]=!0;for(var u=Math.min(s.length,a.length),d=0;d<u;d++)s.hasOwnProperty(d)||(o[d]=!0),void 0===o[d]&&e(s[d])}}}}(e.p[0]),t(e.p))},K:function(e){return 4===e.i?r(e):n(e)}})}var Mt,Ft,Bt="undefined"!=typeof Symbol&&"symbol"==typeof Symbol("x"),qt="undefined"!=typeof Map,Wt="undefined"!=typeof Set,Vt="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,Ht=Bt?Symbol.for("immer-nothing"):((Mt={})["immer-nothing"]=!0,Mt),$t=Bt?Symbol.for("immer-draftable"):"__$immer_draftable",Kt=Bt?Symbol.for("immer-state"):"__$immer_state",Jt=("undefined"!=typeof Symbol&&Symbol.iterator,""+Object.prototype.constructor),Gt="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,Qt=Object.getOwnPropertyDescriptors||function(e){var t={};return Gt(e).forEach((function(r){t[r]=Object.getOwnPropertyDescriptor(e,r)})),t},Xt={},Yt={get:function(e,t){if(t===Kt)return e;var r=pt(e);if(!lt(r,t))return function(e,t,r){var n,a=Rt(t,r);return a?"value"in a?a.value:null===(n=a.get)||void 0===n?void 0:n.call(e.k):void 0}(e,r,t);var n=r[t];return e.I||!st(n)?n:n===Tt(e.t,t)?(At(e),e.o[t]=It(e.A.h,n,e)):n},has:function(e,t){return t in pt(e)},ownKeys:function(e){return Reflect.ownKeys(pt(e))},set:function(e,t,r){var n=Rt(pt(e),t);if(null==n?void 0:n.set)return n.set.call(e.k,r),!0;if(!e.P){var a=Tt(pt(e),t),s=null==a?void 0:a[Kt];if(s&&s.t===r)return e.o[t]=r,e.R[t]=!1,!0;if(dt(r,a)&&(void 0!==r||lt(e.t,t)))return!0;At(e),Lt(e)}return e.o[t]===r&&(void 0!==r||t in e.o)||Number.isNaN(r)&&Number.isNaN(e.o[t])||(e.o[t]=r,e.R[t]=!0),!0},deleteProperty:function(e,t){return void 0!==Tt(e.t,t)||t in e.t?(e.R[t]=!1,At(e),Lt(e)):delete e.R[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var r=pt(e),n=Reflect.getOwnPropertyDescriptor(r,t);return n?{writable:!0,configurable:1!==e.i||"length"!==t,enumerable:n.enumerable,value:r[t]}:n},defineProperty:function(){nt(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){nt(12)}},Zt={};ot(Yt,(function(e,t){Zt[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Zt.deleteProperty=function(e,t){return Zt.set.call(this,e,t,void 0)},Zt.set=function(e,t,r){return Yt.set.call(this,e[0],t,r,e[0])};var er=function(){function e(e){var t=this;this.O=Vt,this.D=!0,this.produce=function(e,r,n){if("function"==typeof e&&"function"!=typeof r){var a=r;r=e;var s=t;return function(e){var t=this;void 0===e&&(e=a);for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++)o[i-1]=arguments[i];return s.produce(e,(function(e){var n;return(n=r).call.apply(n,[t,e].concat(o))}))}}var o;if("function"!=typeof r&&nt(6),void 0!==n&&"function"!=typeof n&&nt(7),st(e)){var i=St(t),l=It(t,e,void 0),c=!0;try{o=r(l),c=!1}finally{c?kt(i):_t(i)}return"undefined"!=typeof Promise&&o instanceof Promise?o.then((function(e){return jt(i,n),Et(e,i)}),(function(e){throw kt(i),e})):(jt(i,n),Et(o,i))}if(!e||"object"!=typeof e){if(void 0===(o=r(e))&&(o=e),o===Ht&&(o=void 0),t.D&&gt(o,!0),n){var u=[],d=[];bt("Patches").M(e,o,u,d),n(u,d)}return o}nt(21,e)},this.produceWithPatches=function(e,r){if("function"==typeof e)return function(r){for(var n=arguments.length,a=Array(n>1?n-1:0),s=1;s<n;s++)a[s-1]=arguments[s];return t.produceWithPatches(r,(function(t){return e.apply(void 0,[t].concat(a))}))};var n,a,s=t.produce(e,r,(function(e,t){n=e,a=t}));return"undefined"!=typeof Promise&&s instanceof Promise?s.then((function(e){return[e,n,a]})):[s,n,a]},"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze)}var t=e.prototype;return t.createDraft=function(e){st(e)||nt(8),at(e)&&(e=Ut(e));var t=St(this),r=It(this,e,void 0);return r[Kt].C=!0,_t(t),r},t.finishDraft=function(e,t){var r=(e&&e[Kt]).A;return jt(r,t),Et(void 0,r)},t.setAutoFreeze=function(e){this.D=e},t.setUseProxies=function(e){e&&!Vt&&nt(20),this.O=e},t.applyPatches=function(e,t){var r;for(r=t.length-1;r>=0;r--){var n=t[r];if(0===n.path.length&&"replace"===n.op){e=n.value;break}}r>-1&&(t=t.slice(r+1));var a=bt("Patches").$;return at(e)?a(e,t):this.produce(e,(function(e){return a(e,t)}))},e}(),tr=new er,rr=tr.produce;tr.produceWithPatches.bind(tr),tr.setAutoFreeze.bind(tr),tr.setUseProxies.bind(tr),tr.applyPatches.bind(tr),tr.createDraft.bind(tr),tr.finishDraft.bind(tr);const nr=rr;function ar(e){return ar="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ar(e)}function sr(e){var t=function(e,t){if("object"!=ar(e)||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var n=r.call(e,t||"default");if("object"!=ar(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ar(t)?t:t+""}function or(e,t,r){return(t=sr(t))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function ir(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),r.push.apply(r,n)}return r}function lr(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ir(Object(r),!0).forEach((function(t){or(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ir(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function cr(e){return"Minified Redux error #"+e+"; visit https://redux.js.org/Errors?code="+e+" for the full message or use the non-minified dev environment for full errors. "}var ur="function"===typeof Symbol&&Symbol.observable||"@@observable",dr=function(){return Math.random().toString(36).substring(7).split("").join(".")},hr={INIT:"@@redux/INIT"+dr(),REPLACE:"@@redux/REPLACE"+dr(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+dr()}};function fr(e){if("object"!==typeof e||null===e)return!1;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function pr(e,t,r){var n;if("function"===typeof t&&"function"===typeof r||"function"===typeof r&&"function"===typeof arguments[3])throw new Error(cr(0));if("function"===typeof t&&"undefined"===typeof r&&(r=t,t=void 0),"undefined"!==typeof r){if("function"!==typeof r)throw new Error(cr(1));return r(pr)(e,t)}if("function"!==typeof e)throw new Error(cr(2));var a=e,s=t,o=[],i=o,l=!1;function c(){i===o&&(i=o.slice())}function u(){if(l)throw new Error(cr(3));return s}function d(e){if("function"!==typeof e)throw new Error(cr(4));if(l)throw new Error(cr(5));var t=!0;return c(),i.push(e),function(){if(t){if(l)throw new Error(cr(6));t=!1,c();var r=i.indexOf(e);i.splice(r,1),o=null}}}function h(e){if(!fr(e))throw new Error(cr(7));if("undefined"===typeof e.type)throw new Error(cr(8));if(l)throw new Error(cr(9));try{l=!0,s=a(s,e)}finally{l=!1}for(var t=o=i,r=0;r<t.length;r++){(0,t[r])()}return e}return h({type:hr.INIT}),(n={dispatch:h,subscribe:d,getState:u,replaceReducer:function(e){if("function"!==typeof e)throw new Error(cr(10));a=e,h({type:hr.REPLACE})}})[ur]=function(){var e,t=d;return(e={subscribe:function(e){if("object"!==typeof e||null===e)throw new Error(cr(11));function r(){e.next&&e.next(u())}return r(),{unsubscribe:t(r)}}})[ur]=function(){return this},e},n}function mr(e){for(var t=Object.keys(e),r={},n=0;n<t.length;n++){var a=t[n];0,"function"===typeof e[a]&&(r[a]=e[a])}var s,o=Object.keys(r);try{!function(e){Object.keys(e).forEach((function(t){var r=e[t];if("undefined"===typeof r(void 0,{type:hr.INIT}))throw new Error(cr(12));if("undefined"===typeof r(void 0,{type:hr.PROBE_UNKNOWN_ACTION()}))throw new Error(cr(13))}))}(r)}catch(Mc){s=Mc}return function(e,t){if(void 0===e&&(e={}),s)throw s;for(var n=!1,a={},i=0;i<o.length;i++){var l=o[i],c=r[l],u=e[l],d=c(u,t);if("undefined"===typeof d){t&&t.type;throw new Error(cr(14))}a[l]=d,n=n||d!==u}return(n=n||o.length!==Object.keys(e).length)?a:e}}function gr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return 0===t.length?function(e){return e}:1===t.length?t[0]:t.reduce((function(e,t){return function(){return e(t.apply(void 0,arguments))}}))}function vr(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(e){return function(){var r=e.apply(void 0,arguments),n=function(){throw new Error(cr(15))},a={getState:r.getState,dispatch:function(){return n.apply(void 0,arguments)}},s=t.map((function(e){return e(a)}));return n=gr.apply(void 0,s)(r.dispatch),lr(lr({},r),{},{dispatch:n})}}}function yr(e){return function(t){var r=t.dispatch,n=t.getState;return function(t){return function(a){return"function"===typeof a?a(r,n,e):t(a)}}}}var br=yr();br.withExtraArgument=yr;const xr=br;var wr=function(){var e=function(t,r){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},e(t,r)};return function(t,r){if("function"!==typeof r&&null!==r)throw new TypeError("Class extends value "+String(r)+" is not a constructor or null");function n(){this.constructor=t}e(t,r),t.prototype=null===r?Object.create(r):(n.prototype=r.prototype,new n)}}(),jr=function(e,t){var r,n,a,s,o={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:i(0),throw:i(1),return:i(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s;function i(s){return function(i){return function(s){if(r)throw new TypeError("Generator is already executing.");for(;o;)try{if(r=1,n&&(a=2&s[0]?n.return:s[0]?n.throw||((a=n.return)&&a.call(n),0):n.next)&&!(a=a.call(n,s[1])).done)return a;switch(n=0,a&&(s=[2&s[0],a.value]),s[0]){case 0:case 1:a=s;break;case 4:return o.label++,{value:s[1],done:!1};case 5:o.label++,n=s[1],s=[0];continue;case 7:s=o.ops.pop(),o.trys.pop();continue;default:if(!(a=(a=o.trys).length>0&&a[a.length-1])&&(6===s[0]||2===s[0])){o=0;continue}if(3===s[0]&&(!a||s[1]>a[0]&&s[1]<a[3])){o.label=s[1];break}if(6===s[0]&&o.label<a[1]){o.label=a[1],a=s;break}if(a&&o.label<a[2]){o.label=a[2],o.ops.push(s);break}a[2]&&o.ops.pop(),o.trys.pop();continue}s=t.call(e,o)}catch(Mc){s=[6,Mc],n=0}finally{r=a=0}if(5&s[0])throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}([s,i])}}},kr=function(e,t){for(var r=0,n=t.length,a=e.length;r<n;r++,a++)e[a]=t[r];return e},_r=Object.defineProperty,Sr=Object.defineProperties,Nr=Object.getOwnPropertyDescriptors,Er=Object.getOwnPropertySymbols,Cr=Object.prototype.hasOwnProperty,Pr=Object.prototype.propertyIsEnumerable,Or=function(e,t,r){return t in e?_r(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r},Tr=function(e,t){for(var r in t||(t={}))Cr.call(t,r)&&Or(e,r,t[r]);if(Er)for(var n=0,a=Er(t);n<a.length;n++){r=a[n];Pr.call(t,r)&&Or(e,r,t[r])}return e},Rr=function(e,t){return Sr(e,Nr(t))},Lr=function(e,t,r){return new Promise((function(n,a){var s=function(e){try{i(r.next(e))}catch(Mc){a(Mc)}},o=function(e){try{i(r.throw(e))}catch(Mc){a(Mc)}},i=function(e){return e.done?n(e.value):Promise.resolve(e.value).then(s,o)};i((r=r.apply(e,t)).next())}))},Ar="undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(0!==arguments.length)return"object"===typeof arguments[0]?gr:gr.apply(null,arguments)};"undefined"!==typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__;function Ir(e){if("object"!==typeof e||null===e)return!1;var t=Object.getPrototypeOf(e);if(null===t)return!0;for(var r=t;null!==Object.getPrototypeOf(r);)r=Object.getPrototypeOf(r);return t===r}function Ur(e,t){function r(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];if(t){var a=t.apply(void 0,r);if(!a)throw new Error("prepareAction did not return an object");return Tr(Tr({type:e,payload:a.payload},"meta"in a&&{meta:a.meta}),"error"in a&&{error:a.error})}return{type:e,payload:r[0]}}return r.toString=function(){return""+e},r.type=e,r.match=function(t){return t.type===e},r}var Dr=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=e.apply(this,r)||this;return Object.setPrototypeOf(a,t.prototype),a}return wr(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,kr([void 0],e[0].concat(this)))):new(t.bind.apply(t,kr([void 0],e.concat(this))))},t}(Array),zr=function(e){function t(){for(var r=[],n=0;n<arguments.length;n++)r[n]=arguments[n];var a=e.apply(this,r)||this;return Object.setPrototypeOf(a,t.prototype),a}return wr(t,e),Object.defineProperty(t,Symbol.species,{get:function(){return t},enumerable:!1,configurable:!0}),t.prototype.concat=function(){for(var t=[],r=0;r<arguments.length;r++)t[r]=arguments[r];return e.prototype.concat.apply(this,t)},t.prototype.prepend=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];return 1===e.length&&Array.isArray(e[0])?new(t.bind.apply(t,kr([void 0],e[0].concat(this)))):new(t.bind.apply(t,kr([void 0],e.concat(this))))},t}(Array);function Mr(e){return st(e)?nr(e,(function(){})):e}function Fr(){return function(e){return function(e){void 0===e&&(e={});var t=e.thunk,r=void 0===t||t,n=(e.immutableCheck,e.serializableCheck,e.actionCreatorCheck,new Dr);r&&(!function(e){return"boolean"===typeof e}(r)?n.push(xr.withExtraArgument(r.extraArgument)):n.push(xr));0;return n}(e)}}function Br(e){var t,r={},n=[],a={addCase:function(e,t){var n="string"===typeof e?e:e.type;if(!n)throw new Error("`builder.addCase` cannot be called with an empty action type");if(n in r)throw new Error("`builder.addCase` cannot be called with two reducers for the same action type");return r[n]=t,a},addMatcher:function(e,t){return n.push({matcher:e,reducer:t}),a},addDefaultCase:function(e){return t=e,a}};return e(a),[r,n,t]}var qr=function(e){void 0===e&&(e=21);for(var t="",r=e;r--;)t+="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW"[64*Math.random()|0];return t},Wr=["name","message","stack","code"],Vr=function(e,t){this.payload=e,this.meta=t},Hr=function(e,t){this.payload=e,this.meta=t},$r=function(e){if("object"===typeof e&&null!==e){for(var t={},r=0,n=Wr;r<n.length;r++){var a=n[r];"string"===typeof e[a]&&(t[a]=e[a])}return t}return{message:String(e)}},Kr=function(){function e(e,t,r){var n=Ur(e+"/fulfilled",(function(e,t,r,n){return{payload:e,meta:Rr(Tr({},n||{}),{arg:r,requestId:t,requestStatus:"fulfilled"})}})),a=Ur(e+"/pending",(function(e,t,r){return{payload:void 0,meta:Rr(Tr({},r||{}),{arg:t,requestId:e,requestStatus:"pending"})}})),s=Ur(e+"/rejected",(function(e,t,n,a,s){return{payload:a,error:(r&&r.serializeError||$r)(e||"Rejected"),meta:Rr(Tr({},s||{}),{arg:n,requestId:t,rejectedWithValue:!!a,requestStatus:"rejected",aborted:"AbortError"===(null==e?void 0:e.name),condition:"ConditionError"===(null==e?void 0:e.name)})}})),o="undefined"!==typeof AbortController?AbortController:function(){function e(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return e.prototype.abort=function(){0},e}();return Object.assign((function(e){return function(i,l,c){var u,d=(null==r?void 0:r.idGenerator)?r.idGenerator(e):qr(),h=new o;function f(e){u=e,h.abort()}var p=function(){return Lr(this,null,(function(){var o,p,m,g,v,y;return jr(this,(function(b){switch(b.label){case 0:return b.trys.push([0,4,,5]),g=null==(o=null==r?void 0:r.condition)?void 0:o.call(r,e,{getState:l,extra:c}),null===(x=g)||"object"!==typeof x||"function"!==typeof x.then?[3,2]:[4,g];case 1:g=b.sent(),b.label=2;case 2:if(!1===g||h.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return v=new Promise((function(e,t){return h.signal.addEventListener("abort",(function(){return t({name:"AbortError",message:u||"Aborted"})}))})),i(a(d,e,null==(p=null==r?void 0:r.getPendingMeta)?void 0:p.call(r,{requestId:d,arg:e},{getState:l,extra:c}))),[4,Promise.race([v,Promise.resolve(t(e,{dispatch:i,getState:l,extra:c,requestId:d,signal:h.signal,abort:f,rejectWithValue:function(e,t){return new Vr(e,t)},fulfillWithValue:function(e,t){return new Hr(e,t)}})).then((function(t){if(t instanceof Vr)throw t;return t instanceof Hr?n(t.payload,d,e,t.meta):n(t,d,e)}))])];case 3:return m=b.sent(),[3,5];case 4:return y=b.sent(),m=y instanceof Vr?s(null,d,e,y.payload,y.meta):s(y,d,e),[3,5];case 5:return r&&!r.dispatchConditionRejection&&s.match(m)&&m.meta.condition||i(m),[2,m]}var x}))}))}();return Object.assign(p,{abort:f,requestId:d,arg:e,unwrap:function(){return p.then(Jr)}})}}),{pending:a,rejected:s,fulfilled:n,typePrefix:e})}return e.withTypes=function(){return e},e}();function Jr(e){if(e.meta&&e.meta.rejectedWithValue)throw e.payload;if(e.error)throw e.error;return e.payload}Object.assign;var Gr="listenerMiddleware";Ur(Gr+"/add"),Ur(Gr+"/removeAll"),Ur(Gr+"/remove");"function"===typeof queueMicrotask&&queueMicrotask.bind("undefined"!==typeof window?window:"undefined"!==typeof r.g?r.g:globalThis);var Qr,Xr=function(e){return function(t){setTimeout(t,e)}};"undefined"!==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame:Xr(10);function Yr(e,t){return function(){return e.apply(t,arguments)}}zt();const{toString:Zr}=Object.prototype,{getPrototypeOf:en}=Object,{iterator:tn,toStringTag:rn}=Symbol,nn=(an=Object.create(null),e=>{const t=Zr.call(e);return an[t]||(an[t]=t.slice(8,-1).toLowerCase())});var an;const sn=e=>(e=e.toLowerCase(),t=>nn(t)===e),on=e=>t=>typeof t===e,{isArray:ln}=Array,cn=on("undefined");const un=sn("ArrayBuffer");const dn=on("string"),hn=on("function"),fn=on("number"),pn=e=>null!==e&&"object"===typeof e,mn=e=>{if("object"!==nn(e))return!1;const t=en(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(rn in e)&&!(tn in e)},gn=sn("Date"),vn=sn("File"),yn=sn("Blob"),bn=sn("FileList"),xn=sn("URLSearchParams"),[wn,jn,kn,_n]=["ReadableStream","Request","Response","Headers"].map(sn);function Sn(e,t){let r,n,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),ln(e))for(r=0,n=e.length;r<n;r++)t.call(null,e[r],r,e);else{const n=a?Object.getOwnPropertyNames(e):Object.keys(e),s=n.length;let o;for(r=0;r<s;r++)o=n[r],t.call(null,e[o],o,e)}}function Nn(e,t){t=t.toLowerCase();const r=Object.keys(e);let n,a=r.length;for(;a-- >0;)if(n=r[a],t===n.toLowerCase())return n;return null}const En="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,Cn=e=>!cn(e)&&e!==En;const Pn=(On="undefined"!==typeof Uint8Array&&en(Uint8Array),e=>On&&e instanceof On);var On;const Tn=sn("HTMLFormElement"),Rn=(e=>{let{hasOwnProperty:t}=e;return(e,r)=>t.call(e,r)})(Object.prototype),Ln=sn("RegExp"),An=(e,t)=>{const r=Object.getOwnPropertyDescriptors(e),n={};Sn(r,((r,a)=>{let s;!1!==(s=t(r,a,e))&&(n[a]=s||r)})),Object.defineProperties(e,n)};const In=sn("AsyncFunction"),Un=((e,t)=>{return e?setImmediate:t?(r="axios@".concat(Math.random()),n=[],En.addEventListener("message",(e=>{let{source:t,data:a}=e;t===En&&a===r&&n.length&&n.shift()()}),!1),e=>{n.push(e),En.postMessage(r,"*")}):e=>setTimeout(e);var r,n})("function"===typeof setImmediate,hn(En.postMessage)),Dn="undefined"!==typeof queueMicrotask?queueMicrotask.bind(En):"undefined"!==typeof process&&process.nextTick||Un,zn={isArray:ln,isArrayBuffer:un,isBuffer:function(e){return null!==e&&!cn(e)&&null!==e.constructor&&!cn(e.constructor)&&hn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)},isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||hn(e.append)&&("formdata"===(t=nn(e))||"object"===t&&hn(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&un(e.buffer),t},isString:dn,isNumber:fn,isBoolean:e=>!0===e||!1===e,isObject:pn,isPlainObject:mn,isReadableStream:wn,isRequest:jn,isResponse:kn,isHeaders:_n,isUndefined:cn,isDate:gn,isFile:vn,isBlob:yn,isRegExp:Ln,isFunction:hn,isStream:e=>pn(e)&&hn(e.pipe),isURLSearchParams:xn,isTypedArray:Pn,isFileList:bn,forEach:Sn,merge:function e(){const{caseless:t}=Cn(this)&&this||{},r={},n=(n,a)=>{const s=t&&Nn(r,a)||a;mn(r[s])&&mn(n)?r[s]=e(r[s],n):mn(n)?r[s]=e({},n):ln(n)?r[s]=n.slice():r[s]=n};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Sn(arguments[a],n);return r},extend:function(e,t,r){let{allOwnKeys:n}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Sn(t,((t,n)=>{r&&hn(t)?e[n]=Yr(t,r):e[n]=t}),{allOwnKeys:n}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,r,n)=>{e.prototype=Object.create(t.prototype,n),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),r&&Object.assign(e.prototype,r)},toFlatObject:(e,t,r,n)=>{let a,s,o;const i={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)o=a[s],n&&!n(o,e,t)||i[o]||(t[o]=e[o],i[o]=!0);e=!1!==r&&en(e)}while(e&&(!r||r(e,t))&&e!==Object.prototype);return t},kindOf:nn,kindOfTest:sn,endsWith:(e,t,r)=>{e=String(e),(void 0===r||r>e.length)&&(r=e.length),r-=t.length;const n=e.indexOf(t,r);return-1!==n&&n===r},toArray:e=>{if(!e)return null;if(ln(e))return e;let t=e.length;if(!fn(t))return null;const r=new Array(t);for(;t-- >0;)r[t]=e[t];return r},forEachEntry:(e,t)=>{const r=(e&&e[tn]).call(e);let n;for(;(n=r.next())&&!n.done;){const r=n.value;t.call(e,r[0],r[1])}},matchAll:(e,t)=>{let r;const n=[];for(;null!==(r=e.exec(t));)n.push(r);return n},isHTMLForm:Tn,hasOwnProperty:Rn,hasOwnProp:Rn,reduceDescriptors:An,freezeMethods:e=>{An(e,((t,r)=>{if(hn(e)&&-1!==["arguments","caller","callee"].indexOf(r))return!1;const n=e[r];hn(n)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")}))}))},toObjectSet:(e,t)=>{const r={},n=e=>{e.forEach((e=>{r[e]=!0}))};return ln(e)?n(e):n(String(e).split(t)),r},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,(function(e,t,r){return t.toUpperCase()+r})),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Nn,global:En,isContextDefined:Cn,isSpecCompliantForm:function(e){return!!(e&&hn(e.append)&&"FormData"===e[rn]&&e[tn])},toJSONObject:e=>{const t=new Array(10),r=(e,n)=>{if(pn(e)){if(t.indexOf(e)>=0)return;if(!("toJSON"in e)){t[n]=e;const a=ln(e)?[]:{};return Sn(e,((e,t)=>{const s=r(e,n+1);!cn(s)&&(a[t]=s)})),t[n]=void 0,a}}return e};return r(e,0)},isAsyncFn:In,isThenable:e=>e&&(pn(e)||hn(e))&&hn(e.then)&&hn(e.catch),setImmediate:Un,asap:Dn,isIterable:e=>null!=e&&hn(e[tn])};function Mn(e,t,r,n,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),r&&(this.config=r),n&&(this.request=n),a&&(this.response=a,this.status=a.status?a.status:null)}zn.inherits(Mn,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:zn.toJSONObject(this.config),code:this.code,status:this.status}}});const Fn=Mn.prototype,Bn={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach((e=>{Bn[e]={value:e}})),Object.defineProperties(Mn,Bn),Object.defineProperty(Fn,"isAxiosError",{value:!0}),Mn.from=(e,t,r,n,a,s)=>{const o=Object.create(Fn);return zn.toFlatObject(e,o,(function(e){return e!==Error.prototype}),(e=>"isAxiosError"!==e)),Mn.call(o,e.message,t,r,n,a),o.cause=e,o.name=e.name,s&&Object.assign(o,s),o};const qn=Mn;function Wn(e){return zn.isPlainObject(e)||zn.isArray(e)}function Vn(e){return zn.endsWith(e,"[]")?e.slice(0,-2):e}function Hn(e,t,r){return e?e.concat(t).map((function(e,t){return e=Vn(e),!r&&t?"["+e+"]":e})).join(r?".":""):t}const $n=zn.toFlatObject(zn,{},null,(function(e){return/^is[A-Z]/.test(e)}));const Kn=function(e,t,r){if(!zn.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const n=(r=zn.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,(function(e,t){return!zn.isUndefined(t[e])}))).metaTokens,a=r.visitor||c,s=r.dots,o=r.indexes,i=(r.Blob||"undefined"!==typeof Blob&&Blob)&&zn.isSpecCompliantForm(t);if(!zn.isFunction(a))throw new TypeError("visitor must be a function");function l(e){if(null===e)return"";if(zn.isDate(e))return e.toISOString();if(!i&&zn.isBlob(e))throw new qn("Blob is not supported. Use a Buffer instead.");return zn.isArrayBuffer(e)||zn.isTypedArray(e)?i&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,r,a){let i=e;if(e&&!a&&"object"===typeof e)if(zn.endsWith(r,"{}"))r=n?r:r.slice(0,-2),e=JSON.stringify(e);else if(zn.isArray(e)&&function(e){return zn.isArray(e)&&!e.some(Wn)}(e)||(zn.isFileList(e)||zn.endsWith(r,"[]"))&&(i=zn.toArray(e)))return r=Vn(r),i.forEach((function(e,n){!zn.isUndefined(e)&&null!==e&&t.append(!0===o?Hn([r],n,s):null===o?r:r+"[]",l(e))})),!1;return!!Wn(e)||(t.append(Hn(a,r,s),l(e)),!1)}const u=[],d=Object.assign($n,{defaultVisitor:c,convertValue:l,isVisitable:Wn});if(!zn.isObject(e))throw new TypeError("data must be an object");return function e(r,n){if(!zn.isUndefined(r)){if(-1!==u.indexOf(r))throw Error("Circular reference detected in "+n.join("."));u.push(r),zn.forEach(r,(function(r,s){!0===(!(zn.isUndefined(r)||null===r)&&a.call(t,r,zn.isString(s)?s.trim():s,n,d))&&e(r,n?n.concat(s):[s])})),u.pop()}}(e),t};function Jn(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,(function(e){return t[e]}))}function Gn(e,t){this._pairs=[],e&&Kn(e,this,t)}const Qn=Gn.prototype;Qn.append=function(e,t){this._pairs.push([e,t])},Qn.toString=function(e){const t=e?function(t){return e.call(this,t,Jn)}:Jn;return this._pairs.map((function(e){return t(e[0])+"="+t(e[1])}),"").join("&")};const Xn=Gn;function Yn(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Zn(e,t,r){if(!t)return e;const n=r&&r.encode||Yn;zn.isFunction(r)&&(r={serialize:r});const a=r&&r.serialize;let s;if(s=a?a(t,r):zn.isURLSearchParams(t)?t.toString():new Xn(t,r).toString(n),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const ea=class{constructor(){this.handlers=[]}use(e,t,r){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){zn.forEach(this.handlers,(function(t){null!==t&&e(t)}))}},ta={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ra={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Xn,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},na="undefined"!==typeof window&&"undefined"!==typeof document,aa="object"===typeof navigator&&navigator||void 0,sa=na&&(!aa||["ReactNative","NativeScript","NS"].indexOf(aa.product)<0),oa="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,ia=na&&window.location.href||"http://localhost",la=lr(lr({},n),ra);const ca=function(e){function t(e,r,n,a){let s=e[a++];if("__proto__"===s)return!0;const o=Number.isFinite(+s),i=a>=e.length;if(s=!s&&zn.isArray(n)?n.length:s,i)return zn.hasOwnProp(n,s)?n[s]=[n[s],r]:n[s]=r,!o;n[s]&&zn.isObject(n[s])||(n[s]=[]);return t(e,r,n[s],a)&&zn.isArray(n[s])&&(n[s]=function(e){const t={},r=Object.keys(e);let n;const a=r.length;let s;for(n=0;n<a;n++)s=r[n],t[s]=e[s];return t}(n[s])),!o}if(zn.isFormData(e)&&zn.isFunction(e.entries)){const r={};return zn.forEachEntry(e,((e,n)=>{t(function(e){return zn.matchAll(/\w+|\[(\w*)]/g,e).map((e=>"[]"===e[0]?"":e[1]||e[0]))}(e),n,r,0)})),r}return null};const ua={transitional:ta,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const r=t.getContentType()||"",n=r.indexOf("application/json")>-1,a=zn.isObject(e);a&&zn.isHTMLForm(e)&&(e=new FormData(e));if(zn.isFormData(e))return n?JSON.stringify(ca(e)):e;if(zn.isArrayBuffer(e)||zn.isBuffer(e)||zn.isStream(e)||zn.isFile(e)||zn.isBlob(e)||zn.isReadableStream(e))return e;if(zn.isArrayBufferView(e))return e.buffer;if(zn.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(r.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return Kn(e,new la.classes.URLSearchParams,Object.assign({visitor:function(e,t,r,n){return la.isNode&&zn.isBuffer(e)?(this.append(t,e.toString("base64")),!1):n.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=zn.isFileList(e))||r.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return Kn(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||n?(t.setContentType("application/json",!1),function(e,t,r){if(zn.isString(e))try{return(t||JSON.parse)(e),zn.trim(e)}catch(Mc){if("SyntaxError"!==Mc.name)throw Mc}return(r||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||ua.transitional,r=t&&t.forcedJSONParsing,n="json"===this.responseType;if(zn.isResponse(e)||zn.isReadableStream(e))return e;if(e&&zn.isString(e)&&(r&&!this.responseType||n)){const r=!(t&&t.silentJSONParsing)&&n;try{return JSON.parse(e)}catch(Mc){if(r){if("SyntaxError"===Mc.name)throw qn.from(Mc,qn.ERR_BAD_RESPONSE,this,null,this.response);throw Mc}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:la.classes.FormData,Blob:la.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};zn.forEach(["delete","get","head","post","put","patch"],(e=>{ua.headers[e]={}}));const da=ua,ha=zn.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),fa=Symbol("internals");function pa(e){return e&&String(e).trim().toLowerCase()}function ma(e){return!1===e||null==e?e:zn.isArray(e)?e.map(ma):String(e)}function ga(e,t,r,n,a){return zn.isFunction(n)?n.call(this,t,r):(a&&(t=r),zn.isString(t)?zn.isString(n)?-1!==t.indexOf(n):zn.isRegExp(n)?n.test(t):void 0:void 0)}class va{constructor(e){e&&this.set(e)}set(e,t,r){const n=this;function a(e,t,r){const a=pa(t);if(!a)throw new Error("header name must be a non-empty string");const s=zn.findKey(n,a);(!s||void 0===n[s]||!0===r||void 0===r&&!1!==n[s])&&(n[s||t]=ma(e))}const s=(e,t)=>zn.forEach(e,((e,r)=>a(e,r,t)));if(zn.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(zn.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let r,n,a;return e&&e.split("\n").forEach((function(e){a=e.indexOf(":"),r=e.substring(0,a).trim().toLowerCase(),n=e.substring(a+1).trim(),!r||t[r]&&ha[r]||("set-cookie"===r?t[r]?t[r].push(n):t[r]=[n]:t[r]=t[r]?t[r]+", "+n:n)})),t})(e),t);else if(zn.isObject(e)&&zn.isIterable(e)){let r,n,a={};for(const t of e){if(!zn.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[n=t[0]]=(r=a[n])?zn.isArray(r)?[...r,t[1]]:[r,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,r);return this}get(e,t){if(e=pa(e)){const r=zn.findKey(this,e);if(r){const e=this[r];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(e);)t[n[1]]=n[2];return t}(e);if(zn.isFunction(t))return t.call(this,e,r);if(zn.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=pa(e)){const r=zn.findKey(this,e);return!(!r||void 0===this[r]||t&&!ga(0,this[r],r,t))}return!1}delete(e,t){const r=this;let n=!1;function a(e){if(e=pa(e)){const a=zn.findKey(r,e);!a||t&&!ga(0,r[a],a,t)||(delete r[a],n=!0)}}return zn.isArray(e)?e.forEach(a):a(e),n}clear(e){const t=Object.keys(this);let r=t.length,n=!1;for(;r--;){const a=t[r];e&&!ga(0,this[a],a,e,!0)||(delete this[a],n=!0)}return n}normalize(e){const t=this,r={};return zn.forEach(this,((n,a)=>{const s=zn.findKey(r,a);if(s)return t[s]=ma(n),void delete t[a];const o=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,((e,t,r)=>t.toUpperCase()+r))}(a):String(a).trim();o!==a&&delete t[a],t[o]=ma(n),r[o]=!0})),this}concat(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return zn.forEach(this,((r,n)=>{null!=r&&!1!==r&&(t[n]=e&&zn.isArray(r)?r.join(", "):r)})),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map((e=>{let[t,r]=e;return t+": "+r})).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var r=arguments.length,n=new Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return n.forEach((e=>t.set(e))),t}static accessor(e){const t=(this[fa]=this[fa]={accessors:{}}).accessors,r=this.prototype;function n(e){const n=pa(e);t[n]||(!function(e,t){const r=zn.toCamelCase(" "+t);["get","set","has"].forEach((n=>{Object.defineProperty(e,n+r,{value:function(e,r,a){return this[n].call(this,t,e,r,a)},configurable:!0})}))}(r,e),t[n]=!0)}return zn.isArray(e)?e.forEach(n):n(e),this}}va.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),zn.reduceDescriptors(va.prototype,((e,t)=>{let{value:r}=e,n=t[0].toUpperCase()+t.slice(1);return{get:()=>r,set(e){this[n]=e}}})),zn.freezeMethods(va);const ya=va;function ba(e,t){const r=this||da,n=t||r,a=ya.from(n.headers);let s=n.data;return zn.forEach(e,(function(e){s=e.call(r,s,a.normalize(),t?t.status:void 0)})),a.normalize(),s}function xa(e){return!(!e||!e.__CANCEL__)}function wa(e,t,r){qn.call(this,null==e?"canceled":e,qn.ERR_CANCELED,t,r),this.name="CanceledError"}zn.inherits(wa,qn,{__CANCEL__:!0});const ja=wa;function ka(e,t,r){const n=r.config.validateStatus;r.status&&n&&!n(r.status)?t(new qn("Request failed with status code "+r.status,[qn.ERR_BAD_REQUEST,qn.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):e(r)}const _a=function(e,t){e=e||10;const r=new Array(e),n=new Array(e);let a,s=0,o=0;return t=void 0!==t?t:1e3,function(i){const l=Date.now(),c=n[o];a||(a=l),r[s]=i,n[s]=l;let u=o,d=0;for(;u!==s;)d+=r[u++],u%=e;if(s=(s+1)%e,s===o&&(o=(o+1)%e),l-a<t)return;const h=c&&l-c;return h?Math.round(1e3*d/h):void 0}};const Sa=function(e,t){let r,n,a=0,s=1e3/t;const o=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,r=null,n&&(clearTimeout(n),n=null),e.apply(null,t)};return[function(){const e=Date.now(),t=e-a;for(var i=arguments.length,l=new Array(i),c=0;c<i;c++)l[c]=arguments[c];t>=s?o(l,e):(r=l,n||(n=setTimeout((()=>{n=null,o(r)}),s-t)))},()=>r&&o(r)]},Na=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,n=0;const a=_a(50,250);return Sa((r=>{const s=r.loaded,o=r.lengthComputable?r.total:void 0,i=s-n,l=a(i);n=s;e({loaded:s,total:o,progress:o?s/o:void 0,bytes:i,rate:l||void 0,estimated:l&&o&&s<=o?(o-s)/l:void 0,event:r,lengthComputable:null!=o,[t?"download":"upload"]:!0})}),r)},Ea=(e,t)=>{const r=null!=e;return[n=>t[0]({lengthComputable:r,total:e,loaded:n}),t[1]]},Ca=e=>function(){for(var t=arguments.length,r=new Array(t),n=0;n<t;n++)r[n]=arguments[n];return zn.asap((()=>e(...r)))},Pa=la.hasStandardBrowserEnv?((e,t)=>r=>(r=new URL(r,la.origin),e.protocol===r.protocol&&e.host===r.host&&(t||e.port===r.port)))(new URL(la.origin),la.navigator&&/(msie|trident)/i.test(la.navigator.userAgent)):()=>!0,Oa=la.hasStandardBrowserEnv?{write(e,t,r,n,a,s){const o=[e+"="+encodeURIComponent(t)];zn.isNumber(r)&&o.push("expires="+new Date(r).toGMTString()),zn.isString(n)&&o.push("path="+n),zn.isString(a)&&o.push("domain="+a),!0===s&&o.push("secure"),document.cookie=o.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function Ta(e,t,r){let n=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(n||0==r)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const Ra=e=>e instanceof ya?lr({},e):e;function La(e,t){t=t||{};const r={};function n(e,t,r,n){return zn.isPlainObject(e)&&zn.isPlainObject(t)?zn.merge.call({caseless:n},e,t):zn.isPlainObject(t)?zn.merge({},t):zn.isArray(t)?t.slice():t}function a(e,t,r,a){return zn.isUndefined(t)?zn.isUndefined(e)?void 0:n(void 0,e,0,a):n(e,t,0,a)}function s(e,t){if(!zn.isUndefined(t))return n(void 0,t)}function o(e,t){return zn.isUndefined(t)?zn.isUndefined(e)?void 0:n(void 0,e):n(void 0,t)}function i(r,a,s){return s in t?n(r,a):s in e?n(void 0,r):void 0}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:i,headers:(e,t,r)=>a(Ra(e),Ra(t),0,!0)};return zn.forEach(Object.keys(Object.assign({},e,t)),(function(n){const s=l[n]||a,o=s(e[n],t[n],n);zn.isUndefined(o)&&s!==i||(r[n]=o)})),r}const Aa=e=>{const t=La({},e);let r,{data:n,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:o,headers:i,auth:l}=t;if(t.headers=i=ya.from(i),t.url=Zn(Ta(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),l&&i.set("Authorization","Basic "+btoa((l.username||"")+":"+(l.password?unescape(encodeURIComponent(l.password)):""))),zn.isFormData(n))if(la.hasStandardBrowserEnv||la.hasStandardBrowserWebWorkerEnv)i.setContentType(void 0);else if(!1!==(r=i.getContentType())){const[e,...t]=r?r.split(";").map((e=>e.trim())).filter(Boolean):[];i.setContentType([e||"multipart/form-data",...t].join("; "))}if(la.hasStandardBrowserEnv&&(a&&zn.isFunction(a)&&(a=a(t)),a||!1!==a&&Pa(t.url))){const e=s&&o&&Oa.read(o);e&&i.set(s,e)}return t},Ia="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise((function(t,r){const n=Aa(e);let a=n.data;const s=ya.from(n.headers).normalize();let o,i,l,c,u,{responseType:d,onUploadProgress:h,onDownloadProgress:f}=n;function p(){c&&c(),u&&u(),n.cancelToken&&n.cancelToken.unsubscribe(o),n.signal&&n.signal.removeEventListener("abort",o)}let m=new XMLHttpRequest;function g(){if(!m)return;const n=ya.from("getAllResponseHeaders"in m&&m.getAllResponseHeaders());ka((function(e){t(e),p()}),(function(e){r(e),p()}),{data:d&&"text"!==d&&"json"!==d?m.response:m.responseText,status:m.status,statusText:m.statusText,headers:n,config:e,request:m}),m=null}m.open(n.method.toUpperCase(),n.url,!0),m.timeout=n.timeout,"onloadend"in m?m.onloadend=g:m.onreadystatechange=function(){m&&4===m.readyState&&(0!==m.status||m.responseURL&&0===m.responseURL.indexOf("file:"))&&setTimeout(g)},m.onabort=function(){m&&(r(new qn("Request aborted",qn.ECONNABORTED,e,m)),m=null)},m.onerror=function(){r(new qn("Network Error",qn.ERR_NETWORK,e,m)),m=null},m.ontimeout=function(){let t=n.timeout?"timeout of "+n.timeout+"ms exceeded":"timeout exceeded";const a=n.transitional||ta;n.timeoutErrorMessage&&(t=n.timeoutErrorMessage),r(new qn(t,a.clarifyTimeoutError?qn.ETIMEDOUT:qn.ECONNABORTED,e,m)),m=null},void 0===a&&s.setContentType(null),"setRequestHeader"in m&&zn.forEach(s.toJSON(),(function(e,t){m.setRequestHeader(t,e)})),zn.isUndefined(n.withCredentials)||(m.withCredentials=!!n.withCredentials),d&&"json"!==d&&(m.responseType=n.responseType),f&&([l,u]=Na(f,!0),m.addEventListener("progress",l)),h&&m.upload&&([i,c]=Na(h),m.upload.addEventListener("progress",i),m.upload.addEventListener("loadend",c)),(n.cancelToken||n.signal)&&(o=t=>{m&&(r(!t||t.type?new ja(null,e,m):t),m.abort(),m=null)},n.cancelToken&&n.cancelToken.subscribe(o),n.signal&&(n.signal.aborted?o():n.signal.addEventListener("abort",o)));const v=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(n.url);v&&-1===la.protocols.indexOf(v)?r(new qn("Unsupported protocol "+v+":",qn.ERR_BAD_REQUEST,e)):m.send(a||null)}))},Ua=(e,t)=>{const{length:r}=e=e?e.filter(Boolean):[];if(t||r){let r,n=new AbortController;const a=function(e){if(!r){r=!0,o();const t=e instanceof Error?e:this.reason;n.abort(t instanceof qn?t:new ja(t instanceof Error?t.message:t))}};let s=t&&setTimeout((()=>{s=null,a(new qn("timeout ".concat(t," of ms exceeded"),qn.ETIMEDOUT))}),t);const o=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach((e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)})),e=null)};e.forEach((e=>e.addEventListener("abort",a)));const{signal:i}=n;return i.unsubscribe=()=>zn.asap(o),i}};function Da(e,t){this.v=e,this.k=t}function za(e){return function(){return new Ma(e.apply(this,arguments))}}function Ma(e){var t,r;function n(t,r){try{var s=e[t](r),o=s.value,i=o instanceof Da;Promise.resolve(i?o.v:o).then((function(r){if(i){var l="return"===t?"return":"next";if(!o.k||r.done)return n(l,r);r=e[l](r).value}a(s.done?"return":"normal",r)}),(function(e){n("throw",e)}))}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?n(t.key,t.arg):r=null}this._invoke=function(e,a){return new Promise((function(s,o){var i={key:e,arg:a,resolve:s,reject:o,next:null};r?r=r.next=i:(t=r=i,n(e,a))}))},"function"!=typeof e.return&&(this.return=void 0)}function Fa(e){return new Da(e,0)}function Ba(e){var t={},r=!1;function n(t,n){return r=!0,n=new Promise((function(r){r(e[t](n))})),{done:!1,value:new Da(n,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return r?(r=!1,e):n("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(r)throw r=!1,e;return n("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return r?(r=!1,e):n("return",e)}),t}function qa(e){var t,r,n,a=2;for("undefined"!=typeof Symbol&&(r=Symbol.asyncIterator,n=Symbol.iterator);a--;){if(r&&null!=(t=e[r]))return t.call(e);if(n&&null!=(t=e[n]))return new Wa(t.call(e));r="@@asyncIterator",n="@@iterator"}throw new TypeError("Object is not async iterable")}function Wa(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then((function(e){return{value:e,done:t}}))}return Wa=function(e){this.s=e,this.n=e.next},Wa.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var r=this.s.return;return void 0===r?Promise.resolve({value:e,done:!0}):t(r.apply(this.s,arguments))},throw:function(e){var r=this.s.return;return void 0===r?Promise.reject(e):t(r.apply(this.s,arguments))}},new Wa(e)}Ma.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},Ma.prototype.next=function(e){return this._invoke("next",e)},Ma.prototype.throw=function(e){return this._invoke("throw",e)},Ma.prototype.return=function(e){return this._invoke("return",e)};const Va=function*(e,t){let r=e.byteLength;if(!t||r<t)return void(yield e);let n,a=0;for(;a<r;)n=a+t,yield e.slice(a,n),a=n},Ha=function(){var e=za((function*(e,t){var r,n=!1,a=!1;try{for(var s,o=qa($a(e));n=!(s=yield Fa(o.next())).done;n=!1){const e=s.value;yield*Ba(qa(Va(e,t)))}}catch(i){a=!0,r=i}finally{try{n&&null!=o.return&&(yield Fa(o.return()))}finally{if(a)throw r}}}));return function(t,r){return e.apply(this,arguments)}}(),$a=function(){var e=za((function*(e){if(e[Symbol.asyncIterator])return void(yield*Ba(qa(e)));const t=e.getReader();try{for(;;){const{done:e,value:r}=yield Fa(t.read());if(e)break;yield r}}finally{yield Fa(t.cancel())}}));return function(t){return e.apply(this,arguments)}}(),Ka=(e,t,r,n)=>{const a=Ha(e,t);let s,o=0,i=e=>{s||(s=!0,n&&n(e))};return new ReadableStream({async pull(e){try{const{done:t,value:n}=await a.next();if(t)return i(),void e.close();let s=n.byteLength;if(r){let e=o+=s;r(e)}e.enqueue(new Uint8Array(n))}catch(t){throw i(t),t}},cancel:e=>(i(e),a.return())},{highWaterMark:2})},Ja="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,Ga=Ja&&"function"===typeof ReadableStream,Qa=Ja&&("function"===typeof TextEncoder?(Xa=new TextEncoder,e=>Xa.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var Xa;const Ya=function(e){try{for(var t=arguments.length,r=new Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!e(...r)}catch(Mc){return!1}},Za=Ga&&Ya((()=>{let e=!1;const t=new Request(la.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})),es=Ga&&Ya((()=>zn.isReadableStream(new Response("").body))),ts={stream:es&&(e=>e.body)};var rs;Ja&&(rs=new Response,["text","arrayBuffer","blob","formData","stream"].forEach((e=>{!ts[e]&&(ts[e]=zn.isFunction(rs[e])?t=>t[e]():(t,r)=>{throw new qn("Response type '".concat(e,"' is not supported"),qn.ERR_NOT_SUPPORT,r)})})));const ns=async(e,t)=>{const r=zn.toFiniteNumber(e.getContentLength());return null==r?(async e=>{if(null==e)return 0;if(zn.isBlob(e))return e.size;if(zn.isSpecCompliantForm(e)){const t=new Request(la.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return zn.isArrayBufferView(e)||zn.isArrayBuffer(e)?e.byteLength:(zn.isURLSearchParams(e)&&(e+=""),zn.isString(e)?(await Qa(e)).byteLength:void 0)})(t):r},as=Ja&&(async e=>{let{url:t,method:r,data:n,signal:a,cancelToken:s,timeout:o,onDownloadProgress:i,onUploadProgress:l,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:h}=Aa(e);c=c?(c+"").toLowerCase():"text";let f,p=Ua([a,s&&s.toAbortSignal()],o);const m=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let g;try{if(l&&Za&&"get"!==r&&"head"!==r&&0!==(g=await ns(u,n))){let e,r=new Request(t,{method:"POST",body:n,duplex:"half"});if(zn.isFormData(n)&&(e=r.headers.get("content-type"))&&u.setContentType(e),r.body){const[e,t]=Ea(g,Na(Ca(l)));n=Ka(r.body,65536,e,t)}}zn.isString(d)||(d=d?"include":"omit");const a="credentials"in Request.prototype;f=new Request(t,lr(lr({},h),{},{signal:p,method:r.toUpperCase(),headers:u.normalize().toJSON(),body:n,duplex:"half",credentials:a?d:void 0}));let s=await fetch(f);const o=es&&("stream"===c||"response"===c);if(es&&(i||o&&m)){const e={};["status","statusText","headers"].forEach((t=>{e[t]=s[t]}));const t=zn.toFiniteNumber(s.headers.get("content-length")),[r,n]=i&&Ea(t,Na(Ca(i),!0))||[];s=new Response(Ka(s.body,65536,r,(()=>{n&&n(),m&&m()})),e)}c=c||"text";let v=await ts[zn.findKey(ts,c)||"text"](s,e);return!o&&m&&m(),await new Promise(((t,r)=>{ka(t,r,{data:v,headers:ya.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:f})}))}catch(v){if(m&&m(),v&&"TypeError"===v.name&&/Load failed|fetch/i.test(v.message))throw Object.assign(new qn("Network Error",qn.ERR_NETWORK,e,f),{cause:v.cause||v});throw qn.from(v,v&&v.code,e,f)}}),ss={http:null,xhr:Ia,fetch:as};zn.forEach(ss,((e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Mc){}Object.defineProperty(e,"adapterName",{value:t})}}));const os=e=>"- ".concat(e),is=e=>zn.isFunction(e)||null===e||!1===e,ls=e=>{e=zn.isArray(e)?e:[e];const{length:t}=e;let r,n;const a={};for(let s=0;s<t;s++){let t;if(r=e[s],n=r,!is(r)&&(n=ss[(t=String(r)).toLowerCase()],void 0===n))throw new qn("Unknown adapter '".concat(t,"'"));if(n)break;a[t||"#"+s]=n}if(!n){const e=Object.entries(a).map((e=>{let[t,r]=e;return"adapter ".concat(t," ")+(!1===r?"is not supported by the environment":"is not available in the build")}));let r=t?e.length>1?"since :\n"+e.map(os).join("\n"):" "+os(e[0]):"as no adapter specified";throw new qn("There is no suitable adapter to dispatch the request "+r,"ERR_NOT_SUPPORT")}return n};function cs(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new ja(null,e)}function us(e){cs(e),e.headers=ya.from(e.headers),e.data=ba.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return ls(e.adapter||da.adapter)(e).then((function(t){return cs(e),t.data=ba.call(e,e.transformResponse,t),t.headers=ya.from(t.headers),t}),(function(t){return xa(t)||(cs(e),t&&t.response&&(t.response.data=ba.call(e,e.transformResponse,t.response),t.response.headers=ya.from(t.response.headers))),Promise.reject(t)}))}const ds="1.9.0",hs={};["object","boolean","number","function","string","symbol"].forEach(((e,t)=>{hs[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}}));const fs={};hs.transitional=function(e,t,r){function n(e,t){return"[Axios v1.9.0] Transitional option '"+e+"'"+t+(r?". "+r:"")}return(r,a,s)=>{if(!1===e)throw new qn(n(a," has been removed"+(t?" in "+t:"")),qn.ERR_DEPRECATED);return t&&!fs[a]&&(fs[a]=!0,console.warn(n(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(r,a,s)}},hs.spelling=function(e){return(t,r)=>(console.warn("".concat(r," is likely a misspelling of ").concat(e)),!0)};const ps={assertOptions:function(e,t,r){if("object"!==typeof e)throw new qn("options must be an object",qn.ERR_BAD_OPTION_VALUE);const n=Object.keys(e);let a=n.length;for(;a-- >0;){const s=n[a],o=t[s];if(o){const t=e[s],r=void 0===t||o(t,s,e);if(!0!==r)throw new qn("option "+s+" must be "+r,qn.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new qn("Unknown option "+s,qn.ERR_BAD_OPTION)}},validators:hs},ms=ps.validators;class gs{constructor(e){this.defaults=e||{},this.interceptors={request:new ea,response:new ea}}async request(e,t){try{return await this._request(e,t)}catch(r){if(r instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{r.stack?t&&!String(r.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(r.stack+="\n"+t):r.stack=t}catch(Mc){}}throw r}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=La(this.defaults,t);const{transitional:r,paramsSerializer:n,headers:a}=t;void 0!==r&&ps.assertOptions(r,{silentJSONParsing:ms.transitional(ms.boolean),forcedJSONParsing:ms.transitional(ms.boolean),clarifyTimeoutError:ms.transitional(ms.boolean)},!1),null!=n&&(zn.isFunction(n)?t.paramsSerializer={serialize:n}:ps.assertOptions(n,{encode:ms.function,serialize:ms.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),ps.assertOptions(t,{baseUrl:ms.spelling("baseURL"),withXsrfToken:ms.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&zn.merge(a.common,a[t.method]);a&&zn.forEach(["delete","get","head","post","put","patch","common"],(e=>{delete a[e]})),t.headers=ya.concat(s,a);const o=[];let i=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(i=i&&e.synchronous,o.unshift(e.fulfilled,e.rejected))}));const l=[];let c;this.interceptors.response.forEach((function(e){l.push(e.fulfilled,e.rejected)}));let u,d=0;if(!i){const e=[us.bind(this),void 0];for(e.unshift.apply(e,o),e.push.apply(e,l),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=o.length;let h=t;for(d=0;d<u;){const e=o[d++],t=o[d++];try{h=e(h)}catch(f){t.call(this,f);break}}try{c=us.call(this,h)}catch(f){return Promise.reject(f)}for(d=0,u=l.length;d<u;)c=c.then(l[d++],l[d++]);return c}getUri(e){return Zn(Ta((e=La(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}zn.forEach(["delete","get","head","options"],(function(e){gs.prototype[e]=function(t,r){return this.request(La(r||{},{method:e,url:t,data:(r||{}).data}))}})),zn.forEach(["post","put","patch"],(function(e){function t(t){return function(r,n,a){return this.request(La(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}gs.prototype[e]=t(),gs.prototype[e+"Form"]=t(!0)}));const vs=gs;class ys{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise((function(e){t=e}));const r=this;this.promise.then((e=>{if(!r._listeners)return;let t=r._listeners.length;for(;t-- >0;)r._listeners[t](e);r._listeners=null})),this.promise.then=e=>{let t;const n=new Promise((e=>{r.subscribe(e),t=e})).then(e);return n.cancel=function(){r.unsubscribe(t)},n},e((function(e,n,a){r.reason||(r.reason=new ja(e,n,a),t(r.reason))}))}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new ys((function(t){e=t}));return{token:t,cancel:e}}}const bs=ys;const xs={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(xs).forEach((e=>{let[t,r]=e;xs[r]=t}));const ws=xs;const js=function e(t){const r=new vs(t),n=Yr(vs.prototype.request,r);return zn.extend(n,vs.prototype,r,{allOwnKeys:!0}),zn.extend(n,r,null,{allOwnKeys:!0}),n.create=function(r){return e(La(t,r))},n}(da);js.Axios=vs,js.CanceledError=ja,js.CancelToken=bs,js.isCancel=xa,js.VERSION=ds,js.toFormData=Kn,js.AxiosError=qn,js.Cancel=js.CanceledError,js.all=function(e){return Promise.all(e)},js.spread=function(e){return function(t){return e.apply(null,t)}},js.isAxiosError=function(e){return zn.isObject(e)&&!0===e.isAxiosError},js.mergeConfig=La,js.AxiosHeaders=ya,js.formToJSON=e=>ca(zn.isHTMLForm(e)?new FormData(e):e),js.getAdapter=ls,js.HttpStatusCode=ws,js.default=js;const ks=js;class _s extends Error{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"FunctionsError",r=arguments.length>2?arguments[2]:void 0;super(e),this.name=t,this.context=r}}class Ss extends _s{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ns extends _s{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Es extends _s{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var Cs;!function(e){e.Any="any",e.ApNortheast1="ap-northeast-1",e.ApNortheast2="ap-northeast-2",e.ApSouth1="ap-south-1",e.ApSoutheast1="ap-southeast-1",e.ApSoutheast2="ap-southeast-2",e.CaCentral1="ca-central-1",e.EuCentral1="eu-central-1",e.EuWest1="eu-west-1",e.EuWest2="eu-west-2",e.EuWest3="eu-west-3",e.SaEast1="sa-east-1",e.UsEast1="us-east-1",e.UsWest1="us-west-1",e.UsWest2="us-west-2"}(Cs||(Cs={}));var Ps=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(Mc){s(Mc)}}function i(e){try{l(n.throw(e))}catch(Mc){s(Mc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((n=n.apply(e,t||[])).next())}))};class Os{constructor(e){let{headers:t={},customFetch:n,region:a=Cs.Any}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.url=e,this.headers=t,this.region=a,this.fetch=(e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}})(n)}setAuth(e){this.headers.Authorization="Bearer ".concat(e)}invoke(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r;return Ps(this,void 0,void 0,(function*(){try{const{headers:n,method:a,body:s}=t;let o,i={},{region:l}=t;l||(l=this.region),l&&"any"!==l&&(i["x-region"]=l),s&&(n&&!Object.prototype.hasOwnProperty.call(n,"Content-Type")||!n)&&("undefined"!==typeof Blob&&s instanceof Blob||s instanceof ArrayBuffer?(i["Content-Type"]="application/octet-stream",o=s):"string"===typeof s?(i["Content-Type"]="text/plain",o=s):"undefined"!==typeof FormData&&s instanceof FormData?o=s:(i["Content-Type"]="application/json",o=JSON.stringify(s)));const c=yield this.fetch("".concat(this.url,"/").concat(e),{method:a||"POST",headers:Object.assign(Object.assign(Object.assign({},i),this.headers),n),body:o}).catch((e=>{throw new Ss(e)})),u=c.headers.get("x-relay-error");if(u&&"true"===u)throw new Ns(c);if(!c.ok)throw new Es(c);let d,h=(null!==(r=c.headers.get("Content-Type"))&&void 0!==r?r:"text/plain").split(";")[0].trim();return d="application/json"===h?yield c.json():"application/octet-stream"===h?yield c.blob():"text/event-stream"===h?c:"multipart/form-data"===h?yield c.formData():yield c.text(),{data:d,error:null}}catch(n){return{data:null,error:n}}}))}}var Ts=r(980);const{PostgrestClient:Rs,PostgrestQueryBuilder:Ls,PostgrestFilterBuilder:As,PostgrestTransformBuilder:Is,PostgrestBuilder:Us,PostgrestError:Ds}=Ts,zs={"X-Client-Info":"realtime-js/".concat("2.11.2")};var Ms,Fs,Bs,qs,Ws,Vs;!function(e){e[e.connecting=0]="connecting",e[e.open=1]="open",e[e.closing=2]="closing",e[e.closed=3]="closed"}(Ms||(Ms={})),function(e){e.closed="closed",e.errored="errored",e.joined="joined",e.joining="joining",e.leaving="leaving"}(Fs||(Fs={})),function(e){e.close="phx_close",e.error="phx_error",e.join="phx_join",e.reply="phx_reply",e.leave="phx_leave",e.access_token="access_token"}(Bs||(Bs={})),function(e){e.websocket="websocket"}(qs||(qs={})),function(e){e.Connecting="connecting",e.Open="open",e.Closing="closing",e.Closed="closed"}(Ws||(Ws={}));class Hs{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t("string"===typeof e?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,t,r)}_decodeBroadcast(e,t,r){const n=t.getUint8(1),a=t.getUint8(2);let s=this.HEADER_LENGTH+2;const o=r.decode(e.slice(s,s+n));s+=n;const i=r.decode(e.slice(s,s+a));s+=a;return{ref:null,topic:o,event:i,payload:JSON.parse(r.decode(e.slice(s,e.byteLength)))}}}class $s{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout((()=>{this.tries=this.tries+1,this.callback()}),this.timerCalc(this.tries+1))}}!function(e){e.abstime="abstime",e.bool="bool",e.date="date",e.daterange="daterange",e.float4="float4",e.float8="float8",e.int2="int2",e.int4="int4",e.int4range="int4range",e.int8="int8",e.int8range="int8range",e.json="json",e.jsonb="jsonb",e.money="money",e.numeric="numeric",e.oid="oid",e.reltime="reltime",e.text="text",e.time="time",e.timestamp="timestamp",e.timestamptz="timestamptz",e.timetz="timetz",e.tsrange="tsrange",e.tstzrange="tstzrange"}(Vs||(Vs={}));const Ks=function(e,t){var r;const n=null!==(r=(arguments.length>2&&void 0!==arguments[2]?arguments[2]:{}).skipTypes)&&void 0!==r?r:[];return Object.keys(t).reduce(((r,a)=>(r[a]=Js(a,e,t,n),r)),{})},Js=(e,t,r,n)=>{const a=t.find((t=>t.name===e)),s=null===a||void 0===a?void 0:a.type,o=r[e];return s&&!n.includes(s)?Gs(s,o):Qs(o)},Gs=(e,t)=>{if("_"===e.charAt(0)){const r=e.slice(1,e.length);return eo(t,r)}switch(e){case Vs.bool:return Xs(t);case Vs.float4:case Vs.float8:case Vs.int2:case Vs.int4:case Vs.int8:case Vs.numeric:case Vs.oid:return Ys(t);case Vs.json:case Vs.jsonb:return Zs(t);case Vs.timestamp:return to(t);case Vs.abstime:case Vs.date:case Vs.daterange:case Vs.int4range:case Vs.int8range:case Vs.money:case Vs.reltime:case Vs.text:case Vs.time:case Vs.timestamptz:case Vs.timetz:case Vs.tsrange:case Vs.tstzrange:default:return Qs(t)}},Qs=e=>e,Xs=e=>{switch(e){case"t":return!0;case"f":return!1;default:return e}},Ys=e=>{if("string"===typeof e){const t=parseFloat(e);if(!Number.isNaN(t))return t}return e},Zs=e=>{if("string"===typeof e)try{return JSON.parse(e)}catch(t){return console.log("JSON parse error: ".concat(t)),e}return e},eo=(e,t)=>{if("string"!==typeof e)return e;const r=e.length-1,n=e[r];if("{"===e[0]&&"}"===n){let n;const a=e.slice(1,r);try{n=JSON.parse("["+a+"]")}catch(wt){n=a?a.split(","):[]}return n.map((e=>Gs(t,e)))}return e},to=e=>"string"===typeof e?e.replace(" ","T"):e,ro=e=>{let t=e;return t=t.replace(/^ws/i,"http"),t=t.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),t.replace(/\/+$/,"")};class no{constructor(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1e4;this.channel=e,this.event=t,this.payload=r,this.timeout=n,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var r;return this._hasReceived(e)&&t(null===(r=this.receivedResp)||void 0===r?void 0:r.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);this.channel._on(this.refEvent,{},(e=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=e,this._matchReceive(e)})),this.timeoutTimer=setTimeout((()=>{this.trigger("timeout",{})}),this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive(e){let{status:t,response:r}=e;this.recHooks.filter((e=>e.status===t)).forEach((e=>e.callback(r)))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var ao,so,oo,io;!function(e){e.SYNC="sync",e.JOIN="join",e.LEAVE="leave"}(ao||(ao={}));class lo{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(null===t||void 0===t?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.joinRef=this.channel._joinRef(),this.state=lo.syncState(this.state,e,t,r),this.pendingDiffs.forEach((e=>{this.state=lo.syncDiff(this.state,e,t,r)})),this.pendingDiffs=[],n()})),this.channel._on(r.diff,{},(e=>{const{onJoin:t,onLeave:r,onSync:n}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(e):(this.state=lo.syncDiff(this.state,e,t,r),n())})),this.onJoin(((e,t,r)=>{this.channel._trigger("presence",{event:"join",key:e,currentPresences:t,newPresences:r})})),this.onLeave(((e,t,r)=>{this.channel._trigger("presence",{event:"leave",key:e,currentPresences:t,leftPresences:r})})),this.onSync((()=>{this.channel._trigger("presence",{event:"sync"})}))}static syncState(e,t,r,n){const a=this.cloneDeep(e),s=this.transformState(t),o={},i={};return this.map(a,((e,t)=>{s[e]||(i[e]=t)})),this.map(s,((e,t)=>{const r=a[e];if(r){const n=t.map((e=>e.presence_ref)),a=r.map((e=>e.presence_ref)),s=t.filter((e=>a.indexOf(e.presence_ref)<0)),l=r.filter((e=>n.indexOf(e.presence_ref)<0));s.length>0&&(o[e]=s),l.length>0&&(i[e]=l)}else o[e]=t})),this.syncDiff(a,{joins:o,leaves:i},r,n)}static syncDiff(e,t,r,n){const{joins:a,leaves:s}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return r||(r=()=>{}),n||(n=()=>{}),this.map(a,((t,n)=>{var a;const s=null!==(a=e[t])&&void 0!==a?a:[];if(e[t]=this.cloneDeep(n),s.length>0){const r=e[t].map((e=>e.presence_ref)),n=s.filter((e=>r.indexOf(e.presence_ref)<0));e[t].unshift(...n)}r(t,s,n)})),this.map(s,((t,r)=>{let a=e[t];if(!a)return;const s=r.map((e=>e.presence_ref));a=a.filter((e=>s.indexOf(e.presence_ref)<0)),e[t]=a,n(t,a,r),0===a.length&&delete e[t]})),e}static map(e,t){return Object.getOwnPropertyNames(e).map((r=>t(r,e[r])))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce(((t,r)=>{const n=e[r];return t[r]="metas"in n?n.metas.map((e=>(e.presence_ref=e.phx_ref,delete e.phx_ref,delete e.phx_ref_prev,e))):n,t}),{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}!function(e){e.ALL="*",e.INSERT="INSERT",e.UPDATE="UPDATE",e.DELETE="DELETE"}(so||(so={})),function(e){e.BROADCAST="broadcast",e.PRESENCE="presence",e.POSTGRES_CHANGES="postgres_changes",e.SYSTEM="system"}(oo||(oo={})),function(e){e.SUBSCRIBED="SUBSCRIBED",e.TIMED_OUT="TIMED_OUT",e.CLOSED="CLOSED",e.CHANNEL_ERROR="CHANNEL_ERROR"}(io||(io={}));class co{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}},r=arguments.length>2?arguments[2]:void 0;this.topic=e,this.params=t,this.socket=r,this.bindings={},this.state=Fs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new no(this,Bs.join,this.params,this.timeout),this.rejoinTimer=new $s((()=>this._rejoinUntilConnected()),this.socket.reconnectAfterMs),this.joinPush.receive("ok",(()=>{this.state=Fs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach((e=>e.send())),this.pushBuffer=[]})),this._onClose((()=>{this.rejoinTimer.reset(),this.socket.log("channel","close ".concat(this.topic," ").concat(this._joinRef())),this.state=Fs.closed,this.socket._remove(this)})),this._onError((e=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel","error ".concat(this.topic),e),this.state=Fs.errored,this.rejoinTimer.scheduleTimeout())})),this.joinPush.receive("timeout",(()=>{this._isJoining()&&(this.socket.log("channel","timeout ".concat(this.topic),this.joinPush.timeout),this.state=Fs.errored,this.rejoinTimer.scheduleTimeout())})),this._on(Bs.reply,{},((e,t)=>{this._trigger(this._replyEventName(t),e)})),this.presence=new lo(this),this.broadcastEndpointURL=ro(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.timeout;var r,n;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:a,presence:s,private:o}}=this.params;this._onError((t=>null===e||void 0===e?void 0:e(io.CHANNEL_ERROR,t))),this._onClose((()=>null===e||void 0===e?void 0:e(io.CLOSED)));const i={},l={broadcast:a,presence:s,postgres_changes:null!==(n=null===(r=this.bindings.postgres_changes)||void 0===r?void 0:r.map((e=>e.filter)))&&void 0!==n?n:[],private:o};this.socket.accessTokenValue&&(i.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:l},i)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",(async t=>{let{postgres_changes:r}=t;var n;if(this.socket.setAuth(),void 0!==r){const t=this.bindings.postgres_changes,a=null!==(n=null===t||void 0===t?void 0:t.length)&&void 0!==n?n:0,s=[];for(let n=0;n<a;n++){const a=t[n],{filter:{event:o,schema:i,table:l,filter:c}}=a,u=r&&r[n];if(!u||u.event!==o||u.schema!==i||u.table!==l||u.filter!==c)return this.unsubscribe(),void(null===e||void 0===e||e(io.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes")));s.push(Object.assign(Object.assign({},a),{id:u.id}))}return this.bindings.postgres_changes=s,void(e&&e(io.SUBSCRIBED))}null===e||void 0===e||e(io.SUBSCRIBED)})).receive("error",(t=>{null===e||void 0===e||e(io.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(t).join(", ")||"error")))})).receive("timeout",(()=>{null===e||void 0===e||e(io.TIMED_OUT)}))}return this}presenceState(){return this.presence.state}async track(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return await this.send({type:"presence",event:"untrack"},e)}on(e,t,r){return this._on(e,t,r)}async send(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var r,n;if(this._canPush()||"broadcast"!==e.type)return new Promise((r=>{var n,a,s;const o=this._push(e.type,e,t.timeout||this.timeout);"broadcast"!==e.type||(null===(s=null===(a=null===(n=this.params)||void 0===n?void 0:n.config)||void 0===a?void 0:a.broadcast)||void 0===s?void 0:s.ack)||r("ok"),o.receive("ok",(()=>r("ok"))),o.receive("error",(()=>r("error"))),o.receive("timeout",(()=>r("timed out")))}));{const{event:s,payload:o}=e,i={method:"POST",headers:{Authorization:this.socket.accessTokenValue?"Bearer ".concat(this.socket.accessTokenValue):"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:o,private:this.private}]})};try{const e=await this._fetchWithTimeout(this.broadcastEndpointURL,i,null!==(r=t.timeout)&&void 0!==r?r:this.timeout);return await(null===(n=e.body)||void 0===n?void 0:n.cancel()),e.ok?"ok":"error"}catch(a){return"AbortError"===a.name?"timed out":"error"}}}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this.state=Fs.leaving;const t=()=>{this.socket.log("channel","leave ".concat(this.topic)),this._trigger(Bs.close,"leave",this._joinRef())};return this.rejoinTimer.reset(),this.joinPush.destroy(),new Promise((r=>{const n=new no(this,Bs.leave,{},e);n.receive("ok",(()=>{t(),r("ok")})).receive("timeout",(()=>{t(),r("timed out")})).receive("error",(()=>{r("error")})),n.send(),this._canPush()||n.trigger("ok",{})}))}async _fetchWithTimeout(e,t,r){const n=new AbortController,a=setTimeout((()=>n.abort()),r),s=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:n.signal}));return clearTimeout(a),s}_push(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.timeout;if(!this.joinedOnce)throw"tried to push '".concat(e,"' to '").concat(this.topic,"' before joining. Use channel.subscribe() before pushing events");let n=new no(this,e,t,r);return this._canPush()?n.send():(n.startTimeout(),this.pushBuffer.push(n)),n}_onMessage(e,t,r){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,r){var n,a;const s=e.toLocaleLowerCase(),{close:o,error:i,leave:l,join:c}=Bs;if(r&&[o,i,l,c].indexOf(s)>=0&&r!==this._joinRef())return;let u=this._onMessage(s,t,r);if(t&&!u)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(s)?null===(n=this.bindings.postgres_changes)||void 0===n||n.filter((e=>{var t,r,n;return"*"===(null===(t=e.filter)||void 0===t?void 0:t.event)||(null===(n=null===(r=e.filter)||void 0===r?void 0:r.event)||void 0===n?void 0:n.toLocaleLowerCase())===s})).map((e=>e.callback(u,r))):null===(a=this.bindings[s])||void 0===a||a.filter((e=>{var r,n,a,o,i,l;if(["broadcast","presence","postgres_changes"].includes(s)){if("id"in e){const s=e.id,o=null===(r=e.filter)||void 0===r?void 0:r.event;return s&&(null===(n=t.ids)||void 0===n?void 0:n.includes(s))&&("*"===o||(null===o||void 0===o?void 0:o.toLocaleLowerCase())===(null===(a=t.data)||void 0===a?void 0:a.type.toLocaleLowerCase()))}{const r=null===(i=null===(o=null===e||void 0===e?void 0:e.filter)||void 0===o?void 0:o.event)||void 0===i?void 0:i.toLocaleLowerCase();return"*"===r||r===(null===(l=null===t||void 0===t?void 0:t.event)||void 0===l?void 0:l.toLocaleLowerCase())}}return e.type.toLocaleLowerCase()===s})).map((e=>{if("object"===typeof u&&"ids"in u){const e=u.data,{schema:t,table:r,commit_timestamp:n,type:a,errors:s}=e,o={schema:t,table:r,commit_timestamp:n,eventType:a,new:{},old:{},errors:s};u=Object.assign(Object.assign({},o),this._getPayloadRecords(e))}e.callback(u,r)}))}_isClosed(){return this.state===Fs.closed}_isJoined(){return this.state===Fs.joined}_isJoining(){return this.state===Fs.joining}_isLeaving(){return this.state===Fs.leaving}_replyEventName(e){return"chan_reply_".concat(e)}_on(e,t,r){const n=e.toLocaleLowerCase(),a={type:n,filter:t,callback:r};return this.bindings[n]?this.bindings[n].push(a):this.bindings[n]=[a],this}_off(e,t){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter((e=>{var n;return!((null===(n=e.type)||void 0===n?void 0:n.toLocaleLowerCase())===r&&co.isEqual(e.filter,t))})),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const r in e)if(e[r]!==t[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Bs.close,{},e)}_onError(e){this._on(Bs.error,{},(t=>e(t)))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.timeout;this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Fs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return"INSERT"!==e.type&&"UPDATE"!==e.type||(t.new=Ks(e.columns,e.record)),"UPDATE"!==e.type&&"DELETE"!==e.type||(t.old=Ks(e.columns,e.old_record)),t}}const uo=()=>{},ho="undefined"!==typeof WebSocket;class fo{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=[],this.endPoint="",this.httpEndpoint="",this.headers=zs,this.params={},this.timeout=1e4,this.heartbeatIntervalMs=3e4,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.ref=0,this.logger=uo,this.conn=null,this.sendBuffer=[],this.serializer=new Hs,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},this.endPoint="".concat(e,"/").concat(qs.websocket),this.httpEndpoint=ro(e),(null===t||void 0===t?void 0:t.transport)?this.transport=t.transport:this.transport=null,(null===t||void 0===t?void 0:t.params)&&(this.params=t.params),(null===t||void 0===t?void 0:t.headers)&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),(null===t||void 0===t?void 0:t.timeout)&&(this.timeout=t.timeout),(null===t||void 0===t?void 0:t.logger)&&(this.logger=t.logger),(null===t||void 0===t?void 0:t.heartbeatIntervalMs)&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const a=null===(n=null===t||void 0===t?void 0:t.params)||void 0===n?void 0:n.apikey;if(a&&(this.accessTokenValue=a,this.apiKey=a),this.reconnectAfterMs=(null===t||void 0===t?void 0:t.reconnectAfterMs)?t.reconnectAfterMs:e=>[1e3,2e3,5e3,1e4][e-1]||1e4,this.encode=(null===t||void 0===t?void 0:t.encode)?t.encode:(e,t)=>t(JSON.stringify(e)),this.decode=(null===t||void 0===t?void 0:t.decode)?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new $s((async()=>{this.disconnect(),this.connect()}),this.reconnectAfterMs),this.fetch=this._resolveFetch(null===t||void 0===t?void 0:t.fetch),null===t||void 0===t?void 0:t.worker){if("undefined"!==typeof window&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(null===t||void 0===t?void 0:t.worker)||!1,this.workerUrl=null===t||void 0===t?void 0:t.workerUrl}this.accessToken=(null===t||void 0===t?void 0:t.accessToken)||null}connect(){if(!this.conn)if(this.transport)this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers});else{if(ho)return this.conn=new WebSocket(this.endpointURL()),void this.setupConnection();this.conn=new po(this.endpointURL(),void 0,{close:()=>{this.conn=null}}),r.e(952).then(r.t.bind(r,952,23)).then((e=>{let{default:t}=e;this.conn=new t(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection()}))}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:"1.0.0"}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,null!==t&&void 0!==t?t:""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset())}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return 0===this.channels.length&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map((e=>e.unsubscribe())));return this.disconnect(),e}log(e,t,r){this.logger(e,t,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Ms.connecting:return Ws.Connecting;case Ms.open:return Ws.Open;case Ms.closing:return Ws.Closing;default:return Ws.Closed}}isConnected(){return this.connectionState()===Ws.Open}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};const r=new co("realtime:".concat(e),t,this);return this.channels.push(r),r}push(e){const{topic:t,event:r,payload:n,ref:a}=e,s=()=>{this.encode(e,(e=>{var t;null===(t=this.conn)||void 0===t||t.send(e)}))};this.log("push","".concat(t," ").concat(r," (").concat(a,")"),n),this.isConnected()?s():this.sendBuffer.push(s)}async setAuth(){let e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:null)||this.accessToken&&await this.accessToken()||this.accessTokenValue;if(e){let r=null;try{r=JSON.parse(atob(e.split(".")[1]))}catch(t){}if(r&&r.exp){if(!(Math.floor(Date.now()/1e3)-r.exp<0))return this.log("auth",'InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(r.exp)),Promise.reject('InvalidJWTToken: Invalid value for JWT claim "exp" with value '.concat(r.exp))}this.accessTokenValue=e,this.channels.forEach((t=>{e&&t.updateJoinPayload({access_token:e}),t.joinedOnce&&t._isJoined()&&t._push(Bs.access_token,{access_token:e})}))}}async sendHeartbeat(){var e;if(this.isConnected()){if(this.pendingHeartbeatRef)return this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),void(null===(e=this.conn)||void 0===e||e.close(1e3,"hearbeat timeout"));this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.setAuth()}}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach((e=>e())),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find((t=>t.topic===e&&(t._isJoined()||t._isJoining())));t&&(this.log("transport",'leaving duplicate topic "'.concat(e,'"')),t.unsubscribe())}_remove(e){this.channels=this.channels.filter((t=>t._joinRef()!==e._joinRef()))}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,(e=>{let{topic:t,event:r,payload:n,ref:a}=e;a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive","".concat(n.status||""," ").concat(t," ").concat(r," ").concat(a&&"("+a+")"||""),n),this.channels.filter((e=>e._isMember(t))).forEach((e=>e._trigger(r,n,a))),this.stateChangeCallbacks.message.forEach((t=>t(e)))}))}async _onConnOpen(){if(this.log("transport","connected to ".concat(this.endpointURL())),this.flushSendBuffer(),this.reconnectTimer.reset(),this.worker){this.workerUrl?this.log("worker","starting worker for from ".concat(this.workerUrl)):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=e=>{this.log("worker","worker error",e.message),this.workerRef.terminate()},this.workerRef.onmessage=e=>{"keepAlive"===e.data.event&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}else this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval((()=>this.sendHeartbeat()),this.heartbeatIntervalMs);this.stateChangeCallbacks.open.forEach((e=>e()))}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach((t=>t(e)))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach((t=>t(e)))}_triggerChanError(){this.channels.forEach((e=>e._trigger(Bs.error)))}_appendParams(e,t){if(0===Object.keys(t).length)return e;const r=e.match(/\?/)?"&":"?",n=new URLSearchParams(t);return"".concat(e).concat(r).concat(n)}_workerObjectUrl(e){let t;if(e)t=e;else{const e=new Blob(['\n  addEventListener("message", (e) => {\n    if (e.data.event === "start") {\n      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);\n    }\n  });'],{type:"application/javascript"});t=URL.createObjectURL(e)}return t}}class po{constructor(e,t,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Ms.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class mo extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function go(e){return"object"===typeof e&&null!==e&&"__isStorageError"in e}class vo extends mo{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class yo extends mo{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var bo=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(Mc){s(Mc)}}function i(e){try{l(n.throw(e))}catch(Mc){s(Mc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const xo=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},wo=e=>{if(Array.isArray(e))return e.map((e=>wo(e)));if("function"===typeof e||e!==Object(e))return e;const t={};return Object.entries(e).forEach((e=>{let[r,n]=e;const a=r.replace(/([-_][a-z])/gi,(e=>e.toUpperCase().replace(/[-_]/g,"")));t[a]=wo(n)})),t};var jo=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(Mc){s(Mc)}}function i(e){try{l(n.throw(e))}catch(Mc){s(Mc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const ko=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),_o=(e,t,n)=>jo(void 0,void 0,void 0,(function*(){const a=yield bo(void 0,void 0,void 0,(function*(){return"undefined"===typeof Response?(yield Promise.resolve().then(r.bind(r,630))).Response:Response}));e instanceof a&&!(null===n||void 0===n?void 0:n.noResolveJson)?e.json().then((r=>{t(new vo(ko(r),e.status||500))})).catch((e=>{t(new yo(ko(e),e))})):t(new yo(ko(e),e))}));function So(e,t,r,n,a,s){return jo(this,void 0,void 0,(function*(){return new Promise(((o,i)=>{e(r,((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json"},null===t||void 0===t?void 0:t.headers),n&&(a.body=JSON.stringify(n)),Object.assign(Object.assign({},a),r))})(t,n,a,s)).then((e=>{if(!e.ok)throw e;return(null===n||void 0===n?void 0:n.noResolveJson)?e:e.json()})).then((e=>o(e))).catch((e=>_o(e,i,n)))}))}))}function No(e,t,r,n){return jo(this,void 0,void 0,(function*(){return So(e,"GET",t,r,n)}))}function Eo(e,t,r,n,a){return jo(this,void 0,void 0,(function*(){return So(e,"POST",t,n,a,r)}))}function Co(e,t,r,n,a){return jo(this,void 0,void 0,(function*(){return So(e,"DELETE",t,n,a,r)}))}var Po=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(Mc){s(Mc)}}function i(e){try{l(n.throw(e))}catch(Mc){s(Mc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const Oo={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},To={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ro{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0;this.url=e,this.headers=t,this.bucketId=r,this.fetch=xo(n)}uploadOrUpdate(e,t,r,n){return Po(this,void 0,void 0,(function*(){try{let a;const s=Object.assign(Object.assign({},To),n);let o=Object.assign(Object.assign({},this.headers),"POST"===e&&{"x-upsert":String(s.upsert)});const i=s.metadata;"undefined"!==typeof Blob&&r instanceof Blob?(a=new FormData,a.append("cacheControl",s.cacheControl),i&&a.append("metadata",this.encodeMetadata(i)),a.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(a=r,a.append("cacheControl",s.cacheControl),i&&a.append("metadata",this.encodeMetadata(i))):(a=r,o["cache-control"]="max-age=".concat(s.cacheControl),o["content-type"]=s.contentType,i&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(i)))),(null===n||void 0===n?void 0:n.headers)&&(o=Object.assign(Object.assign({},o),n.headers));const l=this._removeEmptyFolders(t),c=this._getFinalPath(l),u=yield this.fetch("".concat(this.url,"/object/").concat(c),Object.assign({method:e,body:a,headers:o},(null===s||void 0===s?void 0:s.duplex)?{duplex:s.duplex}:{})),d=yield u.json();if(u.ok)return{data:{path:l,id:d.Id,fullPath:d.Key},error:null};return{data:null,error:d}}catch(a){if(go(a))return{data:null,error:a};throw a}}))}upload(e,t,r){return Po(this,void 0,void 0,(function*(){return this.uploadOrUpdate("POST",e,t,r)}))}uploadToSignedUrl(e,t,r,n){return Po(this,void 0,void 0,(function*(){const a=this._removeEmptyFolders(e),s=this._getFinalPath(a),o=new URL(this.url+"/object/upload/sign/".concat(s));o.searchParams.set("token",t);try{let e;const t=Object.assign({upsert:To.upsert},n),s=Object.assign(Object.assign({},this.headers),{"x-upsert":String(t.upsert)});"undefined"!==typeof Blob&&r instanceof Blob?(e=new FormData,e.append("cacheControl",t.cacheControl),e.append("",r)):"undefined"!==typeof FormData&&r instanceof FormData?(e=r,e.append("cacheControl",t.cacheControl)):(e=r,s["cache-control"]="max-age=".concat(t.cacheControl),s["content-type"]=t.contentType);const i=yield this.fetch(o.toString(),{method:"PUT",body:e,headers:s}),l=yield i.json();if(i.ok)return{data:{path:a,fullPath:l.Key},error:null};return{data:null,error:l}}catch(i){if(go(i))return{data:null,error:i};throw i}}))}createSignedUploadUrl(e,t){return Po(this,void 0,void 0,(function*(){try{let r=this._getFinalPath(e);const n=Object.assign({},this.headers);(null===t||void 0===t?void 0:t.upsert)&&(n["x-upsert"]="true");const a=yield Eo(this.fetch,"".concat(this.url,"/object/upload/sign/").concat(r),{},{headers:n}),s=new URL(this.url+a.url),o=s.searchParams.get("token");if(!o)throw new mo("No token returned by API");return{data:{signedUrl:s.toString(),path:e,token:o},error:null}}catch(r){if(go(r))return{data:null,error:r};throw r}}))}update(e,t,r){return Po(this,void 0,void 0,(function*(){return this.uploadOrUpdate("PUT",e,t,r)}))}move(e,t,r){return Po(this,void 0,void 0,(function*(){try{return{data:yield Eo(this.fetch,"".concat(this.url,"/object/move"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(n){if(go(n))return{data:null,error:n};throw n}}))}copy(e,t,r){return Po(this,void 0,void 0,(function*(){try{return{data:{path:(yield Eo(this.fetch,"".concat(this.url,"/object/copy"),{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:null===r||void 0===r?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(n){if(go(n))return{data:null,error:n};throw n}}))}createSignedUrl(e,t,r){return Po(this,void 0,void 0,(function*(){try{let n=this._getFinalPath(e),a=yield Eo(this.fetch,"".concat(this.url,"/object/sign/").concat(n),Object.assign({expiresIn:t},(null===r||void 0===r?void 0:r.transform)?{transform:r.transform}:{}),{headers:this.headers});const s=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return a={signedUrl:encodeURI("".concat(this.url).concat(a.signedURL).concat(s))},{data:a,error:null}}catch(n){if(go(n))return{data:null,error:n};throw n}}))}createSignedUrls(e,t,r){return Po(this,void 0,void 0,(function*(){try{const n=yield Eo(this.fetch,"".concat(this.url,"/object/sign/").concat(this.bucketId),{expiresIn:t,paths:e},{headers:this.headers}),a=(null===r||void 0===r?void 0:r.download)?"&download=".concat(!0===r.download?"":r.download):"";return{data:n.map((e=>Object.assign(Object.assign({},e),{signedUrl:e.signedURL?encodeURI("".concat(this.url).concat(e.signedURL).concat(a)):null}))),error:null}}catch(n){if(go(n))return{data:null,error:n};throw n}}))}download(e,t){return Po(this,void 0,void 0,(function*(){const r="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image/authenticated":"object",n=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{}),a=n?"?".concat(n):"";try{const t=this._getFinalPath(e),n=yield No(this.fetch,"".concat(this.url,"/").concat(r,"/").concat(t).concat(a),{headers:this.headers,noResolveJson:!0});return{data:yield n.blob(),error:null}}catch(s){if(go(s))return{data:null,error:s};throw s}}))}info(e){return Po(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{const e=yield No(this.fetch,"".concat(this.url,"/object/info/").concat(t),{headers:this.headers});return{data:wo(e),error:null}}catch(r){if(go(r))return{data:null,error:r};throw r}}))}exists(e){return Po(this,void 0,void 0,(function*(){const t=this._getFinalPath(e);try{return yield function(e,t,r,n){return jo(this,void 0,void 0,(function*(){return So(e,"HEAD",t,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)}))}(this.fetch,"".concat(this.url,"/object/").concat(t),{headers:this.headers}),{data:!0,error:null}}catch(r){if(go(r)&&r instanceof yo){const e=r.originalError;if([400,404].includes(null===e||void 0===e?void 0:e.status))return{data:!1,error:r}}throw r}}))}getPublicUrl(e,t){const r=this._getFinalPath(e),n=[],a=(null===t||void 0===t?void 0:t.download)?"download=".concat(!0===t.download?"":t.download):"";""!==a&&n.push(a);const s="undefined"!==typeof(null===t||void 0===t?void 0:t.transform)?"render/image":"object",o=this.transformOptsToQueryString((null===t||void 0===t?void 0:t.transform)||{});""!==o&&n.push(o);let i=n.join("&");return""!==i&&(i="?".concat(i)),{data:{publicUrl:encodeURI("".concat(this.url,"/").concat(s,"/public/").concat(r).concat(i))}}}remove(e){return Po(this,void 0,void 0,(function*(){try{return{data:yield Co(this.fetch,"".concat(this.url,"/object/").concat(this.bucketId),{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(go(t))return{data:null,error:t};throw t}}))}list(e,t,r){return Po(this,void 0,void 0,(function*(){try{const n=Object.assign(Object.assign(Object.assign({},Oo),t),{prefix:e||""});return{data:yield Eo(this.fetch,"".concat(this.url,"/object/list/").concat(this.bucketId),n,{headers:this.headers},r),error:null}}catch(n){if(go(n))return{data:null,error:n};throw n}}))}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return"undefined"!==typeof Buffer?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return"".concat(this.bucketId,"/").concat(e)}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push("width=".concat(e.width)),e.height&&t.push("height=".concat(e.height)),e.resize&&t.push("resize=".concat(e.resize)),e.format&&t.push("format=".concat(e.format)),e.quality&&t.push("quality=".concat(e.quality)),t.join("&")}}const Lo={"X-Client-Info":"storage-js/".concat("2.7.1")};var Ao=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(Mc){s(Mc)}}function i(e){try{l(n.throw(e))}catch(Mc){s(Mc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((n=n.apply(e,t||[])).next())}))};class Io{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2?arguments[2]:void 0;this.url=e,this.headers=Object.assign(Object.assign({},Lo),t),this.fetch=xo(r)}listBuckets(){return Ao(this,void 0,void 0,(function*(){try{return{data:yield No(this.fetch,"".concat(this.url,"/bucket"),{headers:this.headers}),error:null}}catch(e){if(go(e))return{data:null,error:e};throw e}}))}getBucket(e){return Ao(this,void 0,void 0,(function*(){try{return{data:yield No(this.fetch,"".concat(this.url,"/bucket/").concat(e),{headers:this.headers}),error:null}}catch(t){if(go(t))return{data:null,error:t};throw t}}))}createBucket(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{public:!1};return Ao(this,void 0,void 0,(function*(){try{return{data:yield Eo(this.fetch,"".concat(this.url,"/bucket"),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(go(r))return{data:null,error:r};throw r}}))}updateBucket(e,t){return Ao(this,void 0,void 0,(function*(){try{const r=yield function(e,t,r,n,a){return jo(this,void 0,void 0,(function*(){return So(e,"PUT",t,n,a,r)}))}(this.fetch,"".concat(this.url,"/bucket/").concat(e),{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers});return{data:r,error:null}}catch(r){if(go(r))return{data:null,error:r};throw r}}))}emptyBucket(e){return Ao(this,void 0,void 0,(function*(){try{return{data:yield Eo(this.fetch,"".concat(this.url,"/bucket/").concat(e,"/empty"),{},{headers:this.headers}),error:null}}catch(t){if(go(t))return{data:null,error:t};throw t}}))}deleteBucket(e){return Ao(this,void 0,void 0,(function*(){try{return{data:yield Co(this.fetch,"".concat(this.url,"/bucket/").concat(e),{},{headers:this.headers}),error:null}}catch(t){if(go(t))return{data:null,error:t};throw t}}))}}class Uo extends Io{constructor(e){super(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},arguments.length>2?arguments[2]:void 0)}from(e){return new Ro(this.url,this.headers,e,this.fetch)}}let Do="";Do="undefined"!==typeof Deno?"deno":"undefined"!==typeof document?"web":"undefined"!==typeof navigator&&"ReactNative"===navigator.product?"react-native":"node";const zo={headers:{"X-Client-Info":"supabase-js-".concat(Do,"/").concat("2.49.8")}},Mo={schema:"public"},Fo={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},Bo={};var qo=r(630),Wo=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(Mc){s(Mc)}}function i(e){try{l(n.throw(e))}catch(Mc){s(Mc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const Vo=e=>{let t;return t=e||("undefined"===typeof fetch?qo.default:fetch),function(){return t(...arguments)}},Ho=(e,t,r)=>{const n=Vo(r),a="undefined"===typeof Headers?qo.Headers:Headers;return(r,s)=>Wo(void 0,void 0,void 0,(function*(){var o;const i=null!==(o=yield t())&&void 0!==o?o:e;let l=new a(null===s||void 0===s?void 0:s.headers);return l.has("apikey")||l.set("apikey",e),l.has("Authorization")||l.set("Authorization","Bearer ".concat(i)),n(r,Object.assign(Object.assign({},s),{headers:l}))}))};var $o=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(Mc){s(Mc)}}function i(e){try{l(n.throw(e))}catch(Mc){s(Mc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((n=n.apply(e,t||[])).next())}))};const Ko="2.69.1",Jo=3e4,Go=9e4,Qo={"X-Client-Info":"gotrue-js/".concat(Ko)},Xo="X-Supabase-Api-Version",Yo={timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"},Zo=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i;class ei extends Error{constructor(e,t,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=r}}function ti(e){return"object"===typeof e&&null!==e&&"__isAuthError"in e}class ri extends ei{constructor(e,t,r){super(e,t,r),this.name="AuthApiError",this.status=t,this.code=r}}class ni extends ei{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class ai extends ei{constructor(e,t,r,n){super(e,r,n),this.name=t,this.status=r}}class si extends ai{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}class oi extends ai{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ii extends ai{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class li extends ai{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ci extends ai{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ui extends ai{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function di(e){return ti(e)&&"AuthRetryableFetchError"===e.name}class hi extends ai{constructor(e,t,r){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=r}}class fi extends ai{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const pi="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mi=" \t\n\r=".split(""),gi=(()=>{const e=new Array(128);for(let t=0;t<e.length;t+=1)e[t]=-1;for(let t=0;t<mi.length;t+=1)e[mi[t].charCodeAt(0)]=-2;for(let t=0;t<pi.length;t+=1)e[pi[t].charCodeAt(0)]=t;return e})();function vi(e,t,r){const n=gi[e];if(!(n>-1)){if(-2===n)return;throw new Error('Invalid Base64-URL character "'.concat(String.fromCharCode(e),'"'))}for(t.queue=t.queue<<6|n,t.queuedBits+=6;t.queuedBits>=8;)r(t.queue>>t.queuedBits-8&255),t.queuedBits-=8}function yi(e){const t=[],r=e=>{t.push(String.fromCodePoint(e))},n={utf8seq:0,codepoint:0},a={queue:0,queuedBits:0},s=e=>{!function(e,t,r){if(0===t.utf8seq){if(e<=127)return void r(e);for(let r=1;r<6;r+=1)if(0===(e>>7-r&1)){t.utf8seq=r;break}if(2===t.utf8seq)t.codepoint=31&e;else if(3===t.utf8seq)t.codepoint=15&e;else{if(4!==t.utf8seq)throw new Error("Invalid UTF-8 sequence");t.codepoint=7&e}t.utf8seq-=1}else if(t.utf8seq>0){if(e<=127)throw new Error("Invalid UTF-8 sequence");t.codepoint=t.codepoint<<6|63&e,t.utf8seq-=1,0===t.utf8seq&&r(t.codepoint)}}(e,n,r)};for(let o=0;o<e.length;o+=1)vi(e.charCodeAt(o),a,s);return t.join("")}function bi(e,t){if(!(e<=127)){if(e<=2047)return t(192|e>>6),void t(128|63&e);if(e<=65535)return t(224|e>>12),t(128|e>>6&63),void t(128|63&e);if(e<=1114111)return t(240|e>>18),t(128|e>>12&63),t(128|e>>6&63),void t(128|63&e);throw new Error("Unrecognized Unicode codepoint: ".concat(e.toString(16)))}t(e)}function xi(e,t){for(let r=0;r<e.length;r+=1){let n=e.charCodeAt(r);if(n>55295&&n<=56319){const t=1024*(n-55296)&65535;n=65536+(e.charCodeAt(r+1)-56320&65535|t),r+=1}bi(n,t)}}function wi(e){const t=[],r={queue:0,queuedBits:0},n=e=>{t.push(e)};for(let a=0;a<e.length;a+=1)vi(e.charCodeAt(a),r,n);return new Uint8Array(t)}const ji=()=>"undefined"!==typeof window&&"undefined"!==typeof document,ki={tested:!1,writable:!1},_i=()=>{if(!ji())return!1;try{if("object"!==typeof globalThis.localStorage)return!1}catch(Mc){return!1}if(ki.tested)return ki.writable;const e="lswt-".concat(Math.random()).concat(Math.random());try{globalThis.localStorage.setItem(e,e),globalThis.localStorage.removeItem(e),ki.tested=!0,ki.writable=!0}catch(Mc){ki.tested=!0,ki.writable=!1}return ki.writable};const Si=e=>{let t;return t=e||("undefined"===typeof fetch?function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Promise.resolve().then(r.bind(r,630)).then((e=>{let{default:r}=e;return r(...t)}))}:fetch),function(){return t(...arguments)}},Ni=async(e,t,r)=>{await e.setItem(t,JSON.stringify(r))},Ei=async(e,t)=>{const r=await e.getItem(t);if(!r)return null;try{return JSON.parse(r)}catch(n){return r}},Ci=async(e,t)=>{await e.removeItem(t)};class Pi{constructor(){this.promise=new Pi.promiseConstructor(((e,t)=>{this.resolve=e,this.reject=t}))}}function Oi(e){const t=e.split(".");if(3!==t.length)throw new fi("Invalid JWT structure");for(let r=0;r<t.length;r++)if(!Zo.test(t[r]))throw new fi("JWT not in base64url format");return{header:JSON.parse(yi(t[0])),payload:JSON.parse(yi(t[1])),signature:wi(t[2]),raw:{header:t[0],payload:t[1]}}}function Ti(e){return("0"+e.toString(16)).substr(-2)}async function Ri(e){if(!("undefined"!==typeof crypto&&"undefined"!==typeof crypto.subtle&&"undefined"!==typeof TextEncoder))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),e;const t=await async function(e){const t=(new TextEncoder).encode(e),r=await crypto.subtle.digest("SHA-256",t),n=new Uint8Array(r);return Array.from(n).map((e=>String.fromCharCode(e))).join("")}(e);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Li(e,t){let r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const n=function(){const e=new Uint32Array(56);if("undefined"===typeof crypto){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",t=e.length;let r="";for(let n=0;n<56;n++)r+=e.charAt(Math.floor(Math.random()*t));return r}return crypto.getRandomValues(e),Array.from(e,Ti).join("")}();let a=n;r&&(a+="/PASSWORD_RECOVERY"),await Ni(e,"".concat(t,"-code-verifier"),a);const s=await Ri(n);return[s,n===s?"plain":"s256"]}Pi.promiseConstructor=Promise;const Ai=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;var Ii=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};const Ui=e=>e.msg||e.message||e.error_description||e.error||JSON.stringify(e),Di=[502,503,504];async function zi(e){var t,r;if(!("object"===typeof(r=e)&&null!==r&&"status"in r&&"ok"in r&&"json"in r&&"function"===typeof r.json))throw new ui(Ui(e),0);if(Di.includes(e.status))throw new ui(Ui(e),e.status);let n,a;try{n=await e.json()}catch(Mc){throw new ni(Ui(Mc),Mc)}const s=function(e){const t=e.headers.get(Xo);if(!t)return null;if(!t.match(Ai))return null;try{return new Date("".concat(t,"T00:00:00.0Z"))}catch(Mc){return null}}(e);if(s&&s.getTime()>=Yo.timestamp&&"object"===typeof n&&n&&"string"===typeof n.code?a=n.code:"object"===typeof n&&n&&"string"===typeof n.error_code&&(a=n.error_code),a){if("weak_password"===a)throw new hi(Ui(n),e.status,(null===(t=n.weak_password)||void 0===t?void 0:t.reasons)||[]);if("session_not_found"===a)throw new si}else if("object"===typeof n&&n&&"object"===typeof n.weak_password&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0))throw new hi(Ui(n),e.status,n.weak_password.reasons);throw new ri(Ui(n),e.status||500,a)}async function Mi(e,t,r,n){var a;const s=Object.assign({},null===n||void 0===n?void 0:n.headers);s[Xo]||(s[Xo]=Yo.name),(null===n||void 0===n?void 0:n.jwt)&&(s.Authorization="Bearer ".concat(n.jwt));const o=null!==(a=null===n||void 0===n?void 0:n.query)&&void 0!==a?a:{};(null===n||void 0===n?void 0:n.redirectTo)&&(o.redirect_to=n.redirectTo);const i=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await async function(e,t,r,n,a,s){const o=((e,t,r,n)=>{const a={method:e,headers:(null===t||void 0===t?void 0:t.headers)||{}};return"GET"===e?a:(a.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},null===t||void 0===t?void 0:t.headers),a.body=JSON.stringify(n),Object.assign(Object.assign({},a),r))})(t,n,a,s);let i;try{i=await e(r,Object.assign({},o))}catch(Mc){throw console.error(Mc),new ui(Ui(Mc),0)}i.ok||await zi(i);if(null===n||void 0===n?void 0:n.noResolveJson)return i;try{return await i.json()}catch(Mc){await zi(Mc)}}(e,t,r+i,{headers:s,noResolveJson:null===n||void 0===n?void 0:n.noResolveJson},{},null===n||void 0===n?void 0:n.body);return(null===n||void 0===n?void 0:n.xform)?null===n||void 0===n?void 0:n.xform(l):{data:Object.assign({},l),error:null}}function Fi(e){var t;let r=null;var n;(function(e){return e.access_token&&e.refresh_token&&e.expires_in})(e)&&(r=Object.assign({},e),e.expires_at||(r.expires_at=(n=e.expires_in,Math.round(Date.now()/1e3)+n)));return{data:{session:r,user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Bi(e){const t=Fi(e);return!t.error&&e.weak_password&&"object"===typeof e.weak_password&&Array.isArray(e.weak_password.reasons)&&e.weak_password.reasons.length&&e.weak_password.message&&"string"===typeof e.weak_password.message&&e.weak_password.reasons.reduce(((e,t)=>e&&"string"===typeof t),!0)&&(t.data.weak_password=e.weak_password),t}function qi(e){var t;return{data:{user:null!==(t=e.user)&&void 0!==t?t:e},error:null}}function Wi(e){return{data:e,error:null}}function Vi(e){const{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s}=e,o=Ii(e,["action_link","email_otp","hashed_token","redirect_to","verification_type"]);return{data:{properties:{action_link:t,email_otp:r,hashed_token:n,redirect_to:a,verification_type:s},user:Object.assign({},o)},error:null}}function Hi(e){return e}var $i=function(e,t){var r={};for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t.indexOf(n)<0&&(r[n]=e[n]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var a=0;for(n=Object.getOwnPropertySymbols(e);a<n.length;a++)t.indexOf(n[a])<0&&Object.prototype.propertyIsEnumerable.call(e,n[a])&&(r[n[a]]=e[n[a]])}return r};class Ki{constructor(e){let{url:t="",headers:r={},fetch:n}=e;this.url=t,this.headers=r,this.fetch=Si(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"global";try{return await Mi(this.fetch,"POST","".concat(this.url,"/logout?scope=").concat(t),{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ti(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await Mi(this.fetch,"POST","".concat(this.url,"/invite"),{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:qi})}catch(r){if(ti(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:t}=e,r=$i(e,["options"]),n=Object.assign(Object.assign({},r),t);return"newEmail"in r&&(n.new_email=null===r||void 0===r?void 0:r.newEmail,delete n.newEmail),await Mi(this.fetch,"POST","".concat(this.url,"/admin/generate_link"),{body:n,headers:this.headers,xform:Vi,redirectTo:null===t||void 0===t?void 0:t.redirectTo})}catch(t){if(ti(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Mi(this.fetch,"POST","".concat(this.url,"/admin/users"),{body:e,headers:this.headers,xform:qi})}catch(t){if(ti(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,r,n,a,s,o,i;try{const l={nextPage:null,lastPage:0,total:0},c=await Mi(this.fetch,"GET","".concat(this.url,"/admin/users"),{headers:this.headers,noResolveJson:!0,query:{page:null!==(r=null===(t=null===e||void 0===e?void 0:e.page)||void 0===t?void 0:t.toString())&&void 0!==r?r:"",per_page:null!==(a=null===(n=null===e||void 0===e?void 0:e.perPage)||void 0===n?void 0:n.toString())&&void 0!==a?a:""},xform:Hi});if(c.error)throw c.error;const u=await c.json(),d=null!==(s=c.headers.get("x-total-count"))&&void 0!==s?s:0,h=null!==(i=null===(o=c.headers.get("link"))||void 0===o?void 0:o.split(","))&&void 0!==i?i:[];return h.length>0&&(h.forEach((e=>{const t=parseInt(e.split(";")[0].split("=")[1].substring(0,1)),r=JSON.parse(e.split(";")[1].split("=")[1]);l["".concat(r,"Page")]=t})),l.total=parseInt(d)),{data:Object.assign(Object.assign({},u),l),error:null}}catch(l){if(ti(l))return{data:{users:[]},error:l};throw l}}async getUserById(e){try{return await Mi(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,xform:qi})}catch(t){if(ti(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Mi(this.fetch,"PUT","".concat(this.url,"/admin/users/").concat(e),{body:t,headers:this.headers,xform:qi})}catch(r){if(ti(r))return{data:{user:null},error:r};throw r}}async deleteUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];try{return await Mi(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e),{headers:this.headers,body:{should_soft_delete:t},xform:qi})}catch(r){if(ti(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){try{const{data:t,error:r}=await Mi(this.fetch,"GET","".concat(this.url,"/admin/users/").concat(e.userId,"/factors"),{headers:this.headers,xform:e=>({data:{factors:e},error:null})});return{data:t,error:r}}catch(t){if(ti(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Mi(this.fetch,"DELETE","".concat(this.url,"/admin/users/").concat(e.userId,"/factors/").concat(e.id),{headers:this.headers}),error:null}}catch(t){if(ti(t))return{data:null,error:t};throw t}}}const Ji={getItem:e=>_i()?globalThis.localStorage.getItem(e):null,setItem:(e,t)=>{_i()&&globalThis.localStorage.setItem(e,t)},removeItem:e=>{_i()&&globalThis.localStorage.removeItem(e)}};function Gi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return{getItem:t=>e[t]||null,setItem:(t,r)=>{e[t]=r},removeItem:t=>{delete e[t]}}}const Qi=!!(globalThis&&_i()&&globalThis.localStorage&&"true"===globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug"));class Xi extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Yi extends Xi{}async function Zi(e,t,r){Qi&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",e,t);const n=new globalThis.AbortController;return t>0&&setTimeout((()=>{n.abort(),Qi&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",e)}),t),await Promise.resolve().then((()=>globalThis.navigator.locks.request(e,0===t?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},(async n=>{if(!n){if(0===t)throw Qi&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",e),new Yi('Acquiring an exclusive Navigator LockManager lock "'.concat(e,'" immediately failed'));if(Qi)try{const e=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(e,null,"  "))}catch(Mc){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",Mc)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}Qi&&console.log("@supabase/gotrue-js: navigatorLock: acquired",e,n.name);try{return await r()}finally{Qi&&console.log("@supabase/gotrue-js: navigatorLock: released",e,n.name)}}))))}!function(){if("object"!==typeof globalThis)try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch(Mc){"undefined"!==typeof self&&(self.globalThis=self)}}();const el={url:"http://localhost:9999",storageKey:"supabase.auth.token",autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Qo,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function tl(e,t,r){return await r()}class rl{constructor(e){var t,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=rl.nextInstanceID,rl.nextInstanceID+=1,this.instanceID>0&&ji()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const n=Object.assign(Object.assign({},el),e);if(this.logDebugMessages=!!n.debug,"function"===typeof n.debug&&(this.logger=n.debug),this.persistSession=n.persistSession,this.storageKey=n.storageKey,this.autoRefreshToken=n.autoRefreshToken,this.admin=new Ki({url:n.url,headers:n.headers,fetch:n.fetch}),this.url=n.url,this.headers=n.headers,this.fetch=Si(n.fetch),this.lock=n.lock||tl,this.detectSessionInUrl=n.detectSessionInUrl,this.flowType=n.flowType,this.hasCustomAuthorizationHeader=n.hasCustomAuthorizationHeader,n.lock?this.lock=n.lock:ji()&&(null===(t=null===globalThis||void 0===globalThis?void 0:globalThis.navigator)||void 0===t?void 0:t.locks)?this.lock=Zi:this.lock=tl,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?n.storage?this.storage=n.storage:_i()?this.storage=Ji:(this.memoryStorage={},this.storage=Gi(this.memoryStorage)):(this.memoryStorage={},this.storage=Gi(this.memoryStorage)),ji()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(Mc){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",Mc)}null===(r=this.broadcastChannel)||void 0===r||r.addEventListener("message",(async e=>{this._debug("received broadcast notification from other tab or client",e),await this._notifyAllSubscribers(e.data.event,e.data.session,!1)}))}this.initialize()}_debug(){if(this.logDebugMessages){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];this.logger("GoTrueClient@".concat(this.instanceID," (").concat(Ko,") ").concat((new Date).toISOString()),...t)}return this}async initialize(){return this.initializePromise||(this.initializePromise=(async()=>await this._acquireLock(-1,(async()=>await this._initialize())))()),await this.initializePromise}async _initialize(){var e;try{const t=function(e){const t={},r=new URL(e);if(r.hash&&"#"===r.hash[0])try{new URLSearchParams(r.hash.substring(1)).forEach(((e,r)=>{t[r]=e}))}catch(Mc){}return r.searchParams.forEach(((e,r)=>{t[r]=e})),t}(window.location.href);let r="none";if(this._isImplicitGrantCallback(t)?r="implicit":await this._isPKCECallback(t)&&(r="pkce"),ji()&&this.detectSessionInUrl&&"none"!==r){const{data:n,error:a}=await this._getSessionFromURL(t,r);if(a){if(this._debug("#_initialize()","error detecting session from URL",a),function(e){return ti(e)&&"AuthImplicitGrantRedirectError"===e.name}(a)){const t=null===(e=a.details)||void 0===e?void 0:e.code;if("identity_already_exists"===t||"identity_not_found"===t||"single_identity_not_deletable"===t)return{error:a}}return await this._removeSession(),{error:a}}const{session:s,redirectType:o}=n;return this._debug("#_initialize()","detected session in URL",s,"redirect type",o),await this._saveSession(s),setTimeout((async()=>{"recovery"===o?await this._notifyAllSubscribers("PASSWORD_RECOVERY",s):await this._notifyAllSubscribers("SIGNED_IN",s)}),0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return ti(t)?{error:t}:{error:new ni("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,r,n;try{const a=await Mi(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{data:null!==(r=null===(t=null===e||void 0===e?void 0:e.options)||void 0===t?void 0:t.data)&&void 0!==r?r:{},gotrue_meta_security:{captcha_token:null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken}},xform:Fi}),{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(ti(a))return{data:{user:null,session:null},error:a};throw a}}async signUp(e){var t,r,n;try{let a;if("email"in e){const{email:r,password:n,options:s}=e;let o=null,i=null;"pkce"===this.flowType&&([o,i]=await Li(this.storage,this.storageKey)),a=await Mi(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,redirectTo:null===s||void 0===s?void 0:s.emailRedirectTo,body:{email:r,password:n,data:null!==(t=null===s||void 0===s?void 0:s.data)&&void 0!==t?t:{},gotrue_meta_security:{captcha_token:null===s||void 0===s?void 0:s.captchaToken},code_challenge:o,code_challenge_method:i},xform:Fi})}else{if(!("phone"in e))throw new ii("You must provide either an email or phone number and a password");{const{phone:t,password:s,options:o}=e;a=await Mi(this.fetch,"POST","".concat(this.url,"/signup"),{headers:this.headers,body:{phone:t,password:s,data:null!==(r=null===o||void 0===o?void 0:o.data)&&void 0!==r?r:{},channel:null!==(n=null===o||void 0===o?void 0:o.channel)&&void 0!==n?n:"sms",gotrue_meta_security:{captcha_token:null===o||void 0===o?void 0:o.captchaToken}},xform:Fi})}}const{data:s,error:o}=a;if(o||!s)return{data:{user:null,session:null},error:o};const i=s.session,l=s.user;return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(a){if(ti(a))return{data:{user:null,session:null},error:a};throw a}}async signInWithPassword(e){try{let t;if("email"in e){const{email:r,password:n,options:a}=e;t=await Mi(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{email:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Bi})}else{if(!("phone"in e))throw new ii("You must provide either an email or phone number and a password");{const{phone:r,password:n,options:a}=e;t=await Mi(this.fetch,"POST","".concat(this.url,"/token?grant_type=password"),{headers:this.headers,body:{phone:r,password:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},xform:Bi})}}const{data:r,error:n}=t;return n?{data:{user:null,session:null},error:n}:r&&r.session&&r.user?(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:n}):{data:{user:null,session:null},error:new oi}}catch(t){if(ti(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,r,n,a;return await this._handleProviderSignIn(e.provider,{redirectTo:null===(t=e.options)||void 0===t?void 0:t.redirectTo,scopes:null===(r=e.options)||void 0===r?void 0:r.scopes,queryParams:null===(n=e.options)||void 0===n?void 0:n.queryParams,skipBrowserRedirect:null===(a=e.options)||void 0===a?void 0:a.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,(async()=>this._exchangeCodeForSession(e)))}async _exchangeCodeForSession(e){const t=await Ei(this.storage,"".concat(this.storageKey,"-code-verifier")),[r,n]=(null!==t&&void 0!==t?t:"").split("/");try{const{data:t,error:a}=await Mi(this.fetch,"POST","".concat(this.url,"/token?grant_type=pkce"),{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:Fi});if(await Ci(this.storage,"".concat(this.storageKey,"-code-verifier")),a)throw a;return t&&t.session&&t.user?(t.session&&(await this._saveSession(t.session),await this._notifyAllSubscribers("SIGNED_IN",t.session)),{data:Object.assign(Object.assign({},t),{redirectType:null!==n&&void 0!==n?n:null}),error:a}):{data:{user:null,session:null,redirectType:null},error:new oi}}catch(a){if(ti(a))return{data:{user:null,session:null,redirectType:null},error:a};throw a}}async signInWithIdToken(e){try{const{options:t,provider:r,token:n,access_token:a,nonce:s}=e,o=await Mi(this.fetch,"POST","".concat(this.url,"/token?grant_type=id_token"),{headers:this.headers,body:{provider:r,id_token:n,access_token:a,nonce:s,gotrue_meta_security:{captcha_token:null===t||void 0===t?void 0:t.captchaToken}},xform:Fi}),{data:i,error:l}=o;return l?{data:{user:null,session:null},error:l}:i&&i.session&&i.user?(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:i,error:l}):{data:{user:null,session:null},error:new oi}}catch(t){if(ti(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,r,n,a,s;try{if("email"in e){const{email:n,options:a}=e;let s=null,o=null;"pkce"===this.flowType&&([s,o]=await Li(this.storage,this.storageKey));const{error:i}=await Mi(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{email:n,data:null!==(t=null===a||void 0===a?void 0:a.data)&&void 0!==t?t:{},create_user:null===(r=null===a||void 0===a?void 0:a.shouldCreateUser)||void 0===r||r,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken},code_challenge:s,code_challenge_method:o},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:i}}if("phone"in e){const{phone:t,options:r}=e,{data:o,error:i}=await Mi(this.fetch,"POST","".concat(this.url,"/otp"),{headers:this.headers,body:{phone:t,data:null!==(n=null===r||void 0===r?void 0:r.data)&&void 0!==n?n:{},create_user:null===(a=null===r||void 0===r?void 0:r.shouldCreateUser)||void 0===a||a,gotrue_meta_security:{captcha_token:null===r||void 0===r?void 0:r.captchaToken},channel:null!==(s=null===r||void 0===r?void 0:r.channel)&&void 0!==s?s:"sms"}});return{data:{user:null,session:null,messageId:null===o||void 0===o?void 0:o.message_id},error:i}}throw new ii("You must provide either an email or phone number.")}catch(o){if(ti(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,r;try{let n,a;"options"in e&&(n=null===(t=e.options)||void 0===t?void 0:t.redirectTo,a=null===(r=e.options)||void 0===r?void 0:r.captchaToken);const{data:s,error:o}=await Mi(this.fetch,"POST","".concat(this.url,"/verify"),{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:a}}),redirectTo:n,xform:Fi});if(o)throw o;if(!s)throw new Error("An error occurred on token verification.");const i=s.session,l=s.user;return(null===i||void 0===i?void 0:i.access_token)&&(await this._saveSession(i),await this._notifyAllSubscribers("recovery"==e.type?"PASSWORD_RECOVERY":"SIGNED_IN",i)),{data:{user:l,session:i},error:null}}catch(n){if(ti(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithSSO(e){var t,r,n;try{let a=null,s=null;return"pkce"===this.flowType&&([a,s]=await Li(this.storage,this.storageKey)),await Mi(this.fetch,"POST","".concat(this.url,"/sso"),{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:null!==(r=null===(t=e.options)||void 0===t?void 0:t.redirectTo)&&void 0!==r?r:void 0}),(null===(n=null===e||void 0===e?void 0:e.options)||void 0===n?void 0:n.captchaToken)?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:a,code_challenge_method:s}),headers:this.headers,xform:Wi})}catch(a){if(ti(a))return{data:null,error:a};throw a}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._reauthenticate()))}async _reauthenticate(){try{return await this._useSession((async e=>{const{data:{session:t},error:r}=e;if(r)throw r;if(!t)throw new si;const{error:n}=await Mi(this.fetch,"GET","".concat(this.url,"/reauthenticate"),{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:n}}))}catch(e){if(ti(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t="".concat(this.url,"/resend");if("email"in e){const{email:r,type:n,options:a}=e,{error:s}=await Mi(this.fetch,"POST",t,{headers:this.headers,body:{email:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}},redirectTo:null===a||void 0===a?void 0:a.emailRedirectTo});return{data:{user:null,session:null},error:s}}if("phone"in e){const{phone:r,type:n,options:a}=e,{data:s,error:o}=await Mi(this.fetch,"POST",t,{headers:this.headers,body:{phone:r,type:n,gotrue_meta_security:{captcha_token:null===a||void 0===a?void 0:a.captchaToken}}});return{data:{user:null,session:null,messageId:null===s||void 0===s?void 0:s.message_id},error:o}}throw new ii("You must provide either an email or phone number and a type")}catch(t){if(ti(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){await this.initializePromise;return await this._acquireLock(-1,(async()=>this._useSession((async e=>e))))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const e=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),r=(async()=>(await e,await t()))();return this.pendingInLock.push((async()=>{try{await r}catch(Mc){}})()),r}return await this.lock("lock:".concat(this.storageKey),e,(async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const e=t();for(this.pendingInLock.push((async()=>{try{await e}catch(Mc){}})()),await e;this.pendingInLock.length;){const e=[...this.pendingInLock];await Promise.all(e),this.pendingInLock.splice(0,e.length)}return await e}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}}))}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",(new Error).stack);try{let e=null;const t=await Ei(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),null!==t&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=!!e.expires_at&&1e3*e.expires_at-Date.now()<Go;if(this._debug("#__loadSession()","session has".concat(r?"":" not"," expired"),"expires_at",e.expires_at),!r){if(this.storage.isServer){let t=this.suppressGetSessionWarning;e=new Proxy(e,{get:(e,r,n)=>(t||"user"!==r||(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),t=!0,this.suppressGetSessionWarning=!0),Reflect.get(e,r,n))})}return{data:{session:e},error:null}}const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{session:null},error:a}:{data:{session:n},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){if(e)return await this._getUser(e);await this.initializePromise;return await this._acquireLock(-1,(async()=>await this._getUser()))}async _getUser(e){try{return e?await Mi(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:e,xform:qi}):await this._useSession((async e=>{var t,r,n;const{data:a,error:s}=e;if(s)throw s;return(null===(t=a.session)||void 0===t?void 0:t.access_token)||this.hasCustomAuthorizationHeader?await Mi(this.fetch,"GET","".concat(this.url,"/user"),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0,xform:qi}):{data:{user:null},error:new si}}))}catch(t){if(ti(t))return function(e){return ti(e)&&"AuthSessionMissingError"===e.name}(t)&&(await this._removeSession(),await Ci(this.storage,"".concat(this.storageKey,"-code-verifier"))),{data:{user:null},error:t};throw t}}async updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._updateUser(e,t)))}async _updateUser(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{return await this._useSession((async r=>{const{data:n,error:a}=r;if(a)throw a;if(!n.session)throw new si;const s=n.session;let o=null,i=null;"pkce"===this.flowType&&null!=e.email&&([o,i]=await Li(this.storage,this.storageKey));const{data:l,error:c}=await Mi(this.fetch,"PUT","".concat(this.url,"/user"),{headers:this.headers,redirectTo:null===t||void 0===t?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:i}),jwt:s.access_token,xform:qi});if(c)throw c;return s.user=l.user,await this._saveSession(s),await this._notifyAllSubscribers("USER_UPDATED",s),{data:{user:s.user},error:null}}))}catch(r){if(ti(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._setSession(e)))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new si;const t=Date.now()/1e3;let r=t,n=!0,a=null;const{payload:s}=Oi(e.access_token);if(s.exp&&(r=s.exp,n=r<=t),n){const{session:t,error:r}=await this._callRefreshToken(e.refresh_token);if(r)return{data:{user:null,session:null},error:r};if(!t)return{data:{user:null,session:null},error:null};a=t}else{const{data:n,error:s}=await this._getUser(e.access_token);if(s)throw s;a={access_token:e.access_token,refresh_token:e.refresh_token,user:n.user,token_type:"bearer",expires_in:r-t,expires_at:r},await this._saveSession(a),await this._notifyAllSubscribers("SIGNED_IN",a)}return{data:{user:a.user,session:a},error:null}}catch(t){if(ti(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._refreshSession(e)))}async _refreshSession(e){try{return await this._useSession((async t=>{var r;if(!e){const{data:n,error:a}=t;if(a)throw a;e=null!==(r=n.session)&&void 0!==r?r:void 0}if(!(null===e||void 0===e?void 0:e.refresh_token))throw new si;const{session:n,error:a}=await this._callRefreshToken(e.refresh_token);return a?{data:{user:null,session:null},error:a}:n?{data:{user:n.user,session:n},error:null}:{data:{user:null,session:null},error:null}}))}catch(t){if(ti(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!ji())throw new li("No browser detected.");if(e.error||e.error_description||e.error_code)throw new li(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if("pkce"===this.flowType)throw new ci("Not a valid PKCE flow url.");break;case"pkce":if("implicit"===this.flowType)throw new li("Not a valid implicit grant flow url.")}if("pkce"===t){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new ci("No code detected.");const{data:t,error:r}=await this._exchangeCodeForSession(e.code);if(r)throw r;const n=new URL(window.location.href);return n.searchParams.delete("code"),window.history.replaceState(window.history.state,"",n.toString()),{data:{session:t.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:n,access_token:a,refresh_token:s,expires_in:o,expires_at:i,token_type:l}=e;if(!a||!o||!s||!l)throw new li("No session defined in URL");const c=Math.round(Date.now()/1e3),u=parseInt(o);let d=c+u;i&&(d=parseInt(i));const h=d-c;1e3*h<=Jo&&console.warn("@supabase/gotrue-js: Session as retrieved from URL expires in ".concat(h,"s, should have been closer to ").concat(u,"s"));const f=d-u;c-f>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",f,d,c):c-f<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",f,d,c);const{data:p,error:m}=await this._getUser(a);if(m)throw m;const g={provider_token:r,provider_refresh_token:n,access_token:a,expires_in:u,expires_at:d,refresh_token:s,token_type:l,user:p.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(ti(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return Boolean(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await Ei(this.storage,"".concat(this.storageKey,"-code-verifier"));return!(!e.code||!t)}async signOut(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this.initializePromise,await this._acquireLock(-1,(async()=>await this._signOut(e)))}async _signOut(){let{scope:e}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{scope:"global"};return await this._useSession((async t=>{var r;const{data:n,error:a}=t;if(a)return{error:a};const s=null===(r=n.session)||void 0===r?void 0:r.access_token;if(s){const{error:t}=await this.admin.signOut(s,e);if(t&&(!function(e){return ti(e)&&"AuthApiError"===e.name}(t)||404!==t.status&&401!==t.status&&403!==t.status))return{error:t}}return"others"!==e&&(await this._removeSession(),await Ci(this.storage,"".concat(this.storageKey,"-code-verifier"))),{error:null}}))}onAuthStateChange(e){const t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,(function(e){const t=16*Math.random()|0;return("x"==e?t:3&t|8).toString(16)})),r={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,r),(async()=>{await this.initializePromise,await this._acquireLock(-1,(async()=>{this._emitInitialSession(t)}))})(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession((async t=>{var r,n;try{const{data:{session:n},error:a}=t;if(a)throw a;await(null===(r=this.stateChangeEmitters.get(e))||void 0===r?void 0:r.callback("INITIAL_SESSION",n)),this._debug("INITIAL_SESSION","callback id",e,"session",n)}catch(a){await(null===(n=this.stateChangeEmitters.get(e))||void 0===n?void 0:n.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",a),console.error(a)}}))}async resetPasswordForEmail(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=null,n=null;"pkce"===this.flowType&&([r,n]=await Li(this.storage,this.storageKey,!0));try{return await Mi(this.fetch,"POST","".concat(this.url,"/recover"),{body:{email:e,code_challenge:r,code_challenge_method:n,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(a){if(ti(a))return{data:null,error:a};throw a}}async getUserIdentities(){var e;try{const{data:t,error:r}=await this.getUser();if(r)throw r;return{data:{identities:null!==(e=t.user.identities)&&void 0!==e?e:[]},error:null}}catch(t){if(ti(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:r,error:n}=await this._useSession((async t=>{var r,n,a,s,o;const{data:i,error:l}=t;if(l)throw l;const c=await this._getUrlForProvider("".concat(this.url,"/user/identities/authorize"),e.provider,{redirectTo:null===(r=e.options)||void 0===r?void 0:r.redirectTo,scopes:null===(n=e.options)||void 0===n?void 0:n.scopes,queryParams:null===(a=e.options)||void 0===a?void 0:a.queryParams,skipBrowserRedirect:!0});return await Mi(this.fetch,"GET",c,{headers:this.headers,jwt:null!==(o=null===(s=i.session)||void 0===s?void 0:s.access_token)&&void 0!==o?o:void 0})}));if(n)throw n;return ji()&&!(null===(t=e.options)||void 0===t?void 0:t.skipBrowserRedirect)&&window.location.assign(null===r||void 0===r?void 0:r.url),{data:{provider:e.provider,url:null===r||void 0===r?void 0:r.url},error:null}}catch(r){if(ti(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession((async t=>{var r,n;const{data:a,error:s}=t;if(s)throw s;return await Mi(this.fetch,"DELETE","".concat(this.url,"/user/identities/").concat(e.identity_id),{headers:this.headers,jwt:null!==(n=null===(r=a.session)||void 0===r?void 0:r.access_token)&&void 0!==n?n:void 0})}))}catch(t){if(ti(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t="#_refreshAccessToken(".concat(e.substring(0,5),"...)");this._debug(t,"begin");try{const r=Date.now();return await function(e,t){const r=new Promise(((r,n)=>{(async()=>{for(let a=0;a<1/0;a++)try{const n=await e(a);if(!t(a,null,n))return void r(n)}catch(Mc){if(!t(a,Mc))return void n(Mc)}})()}));return r}((async r=>(r>0&&await async function(e){return await new Promise((t=>{setTimeout((()=>t(null)),e)}))}(200*Math.pow(2,r-1)),this._debug(t,"refreshing attempt",r),await Mi(this.fetch,"POST","".concat(this.url,"/token?grant_type=refresh_token"),{body:{refresh_token:e},headers:this.headers,xform:Fi}))),((e,t)=>{const n=200*Math.pow(2,e);return t&&di(t)&&Date.now()+n-r<Jo}))}catch(r){if(this._debug(t,"error",r),ti(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(t,"end")}}_isValidSession(e){return"object"===typeof e&&null!==e&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const r=await this._getUrlForProvider("".concat(this.url,"/authorize"),e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",r),ji()&&!t.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const r=await Ei(this.storage,this.storageKey);if(this._debug(t,"session from storage",r),!this._isValidSession(r))return this._debug(t,"session is not valid"),void(null!==r&&await this._removeSession());const n=1e3*(null!==(e=r.expires_at)&&void 0!==e?e:1/0)-Date.now()<Go;if(this._debug(t,"session has".concat(n?"":" not"," expired with margin of ").concat(Go,"s")),n){if(this.autoRefreshToken&&r.refresh_token){const{error:e}=await this._callRefreshToken(r.refresh_token);e&&(console.error(e),di(e)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",e),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){return this._debug(t,"error",r),void console.error(r)}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,r;if(!e)throw new si;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const n="#_callRefreshToken(".concat(e.substring(0,5),"...)");this._debug(n,"begin");try{this.refreshingDeferred=new Pi;const{data:t,error:r}=await this._refreshAccessToken(e);if(r)throw r;if(!t.session)throw new si;await this._saveSession(t.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",t.session);const n={session:t.session,error:null};return this.refreshingDeferred.resolve(n),n}catch(a){if(this._debug(n,"error",a),ti(a)){const e={session:null,error:a};return di(a)||await this._removeSession(),null===(t=this.refreshingDeferred)||void 0===t||t.resolve(e),e}throw null===(r=this.refreshingDeferred)||void 0===r||r.reject(a),a}finally{this.refreshingDeferred=null,this._debug(n,"end")}}async _notifyAllSubscribers(e,t){let r=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const n="#_notifyAllSubscribers(".concat(e,")");this._debug(n,"begin",t,"broadcast = ".concat(r));try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:t});const n=[],a=Array.from(this.stateChangeEmitters.values()).map((async r=>{try{await r.callback(e,t)}catch(Mc){n.push(Mc)}}));if(await Promise.all(a),n.length>0){for(let e=0;e<n.length;e+=1)console.error(n[e]);throw n[0]}}finally{this._debug(n,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Ni(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Ci(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&ji()&&(null===window||void 0===window?void 0:window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(Mc){console.error("removing visibilitychange callback failed",Mc)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval((()=>this._autoRefreshTokenTick()),Jo);this.autoRefreshTicker=e,e&&"object"===typeof e&&"function"===typeof e.unref?e.unref():"undefined"!==typeof Deno&&"function"===typeof Deno.unrefTimer&&Deno.unrefTimer(e),setTimeout((async()=>{await this.initializePromise,await this._autoRefreshTokenTick()}),0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,(async()=>{try{const e=Date.now();try{return await this._useSession((async t=>{const{data:{session:r}}=t;if(!r||!r.refresh_token||!r.expires_at)return void this._debug("#_autoRefreshTokenTick()","no session");const n=Math.floor((1e3*r.expires_at-e)/Jo);this._debug("#_autoRefreshTokenTick()","access token expires in ".concat(n," ticks, a tick lasts ").concat(Jo,"ms, refresh threshold is ").concat(3," ticks")),n<=3&&await this._callRefreshToken(r.refresh_token)}))}catch(Mc){console.error("Auto refresh tick failed with error. This is likely a transient error.",Mc)}}finally{this._debug("#_autoRefreshTokenTick()","end")}}))}catch(Mc){if(!(Mc.isAcquireTimeout||Mc instanceof Xi))throw Mc;this._debug("auto refresh token tick lock not available")}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ji()||!(null===window||void 0===window?void 0:window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),null===window||void 0===window||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t="#_onVisibilityChanged(".concat(e,")");this._debug(t,"visibilityState",document.visibilityState),"visible"===document.visibilityState?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,(async()=>{"visible"===document.visibilityState?await this._recoverAndRefresh():this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting")})))):"hidden"===document.visibilityState&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,r){const n=["provider=".concat(encodeURIComponent(t))];if((null===r||void 0===r?void 0:r.redirectTo)&&n.push("redirect_to=".concat(encodeURIComponent(r.redirectTo))),(null===r||void 0===r?void 0:r.scopes)&&n.push("scopes=".concat(encodeURIComponent(r.scopes))),"pkce"===this.flowType){const[e,t]=await Li(this.storage,this.storageKey),r=new URLSearchParams({code_challenge:"".concat(encodeURIComponent(e)),code_challenge_method:"".concat(encodeURIComponent(t))});n.push(r.toString())}if(null===r||void 0===r?void 0:r.queryParams){const e=new URLSearchParams(r.queryParams);n.push(e.toString())}return(null===r||void 0===r?void 0:r.skipBrowserRedirect)&&n.push("skip_http_redirect=".concat(r.skipBrowserRedirect)),"".concat(e,"?").concat(n.join("&"))}async _unenroll(e){try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await Mi(this.fetch,"DELETE","".concat(this.url,"/factors/").concat(e.factorId),{headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(ti(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession((async t=>{var r,n;const{data:a,error:s}=t;if(s)return{data:null,error:s};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},"phone"===e.factorType?{phone:e.phone}:{issuer:e.issuer}),{data:i,error:l}=await Mi(this.fetch,"POST","".concat(this.url,"/factors"),{body:o,headers:this.headers,jwt:null===(r=null===a||void 0===a?void 0:a.session)||void 0===r?void 0:r.access_token});return l?{data:null,error:l}:("totp"===e.factorType&&(null===(n=null===i||void 0===i?void 0:i.totp)||void 0===n?void 0:n.qr_code)&&(i.totp.qr_code="data:image/svg+xml;utf-8,".concat(i.totp.qr_code)),{data:i,error:null})}))}catch(t){if(ti(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;if(a)return{data:null,error:a};const{data:s,error:o}=await Mi(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/verify"),{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+s.expires_in},s)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",s),{data:s,error:o})}))}catch(t){if(ti(t))return{data:null,error:t};throw t}}))}async _challenge(e){return this._acquireLock(-1,(async()=>{try{return await this._useSession((async t=>{var r;const{data:n,error:a}=t;return a?{data:null,error:a}:await Mi(this.fetch,"POST","".concat(this.url,"/factors/").concat(e.factorId,"/challenge"),{body:{channel:e.channel},headers:this.headers,jwt:null===(r=null===n||void 0===n?void 0:n.session)||void 0===r?void 0:r.access_token})}))}catch(t){if(ti(t))return{data:null,error:t};throw t}}))}async _challengeAndVerify(e){const{data:t,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const r=(null===e||void 0===e?void 0:e.factors)||[],n=r.filter((e=>"totp"===e.factor_type&&"verified"===e.status)),a=r.filter((e=>"phone"===e.factor_type&&"verified"===e.status));return{data:{all:r,totp:n,phone:a},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,(async()=>await this._useSession((async e=>{var t,r;const{data:{session:n},error:a}=e;if(a)return{data:null,error:a};if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=Oi(n.access_token);let o=null;s.aal&&(o=s.aal);let i=o;(null!==(r=null===(t=n.user.factors)||void 0===t?void 0:t.filter((e=>"verified"===e.status)))&&void 0!==r?r:[]).length>0&&(i="aal2");return{data:{currentLevel:o,nextLevel:i,currentAuthenticationMethods:s.amr||[]},error:null}}))))}async fetchJwk(e){let t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]}).keys.find((t=>t.kid===e));if(t)return t;if(t=this.jwks.keys.find((t=>t.kid===e)),t&&this.jwks_cached_at+6e5>Date.now())return t;const{data:r,error:n}=await Mi(this.fetch,"GET","".concat(this.url,"/.well-known/jwks.json"),{headers:this.headers});if(n)throw n;if(!r.keys||0===r.keys.length)throw new fi("JWKS is empty");if(this.jwks=r,this.jwks_cached_at=Date.now(),t=r.keys.find((t=>t.kid===e)),!t)throw new fi("No matching signing key found in JWKS");return t}async getClaims(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{keys:[]};try{let r=e;if(!r){const{data:e,error:t}=await this.getSession();if(t||!e.session)return{data:null,error:t};r=e.session.access_token}const{header:n,payload:a,signature:s,raw:{header:o,payload:i}}=Oi(r);if(function(e){if(!e)throw new Error("Missing exp claim");if(e<=Math.floor(Date.now()/1e3))throw new Error("JWT has expired")}(a.exp),!n.kid||"HS256"===n.alg||!("crypto"in globalThis)||!("subtle"in globalThis.crypto)){const{error:e}=await this.getUser(r);if(e)throw e;return{data:{claims:a,header:n,signature:s},error:null}}const l=function(e){switch(e){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}(n.alg),c=await this.fetchJwk(n.kid,t),u=await crypto.subtle.importKey("jwk",c,l,!0,["verify"]);if(!await crypto.subtle.verify(l,u,s,function(e){const t=[];return xi(e,(e=>t.push(e))),new Uint8Array(t)}("".concat(o,".").concat(i))))throw new fi("Invalid JWT signature");return{data:{claims:a,header:n,signature:s},error:null}}catch(r){if(ti(r))return{data:null,error:r};throw r}}}rl.nextInstanceID=0;const nl=rl;class al extends nl{constructor(e){super(e)}}var sl=function(e,t,r,n){return new(r||(r=Promise))((function(a,s){function o(e){try{l(n.next(e))}catch(Mc){s(Mc)}}function i(e){try{l(n.throw(e))}catch(Mc){s(Mc)}}function l(e){var t;e.done?a(e.value):(t=e.value,t instanceof r?t:new r((function(e){e(t)}))).then(o,i)}l((n=n.apply(e,t||[])).next())}))};class ol{constructor(e,t,r){var n,a,s;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=(i=e).endsWith("/")?i:i+"/";var i;const l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c="sb-".concat(l.hostname.split(".")[0],"-auth-token"),u=function(e,t){var r,n;const{db:a,auth:s,realtime:o,global:i}=e,{db:l,auth:c,realtime:u,global:d}=t,h={db:Object.assign(Object.assign({},l),a),auth:Object.assign(Object.assign({},c),s),realtime:Object.assign(Object.assign({},u),o),global:Object.assign(Object.assign(Object.assign({},d),i),{headers:Object.assign(Object.assign({},null!==(r=null===d||void 0===d?void 0:d.headers)&&void 0!==r?r:{}),null!==(n=null===i||void 0===i?void 0:i.headers)&&void 0!==n?n:{})}),accessToken:()=>$o(this,void 0,void 0,(function*(){return""}))};return e.accessToken?h.accessToken=e.accessToken:delete h.accessToken,h}(null!==r&&void 0!==r?r:{},{db:Mo,realtime:Bo,auth:Object.assign(Object.assign({},Fo),{storageKey:c}),global:zo});this.storageKey=null!==(n=u.auth.storageKey)&&void 0!==n?n:"",this.headers=null!==(a=u.global.headers)&&void 0!==a?a:{},u.accessToken?(this.accessToken=u.accessToken,this.auth=new Proxy({},{get:(e,t)=>{throw new Error("@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.".concat(String(t)," is not possible"))}})):this.auth=this._initSupabaseAuthClient(null!==(s=u.auth)&&void 0!==s?s:{},this.headers,u.global.fetch),this.fetch=Ho(t,this._getAccessToken.bind(this),u.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},u.realtime)),this.rest=new Rs(new URL("rest/v1",l).href,{headers:this.headers,schema:u.db.schema,fetch:this.fetch}),u.accessToken||this._listenForAuthEvents()}get functions(){return new Os(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new Uo(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return this.rest.rpc(e,t,r)}channel(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{config:{}};return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return sl(this,void 0,void 0,(function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return null!==(t=null===(e=r.session)||void 0===e?void 0:e.access_token)&&void 0!==t?t:null}))}_initSupabaseAuthClient(e,t,r){let{autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:o,storageKey:i,flowType:l,lock:c,debug:u}=e;const d={Authorization:"Bearer ".concat(this.supabaseKey),apikey:"".concat(this.supabaseKey)};return new al({url:this.authUrl.href,headers:Object.assign(Object.assign({},d),t),storageKey:i,autoRefreshToken:n,persistSession:a,detectSessionInUrl:s,storage:o,flowType:l,lock:c,debug:u,fetch:r,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new fo(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},null===e||void 0===e?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange(((e,t)=>{this._handleTokenChanged(e,"CLIENT",null===t||void 0===t?void 0:t.access_token)}))}_handleTokenChanged(e,t,r){"TOKEN_REFRESHED"!==e&&"SIGNED_IN"!==e||this.changedAccessToken===r?"SIGNED_OUT"===e&&(this.realtime.setAuth(),"STORAGE"==t&&this.auth.signOut(),this.changedAccessToken=void 0):this.changedAccessToken=r}}const il="https://iwrutwcngkoxbtznsfkb.supabase.co",ll="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Iml3cnV0d2NuZ2tveGJ0em5zZmtiIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDgxNDkyODYsImV4cCI6MjA2MzcyNTI4Nn0.hC1DP_GPHslrl8Be5IIsnesSCOCov7b4qaFGALt23A8";const cl=((e,t,r)=>new ol(e,t,r))(il,ll,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0}}),ul={async signIn(e,t){console.log("\ud83d\udd04 Supabase signIn \uc2dc\ub3c4:",{email:e});const{data:r,error:n}=await cl.auth.signInWithPassword({email:e,password:t});if(n){console.error("\u274c Supabase signIn \uc2e4\ud328:",n);try{const{data:t}=await cl.from("user_profiles").select("*").eq("email",e).single();t?console.log("\ud83d\udccb \ud504\ub85c\ud544\uc740 \uc874\uc7ac\ud568:",t):console.log("\u274c \ud504\ub85c\ud544\uc774 \uc874\uc7ac\ud558\uc9c0 \uc54a\uc74c")}catch(a){console.error("\u274c \ud504\ub85c\ud544 \ud655\uc778 \uc911 \uc624\ub958:",a)}return{data:r,error:n}}if(console.log("\u2705 Supabase signIn \uc131\uacf5:",r),r.user)try{const{data:e,error:t}=await cl.from("user_profiles").select("*").eq("id",r.user.id).single();if(!t){console.log("\u2705 \ud504\ub85c\ud544 \uc870\ud68c \uc131\uacf5:",e);const t=lr(lr({},r.user),{},{role:e.role,first_name:e.first_name,last_name:e.last_name,profile:e});return{data:lr(lr({},r),{},{user:t}),error:null}}console.error("\u274c \ud504\ub85c\ud544 \uc870\ud68c \uc2e4\ud328:",t)}catch(a){console.error("\u274c \ud504\ub85c\ud544 \uc870\ud68c \uc911 \uc624\ub958:",a)}return{data:r,error:n}},async signUp(e,t,r){console.log("\ud83d\udd04 Supabase signUp \uc2dc\uc791:",{email:e,metadata:r}),console.log("\ud83d\udd0d \uc774\uba54\uc77c \uc911\ubcf5 \ud655\uc778 \uc911...");const{data:n,error:a}=await cl.from("user_profiles").select("id, email").eq("email",e).limit(1);if(a)console.error("\u274c \uc774\uba54\uc77c \uc911\ubcf5 \ud655\uc778 \uc911 \uc624\ub958:",a);else{if(n&&n.length>0){console.log("\u274c \uc774\uba54\uc77c\uc774 \uc774\ubbf8 \uc874\uc7ac\ud568:",n[0]);return{data:null,error:new Error("\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4.")}}console.log("\u2705 \uc774\uba54\uc77c \uc911\ubcf5 \ud655\uc778 \uc644\ub8cc - \uc0ac\uc6a9 \uac00\ub2a5")}const{data:s,error:o}=await cl.auth.signUp({email:e,password:t,options:{data:{first_name:null===r||void 0===r?void 0:r.firstName,last_name:null===r||void 0===r?void 0:r.lastName,role:(null===r||void 0===r?void 0:r.role)||"student",phone_number:null===r||void 0===r?void 0:r.phone_number,address:null===r||void 0===r?void 0:r.address,organization:null===r||void 0===r?void 0:r.organization,job_title:null===r||void 0===r?void 0:r.job_title,bio:null===r||void 0===r?void 0:r.bio}}});var i;o?console.error("\u274c Supabase signUp \uc2e4\ud328:",o):(console.log("\u2705 Supabase signUp \uc131\uacf5:",s),null!==(i=s.user)&&void 0!==i&&i.id&&(console.log("\ud83d\udd0d \uc0ac\uc6a9\uc790 \uc0dd\uc131\ub428, \ud504\ub85c\ud544 \uc0dd\uc131 \ub300\uae30..."),setTimeout((async()=>{try{const{data:e,error:t}=await cl.from("user_profiles").select("*").eq("id",s.user.id).single();if(t)console.error("\u274c \ud504\ub85c\ud544 \uc870\ud68c \uc2e4\ud328:",t);else{console.log("\u2705 \ud504\ub85c\ud544 \uc0dd\uc131 \ud655\uc778\ub428:",e);const t={},n=(null===r||void 0===r?void 0:r.role)||"student";if(e.role!==n&&(t.role=n),null!==r&&void 0!==r&&r.phone_number&&e.phone_number!==r.phone_number&&(t.phone_number=r.phone_number),null!==r&&void 0!==r&&r.address&&e.address!==r.address&&(t.address=r.address),null!==r&&void 0!==r&&r.organization&&e.organization!==r.organization&&(t.organization=r.organization),null!==r&&void 0!==r&&r.job_title&&e.job_title!==r.job_title&&(t.job_title=r.job_title),null!==r&&void 0!==r&&r.bio&&e.bio!==r.bio&&(t.bio=r.bio),Object.keys(t).length>0){t.updated_at=(new Date).toISOString();const{data:e,error:r}=await cl.from("user_profiles").update(t).eq("id",s.user.id).select().single();r?console.error("\u274c \ud504\ub85c\ud544 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328:",r):console.log("\u2705 \ud504\ub85c\ud544 \uc5c5\ub370\uc774\ud2b8 \uc131\uacf5:",e)}}}catch(e){console.error("\u274c \ud504\ub85c\ud544 \ud655\uc778 \uc911 \uc624\ub958:",e)}}),2e3)));return{data:s,error:o}},async signOut(){const{error:e}=await cl.auth.signOut();return{error:e}},async getCurrentUser(){const{data:{user:e}}=await cl.auth.getUser();return e},async getSession(){const{data:{session:e}}=await cl.auth.getSession();return e},onAuthStateChange:e=>cl.auth.onAuthStateChange(e)},dl={async getProfile(e){const{data:t,error:r}=await cl.from("user_profiles").select("*").eq("id",e).single();return{data:t,error:r}},async updateProfile(e,t){const{data:r,error:n}=await cl.from("user_profiles").update(t).eq("id",e).select().single();return{data:r,error:n}},async getAllUsers(){const{data:e,error:t}=await cl.from("user_profiles").select("*").order("created_at",{ascending:!1});return{data:e,error:t}}},hl={async getCourses(e){try{console.log("\ud83d\udd0d Fetching courses from Supabase..."),console.log("\ud83d\udd0d Supabase filters:",e);let t=cl.from("courses").select("\n          *,\n          instructor:user_profiles!courses_instructor_id_fkey(first_name, last_name, email),\n          category:categories(name)\n        ");null!==e&&void 0!==e&&e.includeAll?console.log("\ud83d\udd0d Including ALL courses (admin user)"):(console.log("\ud83d\udd0d Adding published filter (non-admin user)"),t=t.eq("status","published")),null!==e&&void 0!==e&&e.category&&(t=t.eq("category_id",e.category)),null!==e&&void 0!==e&&e.level&&(t=t.eq("level",e.level)),null!==e&&void 0!==e&&e.search&&(t=t.or("title.ilike.%".concat(e.search,"%,description.ilike.%").concat(e.search,"%"))),console.log("\ud83d\udd0d Executing Supabase query...");const{data:r,error:n}=await t.order("created_at",{ascending:!1});return n?(console.error("\u274c Supabase courses error:",n),console.error("\u274c Error details:",n.message,n.details,n.hint)):(console.log("\u2705 Courses fetched successfully:",(null===r||void 0===r?void 0:r.length)||0,"courses"),r&&r.length>0?(console.log("\ud83d\udccb First course from Supabase:",r[0]),r.forEach(((e,t)=>{console.log("\ud83d\udcda Supabase Course ".concat(t+1,': "').concat(e.title,'" - Status: "').concat(e.status,'"'))}))):console.log("\u26a0\ufe0f No courses returned from Supabase")),{data:r,error:n}}catch(t){return console.error("\u274c Network error fetching courses:",t),{data:null,error:t}}},async getCourse(e){const{data:t,error:r}=await cl.from("courses").select("\n        *,\n        instructor:user_profiles!courses_instructor_id_fkey(first_name, last_name, email, bio),\n        category:categories(name),\n        modules(\n          *,\n          chapters(*)\n        )\n      ").eq("id",e).single();return{data:t,error:r}},async createCourse(e){const{data:t,error:r}=await cl.from("courses").insert(e).select().single();return{data:t,error:r}},async updateCourse(e,t){const{data:r,error:n}=await cl.from("courses").update(t).eq("id",e).select().single();return{data:r,error:n}},async getInstructorCourses(e){const{data:t,error:r}=await cl.from("courses").select("*").eq("instructor_id",e).order("created_at",{ascending:!1});return{data:t,error:r}}},fl={async enrollCourse(e,t){const{data:r,error:n}=await cl.from("enrollments").insert({user_id:e,course_id:t,status:"active"}).select().single();return{data:r,error:n}},async getUserEnrollments(e){const{data:t,error:r}=await cl.from("enrollments").select("\n        *,\n        course:courses(\n          *,\n          instructor:user_profiles!courses_instructor_id_fkey(first_name, last_name)\n        )\n      ").eq("user_id",e).order("enrollment_date",{ascending:!1});return{data:t,error:r}},async checkEnrollment(e,t){const{data:r,error:n}=await cl.from("enrollments").select("*").eq("user_id",e).eq("course_id",t).single();return{data:r,error:n}},async updateProgress(e,t,r){const{data:n,error:a}=await cl.from("enrollments").update({progress:t,completed_chapters:r}).eq("id",e).select().single();return{data:n,error:a}}},pl={async getCategories(){const{data:e,error:t}=await cl.from("categories").select("*").order("name");return{data:e,error:t}},async createCategory(e){const{data:t,error:r}=await cl.from("categories").insert(e).select().single();return{data:t,error:r}}},ml={async getSubscriptionPlans(){const{data:e,error:t}=await cl.from("subscription_plans").select("*").eq("is_active",!0).order("sort_order");return{data:e,error:t}},async getUserSubscription(e){const{data:t,error:r}=await cl.from("subscriptions").select("\n        *,\n        plan:subscription_plans(*)\n      ").eq("user_id",e).single();return{data:t,error:r}}},gl={async uploadImage(e,t,r){const{data:n,error:a}=await cl.storage.from(e).upload(r,t);return{data:n,error:a}},getPublicUrl(e,t){const{data:r}=cl.storage.from(e).getPublicUrl(t);return r.publicUrl},async deleteFile(e,t){const{data:r,error:n}=await cl.storage.from(e).remove([t]);return{data:r,error:n}}},vl={subscribeToCourseChanges:e=>cl.channel("courses").on("postgres_changes",{event:"*",schema:"public",table:"courses"},e).subscribe(),subscribeToUserActivity:(e,t)=>cl.channel("user-".concat(e)).on("postgres_changes",{event:"INSERT",schema:"public",table:"user_activities",filter:"user_id=eq.".concat(e)},t).subscribe()},yl={async logUserActivity(e){const{data:t,error:r}=await cl.from("user_activities").insert(e);return{data:t,error:r}},async getCourseStats(e){const{data:t,error:r}=await cl.from("enrollments").select("status").eq("course_id",e);if(r)return{data:null,error:r};const n={total_enrollments:t.length,active_students:t.filter((e=>"active"===e.status)).length,completed_students:t.filter((e=>"completed"===e.status)).length,dropout_rate:0};return n.total_enrollments>0&&(n.dropout_rate=t.filter((e=>"dropped"===e.status)).length/n.total_enrollments*100),{data:n,error:null}}},bl={auth:ul,user:dl,course:hl,enrollment:fl,category:pl,subscription:ml,storage:gl,realtime:vl,analytics:yl},xl=ks.create({baseURL:"https://api.ai-lms.example.com",headers:{"Content-Type":"application/json"}});xl.interceptors.request.use((e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),(e=>Promise.reject(e))),xl.interceptors.response.use((e=>e),(e=>(e.response&&401===e.response.status&&"/api/auth/login/"!==e.config.url&&(localStorage.removeItem("token"),window.location.href="/login"),Promise.reject(e))));const wl={auth:{async login(e,t){{var r;const{data:n,error:a}=await bl.auth.signIn(e,t);if(a)throw new Error((null===a||void 0===a?void 0:a.message)||"API error");return{data:{user:n.user,token:null===(r=n.session)||void 0===r?void 0:r.access_token}}}},async register(e,t,r,n,a,s){{const{data:o,error:i}=await bl.auth.signUp(e,t,lr({firstName:r,lastName:n,role:a},s));if(i)throw new Error((null===i||void 0===i?void 0:i.message)||"API error");if(!o)throw new Error("Registration failed: No data returned");return{data:{user:o.user}}}},async logout(){{const{error:e}=await bl.auth.signOut();if(e)throw new Error((null===e||void 0===e?void 0:e.message)||"API error");return{}}},async getCurrentUser(){{const e=await bl.auth.getCurrentUser();if(e){const{data:t}=await bl.user.getProfile(e.id);return{data:lr(lr({},e),{},{profile:t})}}return{data:null}}}},courses:{async getAll(e){{const{data:t,error:r}=await hl.getCourses(e);if(r)throw new Error((null===r||void 0===r?void 0:r.message)||"Failed to fetch courses");return{data:t}}},async getById(e){{const{data:t,error:r}=await hl.getCourse(e);if(r)throw new Error((null===r||void 0===r?void 0:r.message)||"Failed to fetch course");return{data:t}}},async create(e){{const{data:t,error:r}=await hl.createCourse(e);if(r)throw new Error((null===r||void 0===r?void 0:r.message)||"API error");return{data:t}}},async update(e,t){{const{data:r,error:n}=await hl.updateCourse(e,t);if(n)throw new Error((null===n||void 0===n?void 0:n.message)||"API error");return{data:r}}}},enrollments:{async getUserEnrollments(e){{var t;const r=e||(null===(t=await bl.auth.getCurrentUser())||void 0===t?void 0:t.id);if(!r)throw new Error("User not authenticated");const{data:n,error:a}=await cl.from("enrollments").select("*").eq("user_id",r);if(a)throw new Error((null===a||void 0===a?void 0:a.message)||"API error");return{data:n}}},async enrollCourse(e){{const t=await bl.auth.getCurrentUser();if(!t)throw new Error("User not authenticated");const{data:r,error:n}=await cl.from("enrollments").insert({user_id:t.id,course_id:e});if(n)throw new Error((null===n||void 0===n?void 0:n.message)||"API error");return{data:r}}}},categories:{async getAll(){{const{data:e,error:t}=await pl.getCategories();if(t)throw new Error((null===t||void 0===t?void 0:t.message)||"API error");return{data:e}}}},subscriptions:{async getPlans(){{const{data:e,error:t}=await ml.getSubscriptionPlans();if(t)throw new Error((null===t||void 0===t?void 0:t.message)||"API error");return{data:e}}},async getUserSubscription(){{const e=await bl.auth.getCurrentUser();if(!e)throw new Error("User not authenticated");const{data:t,error:r}=await ml.getUserSubscription(e.id);if(r&&"PGRST116"!==r.code)throw new Error((null===r||void 0===r?void 0:r.message)||"API error");return{data:t}}}},axios:xl},jl=wl,kl=(()=>{try{const e=localStorage.getItem("token"),t=localStorage.getItem("user");if(e&&t){return{token:e,user:JSON.parse(t),isAuthenticated:!0,isLoading:!1,error:null}}}catch(e){console.error("\ub85c\uceec \uc800\uc7a5\uc18c\uc5d0\uc11c \uc778\uc99d \uc815\ubcf4 \ubcf5\uc6d0 \uc2e4\ud328:",e),localStorage.removeItem("token"),localStorage.removeItem("user")}return{token:null,user:null,isAuthenticated:!1,isLoading:!1,error:null}})(),_l=Kr("auth/login",(async(e,t)=>{let{rejectWithValue:r}=t;try{const t=await jl.auth.login(e.email,e.password);return t.data.token&&localStorage.setItem("token",t.data.token),t.data}catch(n){return console.error("Login error:",n),r(n.message||"Login failed")}})),Sl=Kr("auth/register",(async(e,t)=>{let{rejectWithValue:r}=t;try{if(e.password!==e.password_confirm)return r("Passwords do not match");return(await jl.auth.register(e.email,e.password,e.first_name,e.last_name,e.role,{phone_number:e.phone_number,address:e.address,organization:e.organization,job_title:e.job_title,bio:e.bio})).data}catch(n){return console.error("Registration error:",n),r(n.message||"Registration failed")}})),Nl=Kr("auth/getUserProfile",(async(e,t)=>{let{rejectWithValue:r}=t;try{const e=await jl.auth.getCurrentUser();return e.data?e.data:r("No user found")}catch(n){return console.error("Profile fetch error:",n),r(n.message||"Failed to fetch user profile")}})),El=Kr("auth/checkSession",(async(e,t)=>{let{rejectWithValue:r}=t;try{const e=await bl.auth.getSession();if(null!==e&&void 0!==e&&e.user){const{data:t}=await bl.user.getProfile(e.user.id);return{user:{id:e.user.id,email:e.user.email||"",first_name:null===t||void 0===t?void 0:t.first_name,last_name:null===t||void 0===t?void 0:t.last_name,role:(null===t||void 0===t?void 0:t.role)||"student",profile:t},token:e.access_token}}return null}catch(n){return console.error("Session check error:",n),r(n.message||"Session check failed")}})),Cl=function(e){var t=e.name;if(!t)throw new Error("`name` is a required option for createSlice");var r,n="function"==typeof e.initialState?e.initialState:Mr(e.initialState),a=e.reducers||{},s=Object.keys(a),o={},i={},l={};function c(){var t="function"===typeof e.extraReducers?Br(e.extraReducers):[e.extraReducers],r=t[0],a=void 0===r?{}:r,s=t[1],o=void 0===s?[]:s,l=t[2],c=void 0===l?void 0:l,u=Tr(Tr({},a),i);return function(e,t,r,n){void 0===r&&(r=[]);var a,s="function"===typeof t?Br(t):[t,r,n],o=s[0],i=s[1],l=s[2];if(function(e){return"function"===typeof e}(e))a=function(){return Mr(e())};else{var c=Mr(e);a=function(){return c}}function u(e,t){void 0===e&&(e=a());var r=kr([o[t.type]],i.filter((function(e){return(0,e.matcher)(t)})).map((function(e){return e.reducer})));return 0===r.filter((function(e){return!!e})).length&&(r=[l]),r.reduce((function(e,r){if(r){var n;if(at(e))return void 0===(n=r(e,t))?e:n;if(st(e))return nr(e,(function(e){return r(e,t)}));if(void 0===(n=r(e,t))){if(null===e)return e;throw Error("A case reducer on a non-draftable value must not return undefined")}return n}return e}),e)}return u.getInitialState=a,u}(n,(function(e){for(var t in u)e.addCase(t,u[t]);for(var r=0,n=o;r<n.length;r++){var a=n[r];e.addMatcher(a.matcher,a.reducer)}c&&e.addDefaultCase(c)}))}return s.forEach((function(e){var r,n,s=a[e],c=t+"/"+e;"reducer"in s?(r=s.reducer,n=s.prepare):r=s,o[e]=r,i[c]=r,l[e]=n?Ur(c,n):Ur(c)})),{name:t,reducer:function(e,t){return r||(r=c()),r(e,t)},actions:l,caseReducers:o,getInitialState:function(){return r||(r=c()),r.getInitialState()}}}({name:"auth",initialState:kl,reducers:{logout:e=>{bl.auth.signOut(),localStorage.removeItem("token"),localStorage.removeItem("user"),e.token=null,e.user=null,e.isAuthenticated=!1,e.error=null},clearError:e=>{e.error=null},setAuthenticatedUser:(e,t)=>{e.user=t.payload.user,e.token=t.payload.token||null,e.isAuthenticated=!0,e.error=null}},extraReducers:e=>{e.addCase(_l.pending,(e=>{e.isLoading=!0,e.error=null})).addCase(_l.fulfilled,((e,t)=>{e.isLoading=!1,e.isAuthenticated=!0,e.token=t.payload.token||null,e.user=t.payload.user,t.payload.token&&localStorage.setItem("token",t.payload.token),localStorage.setItem("user",JSON.stringify(t.payload.user))})).addCase(_l.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload})),e.addCase(Sl.pending,(e=>{e.isLoading=!0,e.error=null})).addCase(Sl.fulfilled,(e=>{e.isLoading=!1})).addCase(Sl.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload})),e.addCase(Nl.pending,(e=>{e.isLoading=!0,e.error=null})).addCase(Nl.fulfilled,((e,t)=>{e.isLoading=!1,e.user=t.payload})).addCase(Nl.rejected,((e,t)=>{e.isLoading=!1,e.error=t.payload;const r=t.payload;(null!==r&&void 0!==r&&r.includes("not authenticated")||null!==r&&void 0!==r&&r.includes("No user found"))&&(e.token=null,e.user=null,e.isAuthenticated=!1,localStorage.removeItem("token"))})),e.addCase(El.pending,(e=>{e.isLoading=!0})).addCase(El.fulfilled,((e,t)=>{e.isLoading=!1,t.payload&&(e.isAuthenticated=!0,e.token=t.payload.token,e.user=lr(lr({},t.payload.user),{},{profile:t.payload.user.profile||void 0}),t.payload.token&&localStorage.setItem("token",t.payload.token),localStorage.setItem("user",JSON.stringify(e.user)))})).addCase(El.rejected,((e,t)=>{e.isLoading=!1,e.isAuthenticated=!1,e.token=null,e.user=null}))}}),{logout:Pl,clearError:Ol,setAuthenticatedUser:Tl}=Cl.actions,Rl=function(e){var t,r=Fr(),n=e||{},a=n.reducer,s=void 0===a?void 0:a,o=n.middleware,i=void 0===o?r():o,l=n.devTools,c=void 0===l||l,u=n.preloadedState,d=void 0===u?void 0:u,h=n.enhancers,f=void 0===h?void 0:h;if("function"===typeof s)t=s;else{if(!Ir(s))throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');t=mr(s)}var p=i;"function"===typeof p&&(p=p(r));var m=vr.apply(void 0,p),g=gr;c&&(g=Ar(Tr({trace:!1},"object"===typeof c&&c)));var v=new zr(m),y=v;return Array.isArray(f)?y=kr([m],f):"function"===typeof f&&(y=f(v)),pr(t,d,g.apply(void 0,y))}({reducer:{auth:Cl.reducer},middleware:e=>e({serializableCheck:{ignoredActions:[],ignoredActionPaths:[],ignoredPaths:[]}})}),Ll=()=>T(),Al=j;function Il(e,t){if(null==e)return{};var r,n,a=function(e,t){if(null==e)return{};var r={};for(var n in e)if({}.hasOwnProperty.call(e,n)){if(-1!==t.indexOf(n))continue;r[n]=e[n]}return r}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(n=0;n<s.length;n++)r=s[n],-1===t.indexOf(r)&&{}.propertyIsEnumerable.call(e,r)&&(a[r]=e[r])}return a}var Ul=r(579);const Dl=["label","error","helperText","fullWidth","className"],zl=(0,a.forwardRef)(((e,t)=>{let{label:r,error:n,helperText:a,fullWidth:s=!1,className:o=""}=e,i=Il(e,Dl);const l="\n      block rounded-md border-gray-300 shadow-sm\n      focus:border-indigo-500 focus:ring-indigo-500\n      ".concat(n?"border-red-500":"border-gray-300","\n      ").concat(s?"w-full":"","\n      ").concat(o,"\n    ");return(0,Ul.jsxs)("div",{className:"".concat(s?"w-full":""," mb-4"),children:[r&&(0,Ul.jsx)("label",{htmlFor:i.id,className:"block text-sm font-medium text-gray-700 mb-1",children:r}),(0,Ul.jsx)("input",lr({ref:t,className:l},i)),n&&(0,Ul.jsx)("p",{className:"mt-1 text-sm text-red-600",id:"".concat(i.id,"-error"),children:n}),a&&!n&&(0,Ul.jsx)("p",{className:"mt-1 text-sm text-gray-500",id:"".concat(i.id,"-description"),children:a})]})}));zl.displayName="Input";const Ml=zl,Fl=["children","variant","size","isLoading","fullWidth","disabled","className"],Bl=e=>{let{children:t,variant:r="primary",size:n="md",isLoading:a=!1,fullWidth:s=!1,disabled:o,className:i=""}=e,l=Il(e,Fl);const c={loading:a?"opacity-70 cursor-not-allowed":"",disabled:o?"opacity-50 cursor-not-allowed":"",fullWidth:s?"w-full":""},u="\n    ".concat("inline-flex items-center justify-center rounded-md font-medium focus:outline-none focus:ring-2 focus:ring-offset-2 transition-colors","\n    ").concat({primary:"bg-indigo-600 text-white hover:bg-indigo-700 focus:ring-indigo-500",secondary:"bg-gray-200 text-gray-800 hover:bg-gray-300 focus:ring-gray-500",outline:"bg-transparent border border-indigo-500 text-indigo-600 hover:bg-indigo-50 focus:ring-indigo-500",danger:"bg-red-600 text-white hover:bg-red-700 focus:ring-red-500"}[r],"\n    ").concat({sm:"py-1 px-3 text-sm",md:"py-2 px-4 text-base",lg:"py-3 px-6 text-lg"}[n],"\n    ").concat(c.loading,"\n    ").concat(c.disabled,"\n    ").concat(c.fullWidth,"\n    ").concat(i,"\n  ");return(0,Ul.jsxs)("button",lr(lr({className:u,disabled:o||a},l),{},{children:[a&&(0,Ul.jsxs)("svg",{className:"animate-spin -ml-1 mr-2 h-4 w-4 text-current",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,Ul.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,Ul.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),t]}))},ql=()=>{const e=Ll(),t=Ee(),{isAuthenticated:r,user:n}=Al((e=>e.auth));return(0,Ul.jsx)("header",{className:"bg-white shadow-md",children:(0,Ul.jsxs)("div",{className:"container mx-auto px-4 py-3 flex justify-between items-center",children:[(0,Ul.jsx)("div",{className:"flex items-center",children:(0,Ul.jsx)(Ze,{to:"/",className:"text-2xl font-bold text-indigo-600",children:"AI-LMS"})}),(0,Ul.jsx)("nav",{className:"hidden md:flex space-x-6",children:r?(0,Ul.jsxs)(Ul.Fragment,{children:[(0,Ul.jsx)(Ze,{to:"/dashboard",className:"text-gray-700 hover:text-indigo-600",children:"\ub300\uc2dc\ubcf4\ub4dc"}),(0,Ul.jsx)(Ze,{to:"/courses",className:"text-gray-700 hover:text-indigo-600",children:"\uac15\uc758"}),"instructor"===(null===n||void 0===n?void 0:n.role)&&(0,Ul.jsx)(Ze,{to:"/my-courses",className:"text-gray-700 hover:text-indigo-600",children:"\ub0b4 \uac15\uc758 \uad00\ub9ac"}),"admin"===(null===n||void 0===n?void 0:n.role)&&(0,Ul.jsx)(Ze,{to:"/admin",className:"text-gray-700 hover:text-indigo-600",children:"\uad00\ub9ac\uc790"})]}):(0,Ul.jsxs)(Ul.Fragment,{children:[(0,Ul.jsx)(Ze,{to:"/login",className:"text-gray-700 hover:text-indigo-600",children:"\ub85c\uadf8\uc778"}),(0,Ul.jsx)(Ze,{to:"/register",className:"text-gray-700 hover:text-indigo-600",children:"\ud68c\uc6d0\uac00\uc785"})]})}),r&&(0,Ul.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ul.jsx)(Ze,{to:"/subscription",className:"bg-indigo-600 hover:bg-indigo-700 text-white px-4 py-2 rounded-md text-sm font-medium transition-colors",children:"\uad6c\ub3c5"}),(0,Ul.jsx)(Ze,{to:"/profile",className:"text-gray-700 hover:text-indigo-600",children:"\ud504\ub85c\ud544"}),(0,Ul.jsx)("button",{onClick:()=>{e(Pl()),t("/login")},className:"text-gray-700 hover:text-indigo-600",children:"\ub85c\uadf8\uc544\uc6c3"})]}),(0,Ul.jsx)("div",{className:"md:hidden",children:(0,Ul.jsx)("button",{className:"text-gray-500 hover:text-gray-700",children:(0,Ul.jsx)("svg",{className:"h-6 w-6",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",viewBox:"0 0 24 24",stroke:"currentColor",children:(0,Ul.jsx)("path",{d:"M4 6h16M4 12h16M4 18h16"})})})})]})})},Wl=()=>{const e=(new Date).getFullYear();return(0,Ul.jsx)("footer",{className:"bg-gray-800 text-white py-8",children:(0,Ul.jsxs)("div",{className:"container mx-auto px-4",children:[(0,Ul.jsxs)("div",{className:"flex flex-col md:flex-row justify-between",children:[(0,Ul.jsxs)("div",{className:"mb-6 md:mb-0",children:[(0,Ul.jsx)("h2",{className:"text-xl font-bold mb-4",children:"AI-LMS"}),(0,Ul.jsx)("p",{className:"text-gray-300 mb-2",children:"AI \uae30\ubc18 \ud559\uc2b5 \uad00\ub9ac \uc2dc\uc2a4\ud15c"}),(0,Ul.jsxs)("p",{className:"text-gray-300",children:["\xa9 ",e," AI-LMS. All rights reserved."]})]}),(0,Ul.jsxs)("div",{className:"mb-6 md:mb-0",children:[(0,Ul.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\ubc14\ub85c\uac00\uae30"}),(0,Ul.jsxs)("ul",{className:"space-y-2",children:[(0,Ul.jsx)("li",{children:(0,Ul.jsx)(Ze,{to:"/dashboard",className:"text-gray-300 hover:text-white",children:"\ub300\uc2dc\ubcf4\ub4dc"})}),(0,Ul.jsx)("li",{children:(0,Ul.jsx)(Ze,{to:"/courses",className:"text-gray-300 hover:text-white",children:"\uac15\uc758 \ubaa9\ub85d"})}),(0,Ul.jsx)("li",{children:(0,Ul.jsx)(Ze,{to:"/profile",className:"text-gray-300 hover:text-white",children:"\ub0b4 \ud504\ub85c\ud544"})})]})]}),(0,Ul.jsxs)("div",{className:"mb-6 md:mb-0",children:[(0,Ul.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\uc9c0\uc6d0"}),(0,Ul.jsxs)("ul",{className:"space-y-2",children:[(0,Ul.jsx)("li",{children:(0,Ul.jsx)(Ze,{to:"/help",className:"text-gray-300 hover:text-white",children:"\ub3c4\uc6c0\ub9d0"})}),(0,Ul.jsx)("li",{children:(0,Ul.jsx)(Ze,{to:"/faq",className:"text-gray-300 hover:text-white",children:"\uc790\uc8fc \ubb3b\ub294 \uc9c8\ubb38"})}),(0,Ul.jsx)("li",{children:(0,Ul.jsx)(Ze,{to:"/contact",className:"text-gray-300 hover:text-white",children:"\ubb38\uc758\ud558\uae30"})})]})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"\uc815\ucc45"}),(0,Ul.jsxs)("ul",{className:"space-y-2",children:[(0,Ul.jsx)("li",{children:(0,Ul.jsx)(Ze,{to:"/terms",className:"text-gray-300 hover:text-white",children:"\uc774\uc6a9\uc57d\uad00"})}),(0,Ul.jsx)("li",{children:(0,Ul.jsx)(Ze,{to:"/privacy",className:"text-gray-300 hover:text-white",children:"\uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68"})})]})]})]}),(0,Ul.jsxs)("div",{className:"mt-8 pt-8 border-t border-gray-700 flex items-center justify-center space-x-4",children:[(0,Ul.jsxs)("a",{href:"#",className:"text-gray-300 hover:text-white",children:[(0,Ul.jsx)("span",{className:"sr-only",children:"Facebook"}),(0,Ul.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M22 12c0-5.523-4.477-10-10-10S2 6.477 2 12c0 4.991 3.657 9.128 8.438 9.878v-6.987h-2.54V12h2.54V9.797c0-2.506 1.492-3.89 3.777-3.89 1.094 0 2.238.195 2.238.195v2.46h-1.26c-1.243 0-1.63.771-1.63 1.562V12h2.773l-.443 2.89h-2.33v6.988C18.343 21.128 22 16.991 22 12z",clipRule:"evenodd"})})]}),(0,Ul.jsxs)("a",{href:"#",className:"text-gray-300 hover:text-white",children:[(0,Ul.jsx)("span",{className:"sr-only",children:"Instagram"}),(0,Ul.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M12.315 2c2.43 0 2.784.013 3.808.06 1.064.049 1.791.218 2.427.465a4.902 4.902 0 011.772 1.153 4.902 4.902 0 011.153 1.772c.247.636.416 1.363.465 2.427.048 1.067.06 1.407.06 4.123v.08c0 2.643-.012 2.987-.06 4.043-.049 1.064-.218 1.791-.465 2.427a4.902 4.902 0 01-1.153 1.772 4.902 4.902 0 01-1.772 1.153c-.636.247-1.363.416-2.427.465-1.067.048-1.407.06-4.123.06h-.08c-2.643 0-2.987-.012-4.043-.06-1.064-.049-1.791-.218-2.427-.465a4.902 4.902 0 01-1.772-1.153 4.902 4.902 0 01-1.153-1.772c-.247-.636-.416-1.363-.465-2.427-.047-1.024-.06-1.379-.06-3.808v-.63c0-2.43.013-2.784.06-3.808.049-1.064.218-1.791.465-2.427a4.902 4.902 0 011.153-1.772A4.902 4.902 0 015.45 2.525c.636-.247 1.363-.416 2.427-.465C8.901 2.013 9.256 2 11.685 2h.63zm-.081 1.802h-.468c-2.456 0-2.784.011-3.807.058-.975.045-1.504.207-1.857.344-.467.182-.8.398-1.15.748-.35.35-.566.683-.748 1.15-.137.353-.3.882-.344 1.857-.047 1.023-.058 1.351-.058 3.807v.468c0 2.456.011 2.784.058 3.807.045.975.207 1.504.344 1.857.182.466.399.8.748 1.15.35.35.683.566 1.15.748.353.137.882.3 1.857.344 1.054.048 1.37.058 4.041.058h.08c2.597 0 2.917-.01 3.96-.058.976-.045 1.505-.207 1.858-.344.466-.182.8-.398 1.15-.748.35-.35.566-.683.748-1.15.137-.353.3-.882.344-1.857.048-1.055.058-1.37.058-4.041v-.08c0-2.597-.01-2.917-.058-3.96-.045-.976-.207-1.505-.344-1.858a3.097 3.097 0 00-.748-1.15 3.098 3.098 0 00-1.15-.748c-.353-.137-.882-.3-1.857-.344-1.023-.047-1.351-.058-3.807-.058zM12 6.865a5.135 5.135 0 110 10.27 5.135 5.135 0 010-10.27zm0 1.802a3.333 3.333 0 100 6.666 3.333 3.333 0 000-6.666zm5.338-3.205a1.2 1.2 0 110 2.4 1.2 1.2 0 010-2.4z",clipRule:"evenodd"})})]}),(0,Ul.jsxs)("a",{href:"#",className:"text-gray-300 hover:text-white",children:[(0,Ul.jsx)("span",{className:"sr-only",children:"Twitter"}),(0,Ul.jsx)("svg",{className:"h-6 w-6",fill:"currentColor",viewBox:"0 0 24 24","aria-hidden":"true",children:(0,Ul.jsx)("path",{d:"M8.29 20.251c7.547 0 11.675-6.253 11.675-11.675 0-.178 0-.355-.012-.53A8.348 8.348 0 0022 5.92a8.19 8.19 0 01-2.357.646 4.118 4.118 0 001.804-2.27 8.224 8.224 0 01-2.605.996 4.107 4.107 0 00-6.993 3.743 11.65 11.65 0 01-8.457-4.287 4.106 4.106 0 001.27 5.477A4.072 4.072 0 012.8 9.713v.052a4.105 4.105 0 003.292 4.022 4.095 4.095 0 01-1.853.07 4.108 4.108 0 003.834 2.85A8.233 8.233 0 012 18.407a11.616 11.616 0 006.29 1.84"})})]})]})]})})},Vl=e=>{let{children:t}=e;return(0,Ul.jsxs)("div",{className:"flex flex-col min-h-screen",children:[(0,Ul.jsx)(ql,{}),(0,Ul.jsx)("main",{className:"flex-grow container mx-auto px-4 py-8",children:t}),(0,Ul.jsx)(Wl,{})]})},Hl=()=>{const[e,t]=(0,a.useState)(""),[r,n]=(0,a.useState)(""),[s,o]=(0,a.useState)({email:"",password:""}),i=Ll(),l=Ee(),{isLoading:c,error:u,isAuthenticated:d,user:h}=Al((e=>e.auth));(0,a.useEffect)((()=>(d&&h&&("admin"===h.role?l("/admin"):l("/dashboard")),()=>{i(Ol())})),[d,h,l,i]);return(0,Ul.jsx)(Vl,{children:(0,Ul.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Ul.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"\ub85c\uadf8\uc778"}),u&&(0,Ul.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:u}),!1,(0,Ul.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{let t=!0;const n={email:"",password:""};return e.trim()?/\S+@\S+\.\S+/.test(e)||(n.email="\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1):(n.email="\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1),r?r.length<6&&(n.password="\ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 6\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4",t=!1):(n.password="\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1),o(n),t})())try{console.log("\ud83d\udd04 \ub85c\uadf8\uc778 \uc2dc\ub3c4:",{email:e,password:"***"});const t=await i(_l({email:e,password:r})).unwrap();console.log("\u2705 \ub85c\uadf8\uc778 \uc131\uacf5:",t),"admin"===t.user.role?l("/admin"):l("/dashboard")}catch(n){console.error("\u274c \ub85c\uadf8\uc778 \uc2e4\ud328:",n);let e="\ub85c\uadf8\uc778\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.";n.message&&(n.message.includes("Invalid login credentials")?e="\uc774\uba54\uc77c \ub610\ub294 \ube44\ubc00\ubc88\ud638\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4.":n.message.includes("Email not confirmed")?e="\uc774\uba54\uc77c \uc778\uc99d\uc774 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. \uc774\uba54\uc77c\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.":n.message.includes("Invalid email")?e="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \uc8fc\uc18c\uc785\ub2c8\ub2e4.":n.message.includes("Too many requests")?e="\ub108\ubb34 \ub9ce\uc740 \ub85c\uadf8\uc778 \uc2dc\ub3c4\uac00 \uc788\uc5c8\uc2b5\ub2c8\ub2e4. \uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.":e+="\n\uc624\ub958: ".concat(n.message)),e+="\n\n\ubb38\uc81c\uac00 \uacc4\uc18d\ub418\uba74 \ud68c\uc6d0\uac00\uc785\uc744 \ub2e4\uc2dc \ud558\uc2dc\uac70\ub098 \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.",alert(e)}},className:"space-y-4",children:[(0,Ul.jsx)(Ml,{id:"email",name:"email",type:"email",label:"\uc774\uba54\uc77c",value:e,onChange:e=>t(e.target.value),placeholder:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud558\uc138\uc694",error:s.email,fullWidth:!0}),(0,Ul.jsx)(Ml,{id:"password",name:"password",type:"password",label:"\ube44\ubc00\ubc88\ud638",value:r,onChange:e=>n(e.target.value),placeholder:"\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud558\uc138\uc694",error:s.password,fullWidth:!0}),(0,Ul.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("input",{id:"remember-me",name:"remember-me",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded"}),(0,Ul.jsx)("label",{htmlFor:"remember-me",className:"ml-2 block text-sm text-gray-700",children:"\ub85c\uadf8\uc778 \uc0c1\ud0dc \uc720\uc9c0"})]}),(0,Ul.jsx)("div",{className:"text-sm",children:(0,Ul.jsx)(Ze,{to:"/forgot-password",className:"text-indigo-600 hover:text-indigo-500",children:"\ube44\ubc00\ubc88\ud638\ub97c \uc78a\uc73c\uc168\ub098\uc694?"})})]}),(0,Ul.jsx)(Bl,{type:"submit",variant:"primary",isLoading:c,fullWidth:!0,children:"\ub85c\uadf8\uc778"}),(0,Ul.jsxs)("div",{className:"text-center mt-4",children:[(0,Ul.jsx)("span",{className:"text-gray-600",children:"\uacc4\uc815\uc774 \uc5c6\uc73c\uc2e0\uac00\uc694?"})," ",(0,Ul.jsx)(Ze,{to:"/register",className:"text-indigo-600 hover:text-indigo-500",children:"\ud68c\uc6d0\uac00\uc785"})]})]})]})})},$l=()=>{const[e,t]=(0,a.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",role:"student",phoneNumber:"",address:"",organization:"",jobTitle:"",bio:""}),[r,n]=(0,a.useState)({email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phoneNumber:""}),s=Ll(),o=Ee(),{isLoading:i,error:l,isAuthenticated:c}=Al((e=>e.auth));(0,a.useEffect)((()=>(c&&o("/dashboard"),()=>{s(Ol())})),[c,o,s]);const u=r=>{const{name:n,value:a}=r.target;t(lr(lr({},e),{},{[n]:a}))};return(0,Ul.jsx)(Vl,{children:(0,Ul.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Ul.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"\ud68c\uc6d0\uac00\uc785"}),l&&(0,Ul.jsx)("div",{className:"bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded mb-4",children:l}),(0,Ul.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),(()=>{let t=!0;const r={email:"",password:"",confirmPassword:"",firstName:"",lastName:"",phoneNumber:""};return e.email.trim()?/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e.email)||(r.email="\uc62c\ubc14\ub978 \uc774\uba54\uc77c \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4",t=!1):(r.email="\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1),e.password?e.password.length<6&&(r.password="\ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 6\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4",t=!1):(r.password="\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1),e.confirmPassword?e.password!==e.confirmPassword&&(r.confirmPassword="\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4",t=!1):(r.confirmPassword="\ube44\ubc00\ubc88\ud638 \ud655\uc778\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1),e.firstName.trim()||(r.firstName="\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1),e.lastName.trim()||(r.lastName="\uc131\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1),e.phoneNumber&&!/^[0-9-+\s()]+$/.test(e.phoneNumber)&&(r.phoneNumber="\uc62c\ubc14\ub978 \uc804\ud654\ubc88\ud638 \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4",t=!1),n(r),t})())try{console.log("Submitting registration data:",{email:e.email,password:"***HIDDEN***",first_name:e.firstName,last_name:e.lastName}),await s(Sl({email:e.email,password:e.password,password_confirm:e.confirmPassword,first_name:e.firstName,last_name:e.lastName,role:e.role,phone_number:e.phoneNumber,address:e.address,organization:e.organization,job_title:e.jobTitle,bio:e.bio})).unwrap(),alert("\ud68c\uc6d0\uac00\uc785\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub85c\uadf8\uc778 \ud398\uc774\uc9c0\ub85c \uc774\ub3d9\ud569\ub2c8\ub2e4."),o("/login")}catch(r){console.error("Registration failed",r)}},className:"space-y-4",children:[(0,Ul.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,Ul.jsx)(Ml,{id:"firstName",name:"firstName",type:"text",label:"\uc774\ub984",value:e.firstName,onChange:u,placeholder:"\uc774\ub984",error:r.firstName,fullWidth:!0}),(0,Ul.jsx)(Ml,{id:"lastName",name:"lastName",type:"text",label:"\uc131",value:e.lastName,onChange:u,placeholder:"\uc131",error:r.lastName,fullWidth:!0})]}),(0,Ul.jsx)(Ml,{id:"email",name:"email",type:"email",label:"\uc774\uba54\uc77c",value:e.email,onChange:u,placeholder:"example@example.com",error:r.email,fullWidth:!0}),(0,Ul.jsx)(Ml,{id:"password",name:"password",type:"password",label:"\ube44\ubc00\ubc88\ud638",value:e.password,onChange:u,placeholder:"\ube44\ubc00\ubc88\ud638",error:r.password,fullWidth:!0}),(0,Ul.jsx)(Ml,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",value:e.confirmPassword,onChange:u,placeholder:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",error:r.confirmPassword,fullWidth:!0}),(0,Ul.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"\uac00\uc785 \uc720\ud615\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694 *"}),(0,Ul.jsxs)("div",{className:"space-y-3",children:[(0,Ul.jsxs)("div",{className:"relative flex cursor-pointer rounded-lg border p-4 transition-all ".concat("student"===e.role?"border-indigo-600 bg-indigo-50 ring-2 ring-indigo-600":"border-gray-300 bg-white hover:bg-gray-50"),onClick:()=>t(lr(lr({},e),{},{role:"student"})),children:[(0,Ul.jsx)("div",{className:"flex h-5 items-center",children:(0,Ul.jsx)("input",{id:"role-student",name:"role",type:"radio",value:"student",checked:"student"===e.role,onChange:u,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"})}),(0,Ul.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("span",{className:"text-2xl mr-2",children:"\ud83c\udf93"}),(0,Ul.jsx)("label",{htmlFor:"role-student",className:"text-base font-medium text-gray-900 cursor-pointer",children:"\ud559\uc0dd\uc73c\ub85c \uac00\uc785"})]}),(0,Ul.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"\uac15\uc758\ub97c \uc218\uac15\ud558\uace0 \ud559\uc2b5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uac1c\uc778\uc815\ubcf4 \uc218\uc815 \uad8c\ud55c\uc744 \uac00\uc9d1\ub2c8\ub2e4."})]})]}),(0,Ul.jsxs)("div",{className:"relative flex cursor-pointer rounded-lg border p-4 transition-all ".concat("instructor"===e.role?"border-indigo-600 bg-indigo-50 ring-2 ring-indigo-600":"border-gray-300 bg-white hover:bg-gray-50"),onClick:()=>t(lr(lr({},e),{},{role:"instructor"})),children:[(0,Ul.jsx)("div",{className:"flex h-5 items-center",children:(0,Ul.jsx)("input",{id:"role-instructor",name:"role",type:"radio",value:"instructor",checked:"instructor"===e.role,onChange:u,className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300"})}),(0,Ul.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("span",{className:"text-2xl mr-2",children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,Ul.jsx)("label",{htmlFor:"role-instructor",className:"text-base font-medium text-gray-900 cursor-pointer",children:"\uac15\uc0ac\ub85c \uac00\uc785"})]}),(0,Ul.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"\uac15\uc758\ub97c \uc0dd\uc131\ud558\uace0 \uc218\uac15\uc0dd\uc744 \uad00\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. (\uc218\uac15\uc0dd \uc774\ub984, \uc774\uba54\uc77c\ub9cc \uc870\ud68c \uac00\ub2a5)"})]})]})]})]}),(0,Ul.jsxs)("div",{className:"border-t border-gray-200 pt-6",children:[(0,Ul.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\uc120\ud0dd \uc815\ubcf4"}),(0,Ul.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"\uc544\ub798 \uc815\ubcf4\ub294 \uc120\ud0dd\uc0ac\ud56d\uc774\uba70, \ub098\uc911\uc5d0 \ud504\ub85c\ud544\uc5d0\uc11c \uc218\uc815\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),(0,Ul.jsxs)("div",{className:"space-y-4",children:[(0,Ul.jsx)(Ml,{id:"phoneNumber",name:"phoneNumber",type:"tel",label:"\uc804\ud654\ubc88\ud638",value:e.phoneNumber,onChange:u,placeholder:"010-1234-5678",error:r.phoneNumber,fullWidth:!0}),(0,Ul.jsx)(Ml,{id:"address",name:"address",type:"text",label:"\uc8fc\uc18c",value:e.address,onChange:u,placeholder:"\uc11c\uc6b8\uc2dc \uac15\ub0a8\uad6c...",fullWidth:!0}),(0,Ul.jsxs)("div",{className:"grid grid-cols-1 gap-4 sm:grid-cols-2",children:[(0,Ul.jsx)(Ml,{id:"organization",name:"organization",type:"text",label:"\uc18c\uc18d \uae30\uad00",value:e.organization,onChange:u,placeholder:"\ud68c\uc0ac\uba85 \ub610\ub294 \ud559\uad50\uba85",fullWidth:!0}),(0,Ul.jsx)(Ml,{id:"jobTitle",name:"jobTitle",type:"text",label:"\uc9c1\ucc45",value:e.jobTitle,onChange:u,placeholder:"\uac1c\ubc1c\uc790, \ud559\uc0dd \ub4f1",fullWidth:!0})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"\uc790\uae30\uc18c\uac1c"}),(0,Ul.jsx)("textarea",{id:"bio",name:"bio",rows:3,value:e.bio,onChange:u,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-indigo-500",placeholder:"\uac04\ub2e8\ud55c \uc790\uae30\uc18c\uac1c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694..."})]})]})]}),(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-indigo-600 focus:ring-indigo-500 border-gray-300 rounded",required:!0}),(0,Ul.jsx)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:(0,Ul.jsxs)("span",{children:[(0,Ul.jsx)(Ze,{to:"/terms",className:"text-indigo-600 hover:text-indigo-500",children:"\uc774\uc6a9\uc57d\uad00"})," ","\ubc0f"," ",(0,Ul.jsx)(Ze,{to:"/privacy",className:"text-indigo-600 hover:text-indigo-500",children:"\uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68"}),"\uc5d0 \ub3d9\uc758\ud569\ub2c8\ub2e4"]})})]}),(0,Ul.jsx)(Bl,{type:"submit",variant:"primary",isLoading:i,fullWidth:!0,children:"\ud68c\uc6d0\uac00\uc785"}),(0,Ul.jsxs)("div",{className:"text-center mt-4",children:[(0,Ul.jsx)("span",{className:"text-gray-600",children:"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694?"})," ",(0,Ul.jsx)(Ze,{to:"/login",className:"text-indigo-600 hover:text-indigo-500",children:"\ub85c\uadf8\uc778"})]})]})]})})};class Kl{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Network Error";this.status=e,this.text=t}}const Jl={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:(()=>{if("undefined"!==typeof localStorage)return{get:e=>Promise.resolve(localStorage.getItem(e)),set:(e,t)=>Promise.resolve(localStorage.setItem(e,t)),remove:e=>Promise.resolve(localStorage.removeItem(e))}})()},Gl=e=>e?"string"===typeof e?{publicKey:e}:"[object Object]"===e.toString()?e:{}:{},Ql=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const n=await fetch(Jl.origin+e,{method:"POST",headers:r,body:t}),a=await n.text(),s=new Kl(n.status,a);if(n.ok)return s;throw s},Xl=(e,t,r)=>{if(!e||"string"!==typeof e)throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!t||"string"!==typeof t)throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!r||"string"!==typeof r)throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},Yl=e=>e.webdriver||!e.languages||0===e.languages.length,Zl=()=>new Kl(451,"Unavailable For Headless Browser"),ec=(e,t)=>{if((e=>{var t;return!(null!==(t=e.list)&&void 0!==t&&t.length)||!e.watchVariable})(e))return!1;((e,t)=>{if(!Array.isArray(e))throw"The BlockList list has to be an array";if("string"!==typeof t)throw"The BlockList watchVariable has to be a string"})(e.list,e.watchVariable);const r=((e,t)=>e instanceof FormData?e.get(t):e[t])(t,e.watchVariable);return"string"===typeof r&&e.list.includes(r)},tc=()=>new Kl(403,"Forbidden"),rc=async(e,t,r)=>{if(!t.throttle||!r)return!1;((e,t)=>{if("number"!==typeof e||e<0)throw"The LimitRate throttle has to be a positive number";if(t&&"string"!==typeof t)throw"The LimitRate ID has to be a non-empty string"})(t.throttle,t.id);const n=t.id||e,a=await(async(e,t,r)=>{const n=Number(await r.get(e)||0);return t-Date.now()+n})(n,t.throttle,r);return a>0||(await r.set(n,Date.now().toString()),!1)},nc=()=>new Kl(429,"Too Many Requests"),ac=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"https://api.emailjs.com";if(!e)return;const r=Gl(e);Jl.publicKey=r.publicKey,Jl.blockHeadless=r.blockHeadless,Jl.storageProvider=r.storageProvider,Jl.blockList=r.blockList,Jl.limitRate=r.limitRate,Jl.origin=r.origin||t},sc=async(e,t,r,n)=>{const a=Gl(n),s=a.publicKey||Jl.publicKey,o=a.blockHeadless||Jl.blockHeadless,i=a.storageProvider||Jl.storageProvider,l=lr(lr({},Jl.blockList),a.blockList),c=lr(lr({},Jl.limitRate),a.limitRate);if(o&&Yl(navigator))return Promise.reject(Zl());if(Xl(s,e,t),(e=>{if(e&&"[object Object]"!==e.toString())throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"})(r),r&&ec(l,r))return Promise.reject(tc());if(await rc(location.pathname,c,i))return Promise.reject(nc());const u={lib_version:"4.4.1",user_id:s,service_id:e,template_id:t,template_params:r};return Ql("/api/v1.0/email/send",JSON.stringify(u),{"Content-type":"application/json"})},oc="service_9fheut7",ic="template_fhhyjai",lc="4nNvMDfN3rKNgaDur";ac(lc);const cc=async(e,t,r)=>{try{console.log("\ud83d\udce7 EmailJS\ub85c \uc778\uc99d \uc774\uba54\uc77c \ubc1c\uc1a1 \uc2dc\uc791...");const n={to_email:e,to_name:t,verification_code:r,company_name:"AI LMS",expires_in:"5\ubd84"},a=await sc(oc,ic,n);if(200===a.status)return console.log("\u2705 EmailJS \uc774\uba54\uc77c \ubc1c\uc1a1 \uc131\uacf5:",a),{success:!0,message:"\uc778\uc99d\ubc88\ud638\uac00 \uc774\uba54\uc77c\ub85c \ubc1c\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4."};throw new Error("\uc774\uba54\uc77c \ubc1c\uc1a1 \uc2e4\ud328")}catch(n){return console.error("\u274c EmailJS \uc774\uba54\uc77c \ubc1c\uc1a1 \uc2e4\ud328:",n),{success:!1,message:"\uc774\uba54\uc77c \ubc1c\uc1a1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: ".concat(n.text||n.message)}}},uc=()=>{const e=[];return oc&&"your_service_id"!==oc||e.push("REACT_APP_EMAILJS_SERVICE_ID"),ic&&"your_template_id"!==ic||e.push("REACT_APP_EMAILJS_TEMPLATE_ID"),lc&&"your_public_key"!==lc||e.push("REACT_APP_EMAILJS_PUBLIC_KEY"),{isConfigured:0===e.length,missingKeys:e}},dc=async e=>{try{console.log("\ud83d\udce7 Supabase Edge Function\uc73c\ub85c \uc774\uba54\uc77c \ubc1c\uc1a1 \uc2dc\uc791...");const{data:t,error:r}=await cl.functions.invoke("send-email",{body:e});if(r)throw r;return console.log("\u2705 Supabase \uc774\uba54\uc77c \ubc1c\uc1a1 \uc131\uacf5:",t),{success:!0,message:"\uc774\uba54\uc77c\uc774 \uc131\uacf5\uc801\uc73c\ub85c \ubc1c\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}}catch(t){return console.error("\u274c Supabase \uc774\uba54\uc77c \ubc1c\uc1a1 \uc2e4\ud328:",t),{success:!1,message:"\uc774\uba54\uc77c \ubc1c\uc1a1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: ".concat(t.message)}}},hc="simulation",fc=async function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"User";console.log("\ud83d\udce7 \uc774\uba54\uc77c \ubc1c\uc1a1 \ubc29\ubc95: ".concat(hc));try{switch(hc){case"emailjs":if(!uc().isConfigured)return console.warn("EmailJS \uc124\uc815\uc774 \uc644\ub8cc\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4. \uc2dc\ubbac\ub808\uc774\uc158 \ubaa8\ub4dc\ub85c \uc804\ud658\ud569\ub2c8\ub2e4."),await pc(e,t);return await cc(e,r,t);case"supabase":{const n=await(async(e,t,r)=>dc({to:e,subject:"AI LMS \uc774\uba54\uc77c \uc778\uc99d\ubc88\ud638",template:"verification",data:{name:t,verificationCode:r}}))(e,r,t);return n}case"external":return await mc(e,t,r);default:return await pc(e,t)}}catch(n){return console.error("\uc774\uba54\uc77c \ubc1c\uc1a1 \uc2e4\ud328:",n),{success:!1,message:"\uc774\uba54\uc77c \ubc1c\uc1a1\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694."}}},pc=async(e,t)=>(console.log("\ud83d\udce7 [\uc774\uba54\uc77c \ubc1c\uc1a1 \uc2dc\ubbac\ub808\uc774\uc158]"),console.log("\ubc1b\ub294 \uc0ac\ub78c: ".concat(e)),console.log("\uc778\uc99d\ubc88\ud638: ".concat(t)),console.log("\ubc1c\uc1a1 \uc2dc\uac04: ".concat((new Date).toLocaleString())),await new Promise((e=>setTimeout(e,1e3))),gc(e,t),{success:!0,message:"\uc778\uc99d\ubc88\ud638\uac00 \uc131\uacf5\uc801\uc73c\ub85c \ubc1c\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4. (\uc2dc\ubbac\ub808\uc774\uc158)"}),mc=async(e,t,r)=>(console.log("\ud83d\udea7 \uc678\ubd80 \uc774\uba54\uc77c \uc11c\ube44\uc2a4\ub294 \uc544\uc9c1 \uad6c\ud604\ub418\uc9c0 \uc54a\uc558\uc2b5\ub2c8\ub2e4."),await pc(e,t)),gc=(e,t)=>{const r={email:e,code:t,expiresAt:new Date(Date.now()+3e5)};localStorage.setItem("verification_".concat(e),JSON.stringify(r))},vc=()=>{const[e,t]=(0,a.useState)({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:"",role:"student"}),[r,n]=(0,a.useState)({firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:"",verification:""}),[s,o]=(0,a.useState)({checked:!1,isAvailable:!1,message:""}),[i,l]=(0,a.useState)({sent:!1,code:"",inputCode:"",verified:!1,expiresAt:null}),[c,u]=(0,a.useState)(!1),[d,h]=(0,a.useState)(0),f=Ee();(0,a.useEffect)((()=>{let e;return d>0&&(e=setTimeout((()=>h(d-1)),1e3)),()=>clearTimeout(e)}),[d]);const p=e=>{const{name:r,value:n}=e.target;if("phone"===r){const e=(e=>{const t=e.replace(/[^0-9]/g,"");return 11===t.length?t.replace(/(\d{3})(\d{4})(\d{4})/,"$1-$2-$3"):10===t.length?t.replace(/(\d{3})(\d{3})(\d{4})/,"$1-$2-$3"):e})(n);t((t=>lr(lr({},t),{},{[r]:e})))}else t("role"===r?e=>lr(lr({},e),{},{[r]:n}):e=>lr(lr({},e),{},{[r]:n}));"email"===r&&(o({checked:!1,isAvailable:!1,message:""}),l({sent:!1,code:"",inputCode:"",verified:!1,expiresAt:null}))},m=()=>{let t=!0;const r={firstName:"",lastName:"",phone:"",email:"",password:"",confirmPassword:"",verification:""};var a;if(e.firstName.trim()||(r.firstName="\uc774\ub984\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1),e.lastName.trim()||(r.lastName="\uc131\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1),e.phone.trim()?(a=e.phone,/^(010|011|016|017|018|019)-?\d{3,4}-?\d{4}$/.test(a.replace(/[^0-9]/g,""))||(r.phone="\uc62c\ubc14\ub978 \uc804\ud654\ubc88\ud638 \ud615\uc2dd\uc774 \uc544\ub2d9\ub2c8\ub2e4 (\uc608: 010-1234-5678)",t=!1)):(r.phone="\uc804\ud654\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1),s.checked&&s.isAvailable||(r.email="\uc774\uba54\uc77c \uc911\ubcf5\ud655\uc778\uc744 \uc644\ub8cc\ud574\uc8fc\uc138\uc694",t=!1),i.verified||(r.verification="\uc774\uba54\uc77c \uc778\uc99d\uc744 \uc644\ub8cc\ud574\uc8fc\uc138\uc694",t=!1),e.password){const n=(e=>{if(e.length<8)return{isValid:!1,message:"\ube44\ubc00\ubc88\ud638\ub294 \ucd5c\uc18c 8\uc790 \uc774\uc0c1\uc774\uc5b4\uc57c \ud569\ub2c8\ub2e4.",strength:"weak"};const t=[/[a-z]/.test(e),/[A-Z]/.test(e),/\d/.test(e),/[!@#$%^&*(),.?":{}|<>]/.test(e)].filter(Boolean).length;return t<3?{isValid:!1,message:"\ube44\ubc00\ubc88\ud638\ub294 \ub300\ubb38\uc790, \uc18c\ubb38\uc790, \uc22b\uc790, \ud2b9\uc218\ubb38\uc790 \uc911 \ucd5c\uc18c 3\uac00\uc9c0\ub97c \ud3ec\ud568\ud574\uc57c \ud569\ub2c8\ub2e4.",strength:"weak"}:3===t?{isValid:!0,message:"\ubcf4\ud1b5 \uac15\ub3c4\uc758 \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4.",strength:"medium"}:{isValid:!0,message:"\uac15\ub825\ud55c \ube44\ubc00\ubc88\ud638\uc785\ub2c8\ub2e4.",strength:"strong"}})(e.password);n.isValid||(r.password=n.message,t=!1)}else r.password="\ube44\ubc00\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694",t=!1;return e.password!==e.confirmPassword&&(r.confirmPassword="\ube44\ubc00\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4",t=!1),n(r),t};return(0,Ul.jsx)(Vl,{children:(0,Ul.jsxs)("div",{className:"max-w-md mx-auto",children:[(0,Ul.jsx)("h1",{className:"text-2xl font-bold mb-6 text-center",children:"\ud68c\uc6d0\uac00\uc785"}),(0,Ul.jsxs)("form",{onSubmit:async t=>{if(t.preventDefault(),m()){u(!0);try{console.log("\ud83d\udd04 \ud68c\uc6d0\uac00\uc785 \uc2dc\uc791:",{email:e.email,firstName:e.firstName,lastName:e.lastName,phone:e.phone,role:e.role});const{data:t,error:r}=await cl.auth.signUp({email:e.email,password:e.password,options:{data:{first_name:e.firstName,last_name:e.lastName,phone:e.phone,role:e.role}}});if(r){console.error("\u274c \ud68c\uc6d0\uac00\uc785 \uc2e4\ud328:",r);let e="\ud68c\uc6d0\uac00\uc785\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.";return r.message.includes("User already registered")?e="\uc774\ubbf8 \ub4f1\ub85d\ub41c \uc774\uba54\uc77c \uc8fc\uc18c\uc785\ub2c8\ub2e4. \ub85c\uadf8\uc778\uc744 \uc2dc\ub3c4\ud574\ubcf4\uc138\uc694.":r.message.includes("Invalid email")?e="\uc720\ud6a8\ud558\uc9c0 \uc54a\uc740 \uc774\uba54\uc77c \uc8fc\uc18c\uc785\ub2c8\ub2e4.":r.message.includes("Password")?e="\ube44\ubc00\ubc88\ud638\uac00 \uc694\uad6c\uc0ac\ud56d\uc744 \ub9cc\uc871\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. (\ucd5c\uc18c 6\uc790 \uc774\uc0c1)":r.message.includes("Signup is disabled")?e="\ud604\uc7ac \ud68c\uc6d0\uac00\uc785\uc774 \ube44\ud65c\uc131\ud654\ub418\uc5b4 \uc788\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.":e+="\n\uc0c1\uc138 \uc624\ub958: ".concat(r.message),void alert(e)}if(console.log("\u2705 \ud68c\uc6d0\uac00\uc785 \uc131\uacf5:",t),t.user){let r="";r=t.user.email_confirmed_at?"\ud68c\uc6d0\uac00\uc785\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!\n\n"+"\uc774\uba54\uc77c: ".concat(e.email,"\n")+"\uc5ed\ud560: ".concat("student"===e.role?"\ud559\uc0dd":"\uac15\uc0ac","\n")+"\uc774\ub984: ".concat(e.lastName," ").concat(e.firstName,"\n\n")+"\ubc14\ub85c \ub85c\uadf8\uc778\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4.":"\ud68c\uc6d0\uac00\uc785\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!\n\n"+"\uc774\uba54\uc77c: ".concat(e.email,"\n")+"\uc5ed\ud560: ".concat("student"===e.role?"\ud559\uc0dd":"\uac15\uc0ac","\n")+"\uc774\ub984: ".concat(e.lastName," ").concat(e.firstName,"\n\n")+"\uc774\uba54\uc77c\ub85c \ubc1c\uc1a1\ub41c \ud655\uc778 \ub9c1\ud06c\ub97c \ud074\ub9ad\ud55c \ud6c4 \ub85c\uadf8\uc778\ud558\uc138\uc694.",alert(r),f("/login")}else console.warn("\u26a0\ufe0f \ud68c\uc6d0\uac00\uc785 \uc751\ub2f5\uc5d0 \uc0ac\uc6a9\uc790 \ub370\uc774\ud130\uac00 \uc5c6\uc74c"),alert("\ud68c\uc6d0\uac00\uc785 \uc694\uccad\uc774 \ucc98\ub9ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc774\uba54\uc77c\uc744 \ud655\uc778\ud55c \ud6c4 \ub85c\uadf8\uc778\uc744 \uc2dc\ub3c4\ud574\ubcf4\uc138\uc694."),f("/login")}catch(r){console.error("\u274c \ud68c\uc6d0\uac00\uc785 \uc911 \uc608\uc0c1\uce58 \ubabb\ud55c \uc624\ub958:",r);let e="\ud68c\uc6d0\uac00\uc785 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.";r.message&&(e+="\n\uc624\ub958 \ub0b4\uc6a9: ".concat(r.message)),e+="\n\n\uc7a0\uc2dc \ud6c4 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.",alert(e)}u(!1)}},className:"space-y-4",children:[(0,Ul.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,Ul.jsx)(Ml,{id:"lastName",name:"lastName",type:"text",label:"\uc131",value:e.lastName,onChange:p,placeholder:"\ud64d",error:r.lastName,required:!0}),(0,Ul.jsx)(Ml,{id:"firstName",name:"firstName",type:"text",label:"\uc774\ub984",value:e.firstName,onChange:p,placeholder:"\uae38\ub3d9",error:r.firstName,required:!0})]}),(0,Ul.jsx)(Ml,{id:"phone",name:"phone",type:"tel",label:"\uc804\ud654\ubc88\ud638",value:e.phone,onChange:p,placeholder:"010-1234-5678",error:r.phone,required:!0}),(0,Ul.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-3",children:"\uac00\uc785 \uc720\ud615\uc744 \uc120\ud0dd\ud574\uc8fc\uc138\uc694 *"}),(0,Ul.jsxs)("div",{className:"space-y-3",children:[(0,Ul.jsxs)("div",{className:"relative flex cursor-pointer rounded-lg border p-4 transition-all ".concat("student"===e.role?"border-blue-600 bg-blue-50 ring-2 ring-blue-600":"border-gray-300 bg-white hover:bg-gray-50"),onClick:()=>t(lr(lr({},e),{},{role:"student"})),children:[(0,Ul.jsx)("div",{className:"flex h-5 items-center",children:(0,Ul.jsx)("input",{id:"role-student",name:"role",type:"radio",value:"student",checked:"student"===e.role,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"})}),(0,Ul.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("span",{className:"text-2xl mr-2",children:"\ud83c\udf93"}),(0,Ul.jsx)("label",{htmlFor:"role-student",className:"text-base font-medium text-gray-900 cursor-pointer",children:"\ud559\uc0dd\uc73c\ub85c \uac00\uc785"})]}),(0,Ul.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"\uac15\uc758\ub97c \uc218\uac15\ud558\uace0 \ud559\uc2b5\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uac1c\uc778\uc815\ubcf4 \uc218\uc815 \uad8c\ud55c\uc744 \uac00\uc9d1\ub2c8\ub2e4."})]})]}),(0,Ul.jsxs)("div",{className:"relative flex cursor-pointer rounded-lg border p-4 transition-all ".concat("instructor"===e.role?"border-blue-600 bg-blue-50 ring-2 ring-blue-600":"border-gray-300 bg-white hover:bg-gray-50"),onClick:()=>t(lr(lr({},e),{},{role:"instructor"})),children:[(0,Ul.jsx)("div",{className:"flex h-5 items-center",children:(0,Ul.jsx)("input",{id:"role-instructor",name:"role",type:"radio",value:"instructor",checked:"instructor"===e.role,onChange:p,className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300"})}),(0,Ul.jsxs)("div",{className:"ml-3 flex-1",children:[(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("span",{className:"text-2xl mr-2",children:"\ud83d\udc68\u200d\ud83c\udfeb"}),(0,Ul.jsx)("label",{htmlFor:"role-instructor",className:"text-base font-medium text-gray-900 cursor-pointer",children:"\uac15\uc0ac\ub85c \uac00\uc785"})]}),(0,Ul.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"\uac15\uc758\ub97c \uc0dd\uc131\ud558\uace0 \uc218\uac15\uc0dd\uc744 \uad00\ub9ac\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. (\uc218\uac15\uc0dd \uc774\ub984, \uc774\uba54\uc77c\ub9cc \uc870\ud68c \uac00\ub2a5)"})]})]})]})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\uc774\uba54\uc77c *"}),(0,Ul.jsxs)("div",{className:"flex gap-2",children:[(0,Ul.jsx)("input",{id:"email",name:"email",type:"email",value:e.email,onChange:p,placeholder:"example@gmail.com",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0}),(0,Ul.jsx)(Bl,{type:"button",onClick:async()=>{if(!e.email)return void n((e=>lr(lr({},e),{},{email:"\uc774\uba54\uc77c\uc744 \uc785\ub825\ud574\uc8fc\uc138\uc694"})));if(t=e.email,!/^[a-zA-Z0-9._%+-]+@[a-zA-Z0-9.-]+\.[a-zA-Z]{2,}$/.test(t)||!(e=>{var t;const r=null===(t=e.split("@")[1])||void 0===t?void 0:t.toLowerCase();return["gmail.com","naver.com","daum.net","kakao.com","yahoo.com","outlook.com","hotmail.com","nate.com","hanmail.net"].includes(r)||(null===r||void 0===r?void 0:r.endsWith(".co.kr"))||(null===r||void 0===r?void 0:r.endsWith(".com"))||(null===r||void 0===r?void 0:r.endsWith(".net"))||(null===r||void 0===r?void 0:r.endsWith(".org"))})(t))return void n((e=>lr(lr({},e),{},{email:"\uc720\ud6a8\ud55c \uc774\uba54\uc77c \uc8fc\uc18c\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694 (gmail, naver, daum \ub4f1)"})));var t;console.log("\ud83d\udd0d \uc774\uba54\uc77c \uc911\ubcf5 \ud655\uc778 \uc2dc\uc791:",e.email),u(!0);const r=new Promise(((e,t)=>{setTimeout((()=>t(new Error("\uc694\uccad \uc2dc\uac04 \ucd08\uacfc (10\ucd08)"))),1e4)}));try{console.log("\ud83d\udd0d user_profiles \ud14c\uc774\ube14\uc5d0\uc11c \uc774\uba54\uc77c \ud655\uc778 \uc911...");const t=cl.from("user_profiles").select("id, email").eq("email",e.email.toLowerCase()).limit(1),a=await Promise.race([t,r]),{data:s,error:i}=a;if(console.log("\ud83d\udcca \uc911\ubcf5 \ud655\uc778 \uacb0\uacfc:",{profileData:s,profileError:i}),i){if(console.error("\u274c \ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc870\ud68c \uc5d0\ub7ec:",i),"42501"!==i.code&&"PGRST301"!==i.code&&!i.message.includes("permission denied")&&!i.message.includes("RLS"))throw new Error("\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc870\ud68c \uc2e4\ud328: ".concat(i.message));console.warn("\u26a0\ufe0f RLS \uc815\ucc45 \ubb38\uc81c \uac10\uc9c0, \ud68c\uc6d0\uac00\uc785 \uc2dc \uc2e4\uc81c \uc911\ubcf5 \ud655\uc778 \uc9c4\ud589"),o({checked:!0,isAvailable:!0,message:"\uc774\uba54\uc77c\uc744 \ud655\uc778\ud588\uc2b5\ub2c8\ub2e4 (\uc81c\ud55c\uc801 \ud655\uc778)"}),n((e=>lr(lr({},e),{},{email:""}))),alert("\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uad8c\ud55c \uc124\uc815\uc73c\ub85c \uc778\ud574 \uc81c\ud55c\uc801 \ud655\uc778\ub9cc \uac00\ub2a5\ud569\ub2c8\ub2e4.\n\ud68c\uc6d0\uac00\uc785 \uc2dc \uc2e4\uc81c \uc911\ubcf5 \ud655\uc778\uc774 \uc9c4\ud589\ub429\ub2c8\ub2e4.")}else s&&s.length>0?(console.log("\u274c \uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \uc774\uba54\uc77c:",e.email),o({checked:!0,isAvailable:!1,message:"\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4"}),n((e=>lr(lr({},e),{},{email:"\uc774\ubbf8 \uc0ac\uc6a9 \uc911\uc778 \uc774\uba54\uc77c\uc785\ub2c8\ub2e4"})))):(console.log("\u2705 \uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc774\uba54\uc77c:",e.email),o({checked:!0,isAvailable:!0,message:"\uc0ac\uc6a9 \uac00\ub2a5\ud55c \uc774\uba54\uc77c\uc785\ub2c8\ub2e4"}),n((e=>lr(lr({},e),{},{email:""}))))}catch(a){console.error("\u274c \uc774\uba54\uc77c \uc911\ubcf5 \ud655\uc778 \uc2e4\ud328:",a),a.message.includes("\uc2dc\uac04 \ucd08\uacfc")?(n((e=>lr(lr({},e),{},{email:"\ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc774 \ub290\ub9bd\ub2c8\ub2e4. \ud68c\uc6d0\uac00\uc785 \uc2dc \uc2e4\uc81c \ud655\uc778\uc774 \uc9c4\ud589\ub429\ub2c8\ub2e4."}))),o({checked:!0,isAvailable:!0,message:"\uc774\uba54\uc77c\uc744 \ud655\uc778\ud588\uc2b5\ub2c8\ub2e4 (\ub124\ud2b8\uc6cc\ud06c \uc9c0\uc5f0)"})):(n((e=>lr(lr({},e),{},{email:"\uc774\uba54\uc77c \ud655\uc778 \uc911 \uc624\ub958: ".concat(a.message)}))),o({checked:!1,isAvailable:!1,message:""}))}u(!1)},variant:"secondary",isLoading:c,disabled:!e.email||s.checked,children:"\uc911\ubcf5\ud655\uc778"})]}),r.email&&(0,Ul.jsx)("p",{className:"text-red-500 text-sm mt-1",children:r.email}),s.checked&&(0,Ul.jsx)("p",{className:"text-sm mt-1 ".concat(s.isAvailable?"text-green-600":"text-red-600"),children:s.message})]}),s.isAvailable&&(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\uc774\uba54\uc77c \uc778\uc99d *"}),(0,Ul.jsxs)("div",{className:"space-y-2",children:[(0,Ul.jsx)("div",{className:"flex gap-2",children:(0,Ul.jsx)(Bl,{type:"button",onClick:async()=>{if(s.isAvailable){u(!0);try{const t=Math.floor(1e5+9e5*Math.random()).toString(),r="".concat(e.lastName," ").concat(e.firstName).trim()||"\uc0ac\uc6a9\uc790",n=await fc(e.email,t,r);n.success?(l({sent:!0,code:t,inputCode:"",verified:!1,expiresAt:new Date(Date.now()+3e5)}),h(300),alert("\uc778\uc99d\ubc88\ud638\uac00 \uc774\uba54\uc77c\ub85c \ubc1c\uc1a1\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \uc774\uba54\uc77c\uc744 \ud655\uc778\ud574\uc8fc\uc138\uc694.")):(n.message.includes("EmailJS")?alert("\uc774\uba54\uc77c \ubc1c\uc1a1 \uc11c\ube44\uc2a4\uc5d0 \ubb38\uc81c\uac00 \uc788\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694."):alert("\uc778\uc99d\ubc88\ud638 \ubc1c\uc1a1 \uc2e4\ud328: ".concat(n.message)),console.warn("\u26a0\ufe0f \uc774\uba54\uc77c \ubc1c\uc1a1 \uc2e4\ud328, \uc784\uc2dc \uc778\uc99d\ubc88\ud638 \uc124\uc815"),l({sent:!0,code:t,inputCode:"",verified:!1,expiresAt:new Date(Date.now()+3e5)}),h(300))}catch(t){console.error("\u274c \uc778\uc99d\ubc88\ud638 \ubc1c\uc1a1 \uc624\ub958:",t),alert("\uc778\uc99d\ubc88\ud638 \ubc1c\uc1a1 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4. \ub124\ud2b8\uc6cc\ud06c \uc5f0\uacb0\uc744 \ud655\uc778\ud558\uace0 \ub2e4\uc2dc \uc2dc\ub3c4\ud574\uc8fc\uc138\uc694.")}u(!1)}else alert("\uba3c\uc800 \uc774\uba54\uc77c \uc911\ubcf5\ud655\uc778\uc744 \uc644\ub8cc\ud574\uc8fc\uc138\uc694")},variant:"secondary",isLoading:c,disabled:i.sent&&d>0,children:i.sent?d>0?"\uc7ac\ubc1c\uc1a1 (".concat((e=>{const t=Math.floor(e/60),r=e%60;return"".concat(t,":").concat(r.toString().padStart(2,"0"))})(d),")"):"\uc7ac\ubc1c\uc1a1":"\uc778\uc99d\ubc88\ud638 \ubc1c\uc1a1"})}),i.sent&&(0,Ul.jsxs)("div",{className:"flex gap-2",children:[(0,Ul.jsx)("input",{type:"text",placeholder:"\uc778\uc99d\ubc88\ud638 6\uc790\ub9ac",value:i.inputCode,onChange:e=>l((t=>lr(lr({},t),{},{inputCode:e.target.value.replace(/\D/g,"").slice(0,6)}))),className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",maxLength:6}),(0,Ul.jsx)(Bl,{type:"button",onClick:()=>{if(!i.inputCode)return void n((e=>lr(lr({},e),{},{verification:"\uc778\uc99d\ubc88\ud638\ub97c \uc785\ub825\ud574\uc8fc\uc138\uc694"})));const t=((e,t)=>{try{const r=localStorage.getItem("verification_".concat(e));if(!r)return{success:!1,message:"\uc778\uc99d\ubc88\ud638\ub97c \uba3c\uc800 \ubc1c\uc1a1\ud574\uc8fc\uc138\uc694."};const n=JSON.parse(r);return new Date>new Date(n.expiresAt)?(localStorage.removeItem("verification_".concat(e)),{success:!1,message:"\uc778\uc99d\ubc88\ud638\uac00 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ubc1c\uc1a1\ud574\uc8fc\uc138\uc694."}):n.code===t?(localStorage.removeItem("verification_".concat(e)),{success:!0,message:"\uc774\uba54\uc77c \uc778\uc99d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4."}):{success:!1,message:"\uc778\uc99d\ubc88\ud638\uac00 \uc77c\uce58\ud558\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4."}}catch(r){return{success:!1,message:"\uc778\uc99d\ubc88\ud638 \ud655\uc778 \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."}}})(e.email,i.inputCode);t.success?(l((e=>lr(lr({},e),{},{verified:!0}))),n((e=>lr(lr({},e),{},{verification:""}))),alert(t.message)):n((e=>lr(lr({},e),{},{verification:t.message})))},variant:"primary",disabled:i.verified||!i.inputCode,children:i.verified?"\uc778\uc99d\uc644\ub8cc":"\uc778\uc99d\ud655\uc778"})]}),r.verification&&(0,Ul.jsx)("p",{className:"text-red-500 text-sm",children:r.verification}),i.verified&&(0,Ul.jsx)("p",{className:"text-green-600 text-sm",children:"\u2705 \uc774\uba54\uc77c \uc778\uc99d\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4"})]})]}),(0,Ul.jsx)(Ml,{id:"password",name:"password",type:"password",label:"\ube44\ubc00\ubc88\ud638",value:e.password,onChange:p,placeholder:"\uc601\ubb38 \ub300\uc18c\ubb38\uc790, \uc22b\uc790 \ud3ec\ud568 8\uc790 \uc774\uc0c1",error:r.password,required:!0}),(0,Ul.jsx)(Ml,{id:"confirmPassword",name:"confirmPassword",type:"password",label:"\ube44\ubc00\ubc88\ud638 \ud655\uc778",value:e.confirmPassword,onChange:p,placeholder:"\ube44\ubc00\ubc88\ud638 \uc7ac\uc785\ub825",error:r.confirmPassword,required:!0}),(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("input",{id:"terms",name:"terms",type:"checkbox",className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded",required:!0}),(0,Ul.jsxs)("label",{htmlFor:"terms",className:"ml-2 block text-sm text-gray-700",children:[(0,Ul.jsx)(Ze,{to:"/terms",className:"text-blue-600 hover:text-blue-500",children:"\uc774\uc6a9\uc57d\uad00"})," ","\ubc0f"," ",(0,Ul.jsx)(Ze,{to:"/privacy",className:"text-blue-600 hover:text-blue-500",children:"\uac1c\uc778\uc815\ubcf4\ucc98\ub9ac\ubc29\uce68"}),"\uc5d0 \ub3d9\uc758\ud569\ub2c8\ub2e4 *"]})]}),(0,Ul.jsx)(Bl,{type:"submit",variant:"primary",isLoading:c,fullWidth:!0,disabled:!i.verified,children:"\ud68c\uc6d0\uac00\uc785"}),(0,Ul.jsxs)("div",{className:"text-center mt-4",children:[(0,Ul.jsx)("span",{className:"text-gray-600",children:"\uc774\ubbf8 \uacc4\uc815\uc774 \uc788\uc73c\uc2e0\uac00\uc694?"})," ",(0,Ul.jsx)(Ze,{to:"/login",className:"text-blue-600 hover:text-blue-500",children:"\ub85c\uadf8\uc778"})]})]})]})})},yc={python:{small:"/images/courses/python.jpg",large:"/images/courses/python-large.jpg",placeholder:"https://images.unsplash.com/photo-1526379879527-8559ecfcb0c8?w=600&auto=format&fit=crop&q=80",django:"https://images.unsplash.com/photo-1555949963-aa79dcee981c?w=600&auto=format&fit=crop&q=80",alt:"\ud30c\uc774\uc36c \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4 \ub85c\uace0\uc640 \ucf54\ub4dc \ud654\uba74"},javascript:{react:"https://images.unsplash.com/photo-1633356122102-3fe601e05bd2?w=600&auto=format&fit=crop&q=80",nodejs:"https://images.unsplash.com/photo-1627398242454-45a1465c2479?w=600&auto=format&fit=crop&q=80",placeholder:"https://images.unsplash.com/photo-1579468118864-1b9ea3c0db4a?w=600&auto=format&fit=crop&q=80"},typescript:{basics:"https://images.unsplash.com/photo-1618477388954-7852f32655ec?w=600&auto=format&fit=crop&q=80"},vue:{basics:"https://images.unsplash.com/photo-1622542796254-5b9c46ab0d2f?w=600&auto=format&fit=crop&q=80"},aws:{basics:"https://images.unsplash.com/photo-1523474253046-8cd2748b5fd2?w=600&auto=format&fit=crop&q=80"},webDev:{small:"/images/courses/web-dev.jpg",large:"/images/courses/web-dev-large.jpg",placeholder:"https://images.unsplash.com/photo-1547658719-da2b51169166?w=600&auto=format&fit=crop&q=80",alt:"\uc6f9 \uac1c\ubc1c - HTML, CSS, JavaScript \ucf54\ub4dc\uac00 \ubcf4\uc774\ub294 \ud654\uba74"},react:{small:"/images/courses/react.jpg",large:"/images/courses/react-large.jpg",placeholder:"https://images.unsplash.com/photo-1633356122102-3fe601e05bd2?w=600&auto=format&fit=crop&q=80",alt:"React \ud504\ub808\uc784\uc6cc\ud06c \ub85c\uace0\uc640 \ucef4\ud3ec\ub10c\ud2b8 \ucf54\ub4dc"},dataStructure:{small:"/images/courses/data-structure.jpg",large:"/images/courses/data-structure-large.jpg",placeholder:"https://images.unsplash.com/photo-1620641788421-7a1c342ea42e?w=600&auto=format&fit=crop&q=80",alt:"\ub370\uc774\ud130 \uad6c\uc870\ub97c \uc2dc\uac01\ud654\ud55c \ub2e4\uc774\uc5b4\uadf8\ub7a8"},dataAnalysis:{small:"/images/courses/data-analysis.jpg",large:"/images/courses/data-analysis-large.jpg",placeholder:"https://images.unsplash.com/photo-1551288049-bebda4e38f71?w=600&auto=format&fit=crop&q=80",alt:"\ub370\uc774\ud130 \ubd84\uc11d \ucc28\ud2b8\uc640 \uadf8\ub798\ud504\uac00 \uc788\ub294 \ub300\uc2dc\ubcf4\ub4dc"},machineLearning:{small:"/images/courses/machine-learning.jpg",large:"/images/courses/machine-learning-large.jpg",placeholder:"https://images.unsplash.com/photo-1677442135193-2547c1fe5089?w=600&auto=format&fit=crop&q=80",alt:"\uba38\uc2e0\ub7ec\ub2dd \uc54c\uace0\ub9ac\uc998 \uc2dc\uac01\ud654"},deepLearning:{small:"/images/courses/deep-learning.jpg",large:"/images/courses/deep-learning-large.jpg",placeholder:"https://images.unsplash.com/photo-1620712943543-bcc4688e7485?w=600&auto=format&fit=crop&q=80",alt:"\uc2e0\uacbd\ub9dd \uad6c\uc870\ub97c \ubcf4\uc5ec\uc8fc\ub294 \ub2e4\uc774\uc5b4\uadf8\ub7a8"},bigData:{small:"/images/courses/big-data.jpg",large:"/images/courses/big-data-large.jpg",placeholder:"https://images.unsplash.com/photo-1509228468518-180dd4864904?w=600&auto=format&fit=crop&q=80",alt:"\ube45\ub370\uc774\ud130 \ubd84\uc11d \uc2dc\uac01\ud654"}},bc=()=>{const{user:e}=Al((e=>e.auth)),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)([]),[o,i]=(0,a.useState)(!0);(0,a.useEffect)((()=>{(async()=>{try{if(!e)return void i(!1);console.log("\ud83d\udd04 Dashboard: Fetching data from Supabase...");const{data:t,error:n}=await bl.enrollment.getUserEnrollments(e.id);if(n)return console.error("Error fetching enrollments:",n),void i(!1);const a=(t||[]).map((e=>({id:e.course.id,title:e.course.title,instructor:e.course.instructor?"".concat(e.course.instructor.first_name||""," ").concat(e.course.instructor.last_name||"").trim()||e.course.instructor.email:"\uc54c \uc218 \uc5c6\uc74c",progress:e.progress||0,lastAccessed:new Date(e.enrollment_date).toLocaleDateString(),imageUrl:e.course.thumbnail_url||yc.python.placeholder,imageAlt:e.course.title,enrollment_id:e.id})));r(a);const{data:o,error:l}=await bl.course.getCourses();if(!l&&o){const e=a.map((e=>e.id)),t=o.filter((t=>!e.includes(t.id))).slice(0,4).map((e=>({id:e.id,title:e.title,instructor:e.instructor?"".concat(e.instructor.first_name||""," ").concat(e.instructor.last_name||"").trim()||e.instructor.email:"\uc54c \uc218 \uc5c6\uc74c",progress:0,lastAccessed:"",imageUrl:e.thumbnail_url||yc.webDev.placeholder,imageAlt:e.title})));s(t)}i(!1)}catch(t){console.error("Error fetching dashboard data:",t),i(!1)}})()}),[e]);const l=e=>{let{progress:t}=e;return(0,Ul.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2.5",children:(0,Ul.jsx)("div",{className:"bg-indigo-600 h-2.5 rounded-full",style:{width:"".concat(t,"%")}})})},c=e=>{let{course:t,showProgress:r=!1}=e;return(0,Ul.jsx)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-all duration-300 transform hover:-translate-y-1 hover:scale-[1.01]",children:(0,Ul.jsxs)(Ze,{to:"/courses/".concat(t.id),children:[(0,Ul.jsx)("img",{src:t.imageUrl,alt:t.imageAlt||t.title,className:"w-full h-40 object-cover rounded-t-lg"}),(0,Ul.jsxs)("div",{className:"p-4",children:[(0,Ul.jsx)("h3",{className:"font-bold text-lg mb-1",children:t.title}),(0,Ul.jsxs)("p",{className:"text-gray-600 text-sm mb-2",children:["\uac15\uc0ac: ",t.instructor]}),r&&(0,Ul.jsxs)(Ul.Fragment,{children:[(0,Ul.jsxs)("div",{className:"flex justify-between text-sm text-gray-500 mb-1",children:[(0,Ul.jsx)("span",{children:"\uc9c4\ud589\ub960"}),(0,Ul.jsxs)("span",{children:[t.progress,"%"]})]}),(0,Ul.jsx)(l,{progress:t.progress}),t.lastAccessed&&(0,Ul.jsxs)("p",{className:"text-xs text-gray-500 mt-2",children:["\ucd5c\uadfc \uc811\uc18d: ",t.lastAccessed]})]}),!r&&(0,Ul.jsx)("div",{className:"mt-2",children:(0,Ul.jsx)("span",{className:"inline-block bg-indigo-100 text-indigo-800 text-xs px-2 py-1 rounded",children:"\ucd94\ucc9c"})})]})]})})};return o?(0,Ul.jsx)(Vl,{children:(0,Ul.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):(0,Ul.jsx)(Vl,{children:(0,Ul.jsxs)("div",{children:[(0,Ul.jsxs)("div",{className:"bg-gradient-to-r from-indigo-500 to-purple-600 text-white rounded-lg p-6 mb-8",children:[(0,Ul.jsxs)("h1",{className:"text-2xl font-bold mb-2",children:["\uc548\ub155\ud558\uc138\uc694, ",(null===e||void 0===e?void 0:e.first_name)||"\ud559\uc2b5\uc790","\ub2d8!"]}),(0,Ul.jsx)("p",{children:"\uc624\ub298\ub3c4 AI-LMS\uc5d0\uc11c \uc990\uac70\uc6b4 \ud559\uc2b5 \ub418\uc138\uc694."})]}),(0,Ul.jsxs)("div",{className:"mb-10",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ul.jsx)("h2",{className:"text-xl font-bold",children:"\uc218\uac15 \uc911\uc778 \uac15\uc758"}),(0,Ul.jsx)(Ze,{to:"/courses",className:"text-indigo-600 hover:text-indigo-800",children:"\ubaa8\ub450 \ubcf4\uae30"})]}),0===t.length?(0,Ul.jsxs)("div",{className:"bg-gray-50 rounded-lg p-6 text-center",children:[(0,Ul.jsx)("p",{className:"text-gray-600 mb-4",children:"\uc544\uc9c1 \uc218\uac15 \uc911\uc778 \uac15\uc758\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,Ul.jsx)(Ze,{to:"/courses",className:"inline-block bg-indigo-600 text-white px-4 py-2 rounded hover:bg-indigo-700",children:"\uac15\uc758 \ub458\ub7ec\ubcf4\uae30"})]}):(0,Ul.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:t.map((e=>(0,Ul.jsx)(c,{course:e,showProgress:!0},e.id)))})]}),(0,Ul.jsxs)("div",{className:"mb-10",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ul.jsx)("h2",{className:"text-xl font-bold",children:"AI \ucd94\ucc9c \uac15\uc758"}),(0,Ul.jsx)(Ze,{to:"/recommendations",className:"text-indigo-600 hover:text-indigo-800",children:"\ub354 \ub9ce\uc740 \ucd94\ucc9c"})]}),(0,Ul.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:n.map((e=>(0,Ul.jsx)(c,{course:e},e.id)))})]}),(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ul.jsx)("h2",{className:"text-xl font-bold mb-4",children:"\ud559\uc2b5 \ud1b5\uacc4"}),(0,Ul.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Ul.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,Ul.jsx)("p",{className:"text-gray-600 text-sm",children:"\uc774\ubc88 \uc8fc \ud559\uc2b5 \uc2dc\uac04"}),(0,Ul.jsx)("p",{className:"text-2xl font-bold",children:"12\uc2dc\uac04 30\ubd84"})]}),(0,Ul.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,Ul.jsx)("p",{className:"text-gray-600 text-sm",children:"\uc644\ub8cc\ud55c \uac15\uc758"}),(0,Ul.jsx)("p",{className:"text-2xl font-bold",children:"7\uac1c"})]}),(0,Ul.jsxs)("div",{className:"bg-gray-50 p-4 rounded",children:[(0,Ul.jsx)("p",{className:"text-gray-600 text-sm",children:"\uc131\ucde8 \ubc30\uc9c0"}),(0,Ul.jsx)("p",{className:"text-2xl font-bold",children:"5\uac1c"})]})]})]})]})})},xc=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)([]),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(""),[c,u]=(0,a.useState)(""),[d,h]=(0,a.useState)(""),{user:f}=Al((e=>e.auth)),p="admin"===(null===f||void 0===f?void 0:f.role);(0,a.useEffect)((()=>{(async()=>{try{var e;o(!0),console.log("\ud83d\udd04 CourseList: Starting to fetch courses..."),console.log("\ud83d\udc64 User role:",null===f||void 0===f?void 0:f.role,"| Admin:",p,"| Include All:",p);const{data:{session:n}}=await cl.auth.getSession();console.log("\ud83d\udd10 Session:",n?"\u2705 ".concat(null===(e=n.user)||void 0===e?void 0:e.email):"\u274c Anonymous"),console.log("\ud83d\udd0d Fetching courses with includeAll: true (temporary fix)");let a=[];try{const e=await wl.courses.getAll({includeAll:!0});if(e&&"object"===typeof e){if("error"in e&&e.error)throw console.error("\u274c API Error:",e.error),e.error;const t=e.data;a=Array.isArray(t)?t:[]}}catch(r){console.error("\u274c Failed to fetch courses:",r),a=[]}console.log("\ud83d\udcda Retrieved ".concat(a.length," courses")),a.length>0?a.forEach(((e,t)=>{console.log("  ".concat(t+1,'. "').concat(e.title,'" - Status: ').concat(e.status))})):(console.log("\u26a0\ufe0f No courses found for current user"),console.log("  - User role:",null===f||void 0===f?void 0:f.role),console.log("  - Using includeAll:",p));const s=a.map((e=>({id:e.id,title:e.title,instructor:e.instructor?"".concat(e.instructor.first_name||""," ").concat(e.instructor.last_name||"").trim()||e.instructor.email:"\uc54c \uc218 \uc5c6\uc74c",description:e.short_description||e.description,level:e.level||"beginner",duration:e.duration_minutes?"".concat(Math.floor(e.duration_minutes/60),"\uc2dc\uac04"):"\ubbf8\uc815",rating:parseFloat(e.rating)||0,ratingCount:e.rating_count||0,imageUrl:e.thumbnail_url||yc.python.placeholder,imageAlt:e.title,categories:e.category?[e.category.name]:["\uae30\ud0c0"],price:parseFloat(e.price)||0,is_free:e.is_free||!1,status:e.status||"draft"})));console.log("\u2705 CourseList: Transformed courses from Supabase:",s.length,"courses"),t(s)}catch(r){console.error("\u274c CourseList: Error fetching courses from Supabase:",r),t([])}finally{o(!1)}})()}),[p]),(0,a.useEffect)((()=>{let t=e;i&&(t=t.filter((e=>e.title.toLowerCase().includes(i.toLowerCase())||e.instructor.toLowerCase().includes(i.toLowerCase())||e.description.toLowerCase().includes(i.toLowerCase())))),c&&(t=t.filter((e=>e.categories.includes(c)))),d&&(t=t.filter((e=>e.level===d))),n(t)}),[e,i,c,d]);const m=Array.from(new Set(e.flatMap((e=>e.categories))));return s?(0,Ul.jsx)(Vl,{children:(0,Ul.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):(0,Ul.jsx)(Vl,{children:(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("h1",{className:"text-2xl font-bold mb-6",children:"\uac15\uc758 \ubaa9\ub85d"}),(0,Ul.jsx)("div",{className:"bg-white rounded-lg shadow p-6 mb-6",children:(0,Ul.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,Ul.jsx)("div",{className:"md:col-span-2",children:(0,Ul.jsx)(Ml,{id:"search",name:"search",type:"text",label:"\uac15\uc758 \uac80\uc0c9",value:i,onChange:e=>l(e.target.value),placeholder:"\uac15\uc758\uba85, \uac15\uc0ac\uba85, \ub0b4\uc6a9\uc73c\ub85c \uac80\uc0c9",fullWidth:!0})}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{htmlFor:"category",className:"block text-sm font-medium text-gray-700 mb-1",children:"\uce74\ud14c\uace0\ub9ac"}),(0,Ul.jsxs)("select",{id:"category",value:c,onChange:e=>u(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,Ul.jsx)("option",{value:"",children:"\uc804\uccb4 \uce74\ud14c\uace0\ub9ac"}),m.map((e=>(0,Ul.jsx)("option",{value:e,children:e},e)))]})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{htmlFor:"level",className:"block text-sm font-medium text-gray-700 mb-1",children:"\ub808\ubca8"}),(0,Ul.jsxs)("select",{id:"level",value:d,onChange:e=>h(e.target.value),className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500",children:[(0,Ul.jsx)("option",{value:"",children:"\uc804\uccb4 \ub808\ubca8"}),[{value:"beginner",label:"\ucd08\uae09"},{value:"intermediate",label:"\uc911\uae09"},{value:"advanced",label:"\uace0\uae09"}].map((e=>(0,Ul.jsx)("option",{value:e.value,children:e.label},e.value)))]})]})]})}),(0,Ul.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:r.length>0?r.map((e=>{return(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow-md overflow-hidden hover:shadow-lg transition-shadow",children:[(0,Ul.jsx)("img",{src:e.imageUrl,alt:e.imageAlt,className:"w-full h-48 object-cover"}),(0,Ul.jsxs)("div",{className:"p-6",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,Ul.jsx)("h2",{className:"text-lg font-semibold text-gray-900 line-clamp-2",children:e.title}),(0,Ul.jsxs)("div",{className:"flex flex-col gap-1",children:[(n=e.level,(0,Ul.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat({beginner:"bg-green-100 text-green-800",intermediate:"bg-yellow-100 text-yellow-800",advanced:"bg-red-100 text-red-800"}[n]||"bg-gray-100 text-gray-800"),children:{beginner:"\ucd08\uae09",intermediate:"\uc911\uae09",advanced:"\uace0\uae09"}[n]||n})),p&&(r=e.status,(0,Ul.jsx)("span",{className:"inline-block px-2 py-1 rounded text-xs font-medium ".concat({published:"bg-green-100 text-green-800",draft:"bg-orange-100 text-orange-800",archived:"bg-gray-100 text-gray-800"}[r]||"bg-gray-100 text-gray-800"),children:{published:"\uac8c\uc2dc\ub428",draft:"\ucd08\uc548",archived:"\ubcf4\uad00\ub428"}[r]||r}))]})]}),(0,Ul.jsx)("p",{className:"text-gray-600 text-sm mb-2",children:e.instructor}),(0,Ul.jsx)("p",{className:"text-gray-700 text-sm mb-4 line-clamp-3",children:e.description}),(0,Ul.jsxs)("div",{className:"flex items-center mb-4",children:[(t=e.rating,(0,Ul.jsx)("div",{className:"flex",children:[1,2,3,4,5].map((e=>(0,Ul.jsx)("svg",{className:"w-4 h-4 ".concat(t>=e?"text-yellow-400":t>=e-.5?"text-yellow-300":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},e)))})),(0,Ul.jsxs)("span",{className:"ml-2 text-sm text-gray-600",children:[e.rating.toFixed(1)," (",e.ratingCount,")"]})]}),(0,Ul.jsx)("div",{className:"flex flex-wrap gap-1 mb-4",children:e.categories.map((e=>(0,Ul.jsx)("span",{className:"inline-block bg-gray-200 text-gray-800 text-xs px-2 py-1 rounded",children:e},e)))}),(0,Ul.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ul.jsx)("span",{className:"text-sm text-gray-500",children:e.duration}),(0,Ul.jsx)(Ze,{to:"/courses/".concat(e.id),children:(0,Ul.jsx)(Bl,{variant:"primary",size:"sm",children:"\uc790\uc138\ud788 \ubcf4\uae30"})})]})]})]},e.id);var t,r,n})):(0,Ul.jsx)("div",{className:"col-span-full text-center py-12",children:0===e.length?(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udcda"}),(0,Ul.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"\uac15\uc758\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,Ul.jsx)("p",{className:"text-gray-500 mb-4",children:"Supabase \ub370\uc774\ud130\ubca0\uc774\uc2a4\uc5d0 \uac15\uc758 \ub370\uc774\ud130\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."}),(0,Ul.jsxs)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 max-w-2xl mx-auto",children:[(0,Ul.jsxs)("p",{className:"text-sm text-blue-800 mb-3",children:["\ud83d\udca1 ",(0,Ul.jsx)("strong",{children:"\uac15\uc758 \ub370\uc774\ud130 \ucd94\uac00 \ubc29\ubc95:"})]}),(0,Ul.jsxs)("div",{className:"text-left text-sm text-blue-700 space-y-2",children:[(0,Ul.jsx)("div",{children:"1. Supabase \ud504\ub85c\uc81d\ud2b8 \ub300\uc2dc\ubcf4\ub4dc\uc5d0 \ub85c\uadf8\uc778"}),(0,Ul.jsx)("div",{children:"2. SQL Editor \ub610\ub294 Table Editor \uc0ac\uc6a9"}),(0,Ul.jsx)("div",{children:"3. \ub2e4\uc74c \ud14c\uc774\ube14\uc5d0 \ub370\uc774\ud130 \ucd94\uac00:"}),(0,Ul.jsxs)("ul",{className:"ml-4 space-y-1",children:[(0,Ul.jsxs)("li",{children:["\u2022 ",(0,Ul.jsx)("code",{children:"categories"})," - \uac15\uc758 \uce74\ud14c\uace0\ub9ac"]}),(0,Ul.jsxs)("li",{children:["\u2022 ",(0,Ul.jsx)("code",{children:"user_profiles"})," - \uac15\uc0ac \uc815\ubcf4"]}),(0,Ul.jsxs)("li",{children:["\u2022 ",(0,Ul.jsx)("code",{children:"courses"})," - \uac15\uc758 \uc815\ubcf4"]})]}),(0,Ul.jsxs)("div",{className:"mt-2",children:[(0,Ul.jsx)("strong",{children:"\ucc38\uace0:"})," \uac15\uc758 \uc0c1\ud0dc\ub294 'published'\ub85c \uc124\uc815\ud574\uc57c \ud45c\uc2dc\ub429\ub2c8\ub2e4."]})]})]})]}):(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("div",{className:"text-6xl mb-4",children:"\ud83d\udd0d"}),(0,Ul.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"\uac80\uc0c9 \uacb0\uacfc\uac00 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,Ul.jsx)("p",{className:"text-gray-500",children:"\ub2e4\ub978 \uac80\uc0c9 \uc870\uac74\uc744 \uc2dc\ub3c4\ud574\ubcf4\uc138\uc694."})]})})})]})})},wc=e=>{let{src:t,title:r,onProgress:n,onComplete:s,initialProgress:o=0,autoPlay:i=!1}=e;const l=(0,a.useRef)(null),[c,u]=(0,a.useState)(!1),[d,h]=(0,a.useState)(0),[f,p]=(0,a.useState)(0),[m,g]=(0,a.useState)(1),[v,y]=(0,a.useState)(!1),[b,x]=(0,a.useState)(!0),[w,j]=(0,a.useState)(0),[k,_]=(0,a.useState)(!1),[S,N]=(0,a.useState)("");(0,a.useEffect)((()=>{const e=l.current;if(!e)return;o>0&&(e.currentTime=o/100*e.duration);const r=()=>{const t=e.currentTime,r=e.duration;if(h(t),r>0){null===n||void 0===n||n(t/r*100)}},a=()=>{p(e.duration),o>0&&e.duration>0&&(e.currentTime=o/100*e.duration)},i=()=>{u(!1),null===s||void 0===s||s()},c=()=>{if(e.buffered.length>0){const t=e.buffered.end(e.buffered.length-1)/e.duration*100;j(t)}},d=()=>u(!0),f=()=>u(!1),m=e=>{console.error("\u274c \ube44\ub514\uc624 \uc7ac\uc0dd \uc624\ub958:",e);const r=e.target.error;let n="\ube44\ub514\uc624\ub97c \uc7ac\uc0dd\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";if(r)switch(r.code){case MediaError.MEDIA_ERR_ABORTED:n="\ube44\ub514\uc624 \ub85c\ub529\uc774 \uc911\ub2e8\ub418\uc5c8\uc2b5\ub2c8\ub2e4.";break;case MediaError.MEDIA_ERR_NETWORK:n="\ub124\ud2b8\uc6cc\ud06c \uc624\ub958\ub85c \ube44\ub514\uc624\ub97c \ub85c\ub4dc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.";break;case MediaError.MEDIA_ERR_DECODE:n="\ube44\ub514\uc624 \ub514\ucf54\ub529 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.";break;case MediaError.MEDIA_ERR_SRC_NOT_SUPPORTED:n="\uc9c0\uc6d0\ub418\uc9c0 \uc54a\ub294 \ube44\ub514\uc624 \ud615\uc2dd\uc785\ub2c8\ub2e4.";break;default:n="\uc54c \uc218 \uc5c6\ub294 \ube44\ub514\uc624 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."}_(!0),N(n),console.log("\ud83d\udd17 \ube44\ub514\uc624 URL:",t)},g=()=>{_(!1),N(""),console.log("\u2705 \ube44\ub514\uc624 \uc7ac\uc0dd \uc900\ube44 \uc644\ub8cc")};return e.addEventListener("timeupdate",r),e.addEventListener("loadedmetadata",a),e.addEventListener("ended",i),e.addEventListener("progress",c),e.addEventListener("play",d),e.addEventListener("pause",f),e.addEventListener("error",m),e.addEventListener("canplay",g),()=>{e.removeEventListener("timeupdate",r),e.removeEventListener("loadedmetadata",a),e.removeEventListener("ended",i),e.removeEventListener("progress",c),e.removeEventListener("play",d),e.removeEventListener("pause",f),e.removeEventListener("error",m),e.removeEventListener("canplay",g)}}),[t,o,n,s]),(0,a.useEffect)((()=>{const e=()=>{y(!!document.fullscreenElement)};return document.addEventListener("fullscreenchange",e),()=>document.removeEventListener("fullscreenchange",e)}),[]);const E=()=>{const e=l.current;e&&(c?e.pause():e.play())},C=()=>{const e=l.current;e&&(document.fullscreenElement?document.exitFullscreen():e.requestFullscreen())},P=e=>{const t=Math.floor(e/60),r=Math.floor(e%60);return"".concat(t,":").concat(r.toString().padStart(2,"0"))},O=e=>{const t=l.current;t&&(t.currentTime=Math.max(0,Math.min(t.currentTime+e,f)))};let T;return(0,Ul.jsxs)("div",{className:"relative bg-black rounded-lg overflow-hidden ".concat(v?"w-full h-full":"w-full aspect-video"),onMouseMove:()=>{x(!0),clearTimeout(T),T=setTimeout((()=>{c&&x(!1)}),3e3)},onKeyDown:e=>{switch(e.key){case" ":case"k":e.preventDefault(),E();break;case"f":C();break;case"ArrowLeft":O(-10);break;case"ArrowRight":O(10);break;case"ArrowUp":e.preventDefault(),g(Math.min(1,m+.1));break;case"ArrowDown":e.preventDefault(),g(Math.max(0,m-.1))}},tabIndex:0,children:[(0,Ul.jsx)("video",{ref:l,src:t,className:"w-full h-full",autoPlay:i,playsInline:!0,onClick:E,crossOrigin:"anonymous"}),k&&(0,Ul.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-red-900 bg-opacity-80",children:(0,Ul.jsxs)("div",{className:"text-center text-white p-6",children:[(0,Ul.jsx)("svg",{className:"w-16 h-16 mx-auto mb-4 text-red-300",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4m0 4h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Ul.jsx)("h3",{className:"text-lg font-semibold mb-2",children:"\ube44\ub514\uc624 \uc7ac\uc0dd \uc624\ub958"}),(0,Ul.jsx)("p",{className:"text-sm mb-4",children:S}),(0,Ul.jsxs)("p",{className:"text-xs text-gray-300 break-all",children:["URL: ",t]}),(0,Ul.jsx)("button",{onClick:()=>{_(!1);const e=l.current;e&&e.load()},className:"mt-4 px-4 py-2 bg-red-600 hover:bg-red-700 rounded text-white text-sm",children:"\ub2e4\uc2dc \uc2dc\ub3c4"})]})}),!f&&!k&&(0,Ul.jsx)("div",{className:"absolute inset-0 flex items-center justify-center bg-black bg-opacity-50",children:(0,Ul.jsxs)("div",{className:"text-center text-white",children:[(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-white mx-auto mb-4"}),(0,Ul.jsx)("p",{children:"\ube44\ub514\uc624 \ub85c\ub529 \uc911..."})]})}),(0,Ul.jsxs)("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black to-transparent p-4 transition-opacity duration-300 ".concat(b?"opacity-100":"opacity-0"),children:[(0,Ul.jsx)("div",{className:"mb-4",children:(0,Ul.jsxs)("div",{className:"w-full h-2 bg-gray-600 rounded-full cursor-pointer relative",onClick:e=>{const t=l.current;if(!t)return;const r=e.currentTarget.getBoundingClientRect(),n=(e.clientX-r.left)/r.width*f;t.currentTime=n,h(n)},children:[(0,Ul.jsx)("div",{className:"absolute top-0 left-0 h-full bg-gray-400 rounded-full",style:{width:"".concat(w,"%")}}),(0,Ul.jsx)("div",{className:"absolute top-0 left-0 h-full bg-red-500 rounded-full",style:{width:"".concat(f>0?d/f*100:0,"%")}}),(0,Ul.jsx)("div",{className:"absolute top-1/2 transform -translate-y-1/2 w-4 h-4 bg-red-500 rounded-full",style:{left:"".concat(f>0?d/f*100:0,"%")}})]})}),(0,Ul.jsxs)("div",{className:"flex items-center justify-between text-white",children:[(0,Ul.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ul.jsx)("button",{onClick:E,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",children:c?(0,Ul.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zM7 8a1 1 0 012 0v4a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v4a1 1 0 102 0V8a1 1 0 00-1-1z",clipRule:"evenodd"})}):(0,Ul.jsx)("svg",{className:"w-6 h-6",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM9.555 7.168A1 1 0 008 8v4a1 1 0 001.555.832l3-2a1 1 0 000-1.664l-3-2z",clipRule:"evenodd"})})}),(0,Ul.jsx)("button",{onClick:()=>O(-10),className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",title:"10\ucd08 \ub4a4\ub85c",children:(0,Ul.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm.707-10.293a1 1 0 00-1.414-1.414l-3 3a1 1 0 000 1.414l3 3a1 1 0 001.414-1.414L9.414 11H13a1 1 0 100-2H9.414l1.293-1.293z",clipRule:"evenodd"})})}),(0,Ul.jsx)("button",{onClick:()=>O(10),className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",title:"10\ucd08 \uc55e\uc73c\ub85c",children:(0,Ul.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.707-8.707l-3-3a1 1 0 00-1.414 1.414L10.586 9H7a1 1 0 100 2h3.586l-1.293 1.293a1 1 0 101.414 1.414l3-3a1 1 0 000-1.414z",clipRule:"evenodd"})})}),(0,Ul.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ul.jsxs)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M9.383 3.076A1 1 0 0110 4v12a1 1 0 01-1.617.793L4.383 14H2a1 1 0 01-1-1V7a1 1 0 011-1h2.383l4-2.793z",clipRule:"evenodd"}),(0,Ul.jsx)("path",{d:"M14.657 2.929a1 1 0 011.414 0A9.972 9.972 0 0119 10a9.972 9.972 0 01-2.929 7.071 1 1 0 01-1.414-1.414A7.971 7.971 0 0017 10c0-2.21-.894-4.208-2.343-5.657a1 1 0 010-1.414zm-2.829 2.828a1 1 0 011.415 0A5.983 5.983 0 0115 10a5.984 5.984 0 01-1.757 4.243 1 1 0 01-1.415-1.415A3.984 3.984 0 0013 10a3.983 3.983 0 00-1.172-2.828 1 1 0 010-1.415z"})]}),(0,Ul.jsx)("input",{type:"range",min:"0",max:"1",step:"0.1",value:m,onChange:e=>{const t=parseFloat(e.target.value);g(t);const r=l.current;r&&(r.volume=t)},className:"w-20 h-1 bg-gray-600 rounded-full"})]}),(0,Ul.jsxs)("span",{className:"text-sm font-mono",children:[P(d)," / ",P(f)]})]}),(0,Ul.jsx)("div",{className:"flex items-center space-x-2",children:(0,Ul.jsx)("button",{onClick:C,className:"p-2 hover:bg-white hover:bg-opacity-20 rounded-full transition-colors",title:"\uc804\uccb4\ud654\uba74",children:(0,Ul.jsx)("svg",{className:"w-5 h-5",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M3 4a1 1 0 011-1h4a1 1 0 010 2H6.414l2.293 2.293a1 1 0 11-1.414 1.414L5 6.414V8a1 1 0 01-2 0V4zm9 1a1 1 0 010-2h4a1 1 0 011 1v4a1 1 0 01-2 0V6.414l-2.293 2.293a1 1 0 11-1.414-1.414L13.586 5H12zm-9 7a1 1 0 012 0v1.586l2.293-2.293a1 1 0 111.414 1.414L6.414 15H8a1 1 0 010 2H4a1 1 0 01-1-1v-4zm13-1a1 1 0 011 1v4a1 1 0 01-1 1h-4a1 1 0 010-2h1.586l-2.293-2.293a1 1 0 111.414-1.414L15 13.586V12a1 1 0 011-1z",clipRule:"evenodd"})})})})]})]}),(0,Ul.jsxs)("div",{className:"absolute top-4 right-4 text-white text-xs opacity-50",children:[(0,Ul.jsx)("div",{children:"Space/K: \uc7ac\uc0dd/\uc77c\uc2dc\uc815\uc9c0"}),(0,Ul.jsx)("div",{children:"\u2190/\u2192: 10\ucd08 \uc774\ub3d9"}),(0,Ul.jsx)("div",{children:"\u2191/\u2193: \ubcfc\ub968 \uc870\uc808"}),(0,Ul.jsx)("div",{children:"F: \uc804\uccb4\ud654\uba74"})]})]})},jc=()=>{var e;const{courseId:t}=function(){let{matches:e}=a.useContext(je),t=e[e.length-1];return t?t.params:{}}(),{user:r}=Al((e=>e.auth)),[n,s]=(0,a.useState)(null),[o,i]=(0,a.useState)(!0),[l,c]=(0,a.useState)([]),[u,d]=(0,a.useState)(!1),[h,f]=(0,a.useState)(null),[p,m]=(0,a.useState)({});(0,a.useEffect)((()=>{t&&(async()=>{try{if(i(!0),!t)throw new Error("Course ID is required");const n=await wl.courses.getById(t);if(s(n.data),r)try{const e=(await wl.enrollments.getUserEnrollments()).data.some((e=>e.course_id===t));d(e)}catch(e){console.log("Error checking enrollment:",e),d(!1)}}catch(n){console.error("Error fetching course details",n)}finally{i(!1)}})()}),[t]);const g=e=>{const t=Math.floor(e/60),r=e%60;return t>0?"".concat(t,"\uc2dc\uac04 ").concat(r>0?r+"\ubd84":""):"".concat(r,"\ubd84")},v=e=>{let{type:t}=e;switch(t){case"video":return(0,Ul.jsxs)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M14.752 11.168l-3.197-2.132A1 1 0 0010 9.87v4.263a1 1 0 001.555.832l3.197-2.132a1 1 0 000-1.664z"}),(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})]});case"quiz":return(0,Ul.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8.228 9c.549-1.165 2.03-2 3.772-2 2.21 0 4 1.343 4 3 0 1.4-1.278 2.575-3.006 2.907-.542.104-.994.54-.994 1.093m0 3h.01M21 12a9 9 0 11-18 0 9 9 0 0118 0z"})});case"text":case"pdf":return(0,Ul.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})});case"assignment":return(0,Ul.jsx)("svg",{className:"w-5 h-5 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"})});default:return null}};if(o||!n)return(0,Ul.jsx)(Vl,{children:(0,Ul.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})});const y="".concat(n.instructor.first_name," ").concat(n.instructor.last_name).trim()||n.instructor.email;return(0,Ul.jsx)(Vl,{children:(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("div",{className:"bg-gray-100 rounded-lg p-6 mb-8",children:(0,Ul.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Ul.jsx)("div",{className:"lg:col-span-1",children:(0,Ul.jsx)("img",{src:n.thumbnail||"https://images.unsplash.com/photo-1516321318423-f06f85e504b3?w=400&h=250&fit=crop",alt:n.title,className:"w-full rounded-lg shadow-md object-cover h-64"})}),(0,Ul.jsxs)("div",{className:"lg:col-span-2",children:[(0,Ul.jsx)("h1",{className:"text-3xl font-bold mb-2",children:n.title}),(0,Ul.jsx)("p",{className:"text-gray-700 mb-4",children:n.short_description||n.description}),(0,Ul.jsxs)("div",{className:"flex items-center mb-4",children:[(e=>{const t="string"===typeof e?parseFloat(e):e;return(0,Ul.jsx)("div",{className:"flex",children:[1,2,3,4,5].map((e=>(0,Ul.jsx)("svg",{className:"w-5 h-5 ".concat(t>=e?"text-yellow-400":t>=e-.5?"text-yellow-300":"text-gray-300"),fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{d:"M9.049 2.927c.3-.921 1.603-.921 1.902 0l1.07 3.292a1 1 0 00.95.69h3.462c.969 0 1.371 1.24.588 1.81l-2.8 2.034a1 1 0 00-.364 1.118l1.07 3.292c.3.921-.755 1.688-1.54 1.118l-2.8-2.034a1 1 0 00-1.175 0l-2.8 2.034c-.784.57-1.838-.197-1.539-1.118l1.07-3.292a1 1 0 00-.364-1.118L2.98 8.72c-.783-.57-.38-1.81.588-1.81h3.461a1 1 0 00.951-.69l1.07-3.292z"})},e)))})})(n.rating),(0,Ul.jsxs)("span",{className:"ml-2 text-gray-600",children:[parseFloat(n.rating).toFixed(1)," (",n.rating_count," \ub9ac\ubdf0)"]})]}),(0,Ul.jsxs)("div",{className:"flex flex-wrap gap-2 mb-4",children:[(0,Ul.jsxs)("div",{className:"flex items-center mr-4",children:[(0,Ul.jsx)("svg",{className:"w-5 h-5 text-gray-500 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),(0,Ul.jsx)("span",{className:"text-gray-600",children:g(n.duration_minutes)})]}),(0,Ul.jsxs)("div",{className:"flex items-center mr-4",children:[(0,Ul.jsx)("svg",{className:"w-5 h-5 text-gray-500 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197M13 7a4 4 0 11-8 0 4 4 0 018 0z"})}),(0,Ul.jsxs)("span",{className:"text-gray-600",children:[n.enrollment_count," \uba85 \uc218\uac15 \uc911"]})]}),(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("svg",{className:"w-5 h-5 text-gray-500 mr-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),(0,Ul.jsxs)("span",{className:"text-gray-600",children:["\ucd5c\uadfc \uc5c5\ub370\uc774\ud2b8: ",new Date(n.updated_at).toLocaleDateString()]})]})]}),(0,Ul.jsxs)("div",{className:"flex flex-wrap gap-2 mb-6",children:[(0,Ul.jsx)("span",{className:"inline-block bg-blue-100 text-blue-800 text-xs px-2 py-1 rounded",children:(null===(e=n.category)||void 0===e?void 0:e.name)||"\uae30\ud0c0"}),n.tags.map((e=>(0,Ul.jsx)("span",{className:"inline-block bg-gray-200 text-gray-800 text-xs px-2 py-1 rounded",children:e},e)))]}),(0,Ul.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Ul.jsx)("img",{src:"https://images.unsplash.com/photo-1472099645785-5658abf4ff4e?w=40&h=40&fit=crop",alt:y,className:"w-10 h-10 rounded-full mr-2"}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsxs)("p",{className:"font-medium",children:["\uac15\uc0ac: ",y]}),(0,Ul.jsx)("p",{className:"text-sm text-gray-600",children:n.language})]})]}),(0,Ul.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ul.jsx)("div",{className:"text-2xl font-bold text-indigo-600",children:(b=n.price,x=n.is_free,x?"\ubb34\ub8cc":"\u20a9".concat(parseFloat(b).toLocaleString()))}),(0,Ul.jsx)("div",{children:u?(0,Ul.jsx)(Ze,{to:"/courses/".concat(n.slug,"/learn"),children:(0,Ul.jsx)(Bl,{variant:"primary",children:"\uac15\uc758 \ubcf4\uae30"})}):(0,Ul.jsx)(Bl,{variant:"primary",onClick:async()=>{try{console.log("\ud83d\udd04 Starting enrollment process..."),console.log("  - Course ID:",t),console.log("  - Redux user state:",r),console.log("  - User email from Redux:",null===r||void 0===r?void 0:r.email),console.log("  - User ID from Redux:",null===r||void 0===r?void 0:r.id);const{data:{session:e}}=await cl.auth.getSession();if(console.log("  - Supabase session:",e),console.log("  - Session user:",null===e||void 0===e?void 0:e.user),!t)throw new Error("Course ID is required");const n=(null===e||void 0===e?void 0:e.user)||r;if(!n)return void alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");!r&&null!==e&&void 0!==e&&e.user&&(console.log("\u26a0\ufe0f Redux user is null but Supabase session exists"),console.log("\ud83d\udca1 Using Supabase session for enrollment")),console.log("\ud83d\udcdd Calling enrollment API..."),console.log("\ud83d\udcdd Using user ID:",n.id),console.log("\ud83d\udd0d Pre-enrollment validation:"),console.log("  - Course ID type:",typeof t,t),console.log("  - User ID type:",typeof n.id,n.id);const a=/^[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}$/i.test(n.id);if(console.log("  - User ID is valid UUID:",a),!a)return console.error("\u274c Invalid user ID format:",n.id),void alert("\ub85c\uadf8\uc778 \uc815\ubcf4\uac00 \uc62c\ubc14\ub974\uc9c0 \uc54a\uc2b5\ub2c8\ub2e4. \ub2e4\uc2dc \ub85c\uadf8\uc778\ud574\uc8fc\uc138\uc694.");console.log("\ud83d\udd0d Checking existing enrollment...");const{data:s,error:o}=await cl.from("enrollments").select("id").eq("user_id",n.id).eq("course_id",t).single();if(o&&"PGRST116"!==o.code)throw console.error("\u274c Error checking existing enrollment:",o),new Error("\uc218\uac15\uc2e0\uccad \ud655\uc778 \uc911 \uc624\ub958: ".concat(o.message));if(s)return console.log("\u2139\ufe0f User already enrolled"),alert("\uc774\ubbf8 \uc218\uac15\uc2e0\uccad\ub41c \uac15\uc758\uc785\ub2c8\ub2e4."),void d(!0);console.log("\ud83d\udcdd Inserting enrollment record...");const{data:i,error:l}=await cl.from("enrollments").insert({user_id:n.id,course_id:t,status:"active",progress:0,completed_chapters:[],enrollment_date:(new Date).toISOString()}).select().single();if(l){console.error("\u274c Direct enrollment error details:"),console.error("  - Error code:",l.code),console.error("  - Error message:",l.message),console.error("  - Error details:",l.details),console.error("  - Error hint:",l.hint),console.error("  - Full error:",l);let e="\uc218\uac15 \uc2e0\uccad \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.";throw"42501"===l.code?e="\uc218\uac15\uc2e0\uccad \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \ub85c\uadf8\uc778 \uc0c1\ud0dc\ub97c \ud655\uc778\ud574\uc8fc\uc138\uc694.":"23505"===l.code?e="\uc774\ubbf8 \uc218\uac15\uc2e0\uccad\ub41c \uac15\uc758\uc785\ub2c8\ub2e4.":"23503"===l.code?e="\uac15\uc758 \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4.":"23514"===l.code&&(e="\uc798\ubabb\ub41c \ub370\uc774\ud130 \ud615\uc2dd\uc785\ub2c8\ub2e4."),new Error("".concat(e," (\uc5d0\ub7ec\ucf54\ub4dc: ").concat(l.code,")"))}console.log("\u2705 Direct enrollment successful:",i),d(!0),alert("\uc218\uac15 \uc2e0\uccad\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!")}catch(e){console.error("\u274c Enrollment error:",e);let t="\uc218\uac15 \uc2e0\uccad \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.";e instanceof Error&&(e.message.includes("not authenticated")?t="\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.":e.message.includes("42501")?t="\uc218\uac15 \uc2e0\uccad \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4. \uad00\ub9ac\uc790\uc5d0\uac8c \ubb38\uc758\ud558\uc138\uc694.":e.message.includes("23505")?t="\uc774\ubbf8 \uc218\uac15 \uc2e0\uccad\ub41c \uac15\uc758\uc785\ub2c8\ub2e4.":e.message.includes("23503")&&(t="\uac15\uc758 \uc815\ubcf4\ub97c \ucc3e\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."),console.error("Error details:",e.message)),alert(t)}},children:"\uc218\uac15 \uc2e0\uccad\ud558\uae30"})})]})]})]})}),h&&(0,Ul.jsx)("div",{className:"mb-8",children:(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ul.jsx)("h2",{className:"text-xl font-bold",children:h.title}),(0,Ul.jsx)(Bl,{variant:"secondary",onClick:()=>f(null),children:"\ub2eb\uae30"})]}),"video"===h.content_type&&h.video_url&&(0,Ul.jsx)(wc,{src:h.video_url,title:h.title,onProgress:e=>(async(e,t)=>{if(r&&u)try{const{error:n}=await cl.from("progress").upsert({user_id:r.id,chapter_id:e,progress_percentage:t,last_accessed_at:(new Date).toISOString()},{onConflict:"user_id,chapter_id"});if(n)throw n;m((r=>lr(lr({},r),{},{[e]:t})))}catch(n){console.error("\uc9c4\ub3c4 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328:",n)}})(h.id,e),onComplete:()=>(async e=>{if(r&&u)try{const{error:t}=await cl.from("progress").upsert({user_id:r.id,chapter_id:e,progress_percentage:100,completed_at:(new Date).toISOString(),last_accessed_at:(new Date).toISOString()},{onConflict:"user_id,chapter_id"});if(t)throw t;m((t=>lr(lr({},t),{},{[e]:100}))),alert("\ucc55\ud130\ub97c \uc644\ub8cc\ud588\uc2b5\ub2c8\ub2e4! \ud83c\udf89")}catch(t){console.error("\ucc55\ud130 \uc644\ub8cc \ucc98\ub9ac \uc2e4\ud328:",t)}})(h.id),initialProgress:p[h.id]||0}),"text"===h.content_type&&(0,Ul.jsx)("div",{className:"prose max-w-none",children:(0,Ul.jsx)("div",{dangerouslySetInnerHTML:{__html:h.content||""}})}),h.description&&(0,Ul.jsxs)("div",{className:"mt-4 p-4 bg-gray-50 rounded-lg",children:[(0,Ul.jsx)("h3",{className:"font-medium mb-2",children:"\ucc55\ud130 \uc124\uba85"}),(0,Ul.jsx)("p",{className:"text-gray-700",children:h.description})]}),u&&(0,Ul.jsxs)("div",{className:"mt-4",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Ul.jsx)("span",{className:"text-sm font-medium",children:"\ud559\uc2b5 \uc9c4\ub3c4"}),(0,Ul.jsxs)("span",{className:"text-sm text-gray-600",children:[Math.round(p[h.id]||0),"%"]})]}),(0,Ul.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2",children:(0,Ul.jsx)("div",{className:"bg-indigo-600 h-2 rounded-full transition-all duration-300",style:{width:"".concat(p[h.id]||0,"%")}})})]})]})}),(0,Ul.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Ul.jsxs)("div",{className:"lg:col-span-2",children:[(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,Ul.jsx)("h2",{className:"text-xl font-bold mb-4",children:"\uac15\uc758 \uc18c\uac1c"}),(0,Ul.jsx)("div",{className:"text-gray-700 space-y-4 whitespace-pre-line",children:n.description})]}),n.learning_outcomes.length>0&&(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8",children:[(0,Ul.jsx)("h2",{className:"text-xl font-bold mb-4",children:"\ud559\uc2b5 \ubaa9\ud45c"}),(0,Ul.jsx)("ul",{className:"list-disc pl-5 text-gray-700 space-y-2",children:n.learning_outcomes.map(((e,t)=>(0,Ul.jsx)("li",{children:e},t)))})]}),n.prerequisites&&(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[(0,Ul.jsx)("h2",{className:"text-xl font-bold mb-4",children:"\uc0ac\uc804 \uc694\uad6c\uc0ac\ud56d"}),(0,Ul.jsx)("div",{className:"text-gray-700 whitespace-pre-line",children:n.prerequisites})]})]}),(0,Ul.jsx)("div",{className:"lg:col-span-1",children:(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow p-6 mb-8 sticky top-4",children:[(0,Ul.jsx)("h2",{className:"text-xl font-bold mb-4",children:"\ucee4\ub9ac\ud058\ub7fc"}),(0,Ul.jsxs)("p",{className:"text-gray-600 mb-4",children:["\ucd1d ",g(n.duration_minutes)," \xb7 ",n.modules.length,"\uac1c \ubaa8\ub4c8 \xb7",n.modules.reduce(((e,t)=>{var r;return e+((null===(r=t.chapters)||void 0===r?void 0:r.length)||0)}),0),"\uac1c \ucc55\ud130"]}),(0,Ul.jsx)("div",{className:"space-y-4",children:n.modules.map((e=>{var t;return(0,Ul.jsxs)("div",{className:"border border-gray-200 rounded",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center p-3 cursor-pointer hover:bg-gray-50",onClick:()=>{return t=e.id,void(l.includes(t)?c(l.filter((e=>e!==t))):c([...l,t]));var t},children:[(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("h3",{className:"font-medium",children:e.title}),(0,Ul.jsxs)("p",{className:"text-sm text-gray-600",children:[(null===(t=e.chapters)||void 0===t?void 0:t.length)||0,"\uac1c \ucc55\ud130"]})]}),(0,Ul.jsx)("svg",{className:"w-5 h-5 transform ".concat(l.includes(e.id)?"rotate-180":""," transition-transform"),fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M19 9l-7 7-7-7"})})]}),l.includes(e.id)&&e.chapters&&(0,Ul.jsx)("div",{className:"border-t border-gray-200",children:e.chapters.map((e=>(0,Ul.jsxs)("div",{className:"flex justify-between items-center p-3 hover:bg-gray-50",children:[(0,Ul.jsxs)("div",{className:"flex items-center flex-1",children:[(0,Ul.jsx)(v,{type:e.content_type}),(0,Ul.jsxs)("div",{className:"ml-2 flex-1",children:[(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("span",{children:e.title}),e.is_free_preview&&(0,Ul.jsx)("span",{className:"ml-2 text-xs text-green-600 font-medium",children:"\ubbf8\ub9ac\ubcf4\uae30"}),u&&100===p[e.id]&&(0,Ul.jsx)("span",{className:"ml-2 text-xs text-blue-600 font-medium",children:"\u2713 \uc644\ub8cc"})]}),u&&p[e.id]>0&&p[e.id]<100&&(0,Ul.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-1 mt-1",children:(0,Ul.jsx)("div",{className:"bg-indigo-600 h-1 rounded-full",style:{width:"".concat(p[e.id],"%")}})})]})]}),(0,Ul.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ul.jsx)("span",{className:"text-sm text-gray-600",children:g(e.duration_minutes)}),(u||e.is_free_preview)&&(0,Ul.jsx)(Bl,{variant:"secondary",size:"sm",onClick:()=>(async e=>{if(u||e.is_free_preview){if(f(e),r&&u)try{const{data:t}=await cl.from("progress").select("progress_percentage").eq("user_id",r.id).eq("chapter_id",e.id).single();t&&m((r=>lr(lr({},r),{},{[e.id]:t.progress_percentage})))}catch(t){console.log("\uc9c4\ub3c4 \uc815\ubcf4\ub97c \uac00\uc838\uc62c \uc218 \uc5c6\uc2b5\ub2c8\ub2e4:",t)}}else alert("\uc218\uac15 \uc2e0\uccad \ud6c4 \uc774\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")})(e),children:"video"===e.content_type?"\uc2dc\uccad":"\ubcf4\uae30"})]})]},e.id)))})]},e.id)}))})]})})]})]})});var b,x};const kc={clientId:"your_nicepay_client_id",mode:"development",apiUrl:"https://sandbox-api.nicepay.co.kr"};class _c{static getInstance(){return _c.instance||(_c.instance=new _c),_c.instance}async createPaymentRequest(e){try{const t=await bl.auth.getCurrentUser();if(!t)throw new Error("User not authenticated");const{data:r,error:n}=await bl.storage.uploadImage("payments",new File([],""),"");if(n)throw new Error("Failed to create payment record: ".concat(n.message));const a={clientId:kc.clientId,method:"card",orderId:e.orderId,amount:e.amount,goodsName:e.orderName,returnUrl:e.returnUrl,cancelUrl:e.cancelUrl,mallReserved:JSON.stringify({userId:t.id,paymentType:e.paymentType,subscriptionId:e.subscriptionId,courseId:e.courseId})};return{orderId:e.orderId,paymentData:a}}catch(t){throw console.error("Payment request creation failed:",t),t}}async openPaymentWindow(e){return new Promise((t=>{"undefined"!==typeof AUTHNICE?AUTHNICE.requestPay({clientId:e.clientId,method:e.method,orderId:e.orderId,amount:e.amount,goodsName:e.goodsName,returnUrl:e.returnUrl,cancelUrl:e.cancelUrl,mallReserved:e.mallReserved,fnError:e=>{console.error("Payment failed:",e),t({success:!1,error:e.resultMsg||"Payment failed",data:e})}},(e=>{"0000"===e.resultCode?t({success:!0,paymentId:e.tid,orderId:e.orderId,amount:e.amount,method:e.payMethod,data:e}):t({success:!1,error:e.resultMsg||"Payment failed",data:e})})):t({success:!1,error:"Payment system not available"})}))}async completePayment(e){try{var t;if(!e.success||!e.paymentId)throw new Error("Invalid payment result");const r=await bl.auth.getCurrentUser();if(!r)throw new Error("User not authenticated");const{error:n}=await bl.storage.uploadImage("payments",new File([],""),"");if(n)throw new Error("Failed to update payment record: ".concat(n.message));const a=JSON.parse((null===(t=e.data)||void 0===t?void 0:t.mallReserved)||"{}");return"course"===a.paymentType&&a.courseId&&await bl.enrollment.enrollCourse(r.id,a.courseId),"subscription"===a.paymentType&&a.subscriptionId,!0}catch(r){return console.error("Payment completion failed:",r),!1}}async subscribeWithPayment(e,t){try{const t=await bl.auth.getCurrentUser();if(!t)throw new Error("User not authenticated");const{data:r}=await bl.subscription.getSubscriptionPlans(),n=null===r||void 0===r?void 0:r.find((t=>t.id===e));if(!n)throw new Error("Subscription plan not found");let a=n.price;const s={amount:a,currency:"KRW",orderId:"SUB_".concat(Date.now(),"_").concat(t.id),orderName:"".concat(n.name," \uad6c\ub3c5"),paymentType:"subscription",subscriptionId:e,returnUrl:"".concat(window.location.origin,"/payment/complete"),cancelUrl:"".concat(window.location.origin,"/subscription")},{paymentData:o}=await this.createPaymentRequest(s);return await this.openPaymentWindow(o)}catch(r){return console.error("Subscription payment failed:",r),{success:!1,error:r.message||"Subscription payment failed"}}}async purchaseCourse(e,t){try{const t=await bl.auth.getCurrentUser();if(!t)throw new Error("User not authenticated");const{data:r}=await bl.course.getCourse(e);if(!r)throw new Error("Course not found");if(r.is_free)return await bl.enrollment.enrollCourse(t.id,e),{success:!0,orderId:"FREE_".concat(Date.now()),amount:0};let n=r.price;const a={amount:n,currency:"KRW",orderId:"COURSE_".concat(Date.now(),"_").concat(t.id),orderName:r.title,paymentType:"course",courseId:e,returnUrl:"".concat(window.location.origin,"/payment/complete"),cancelUrl:"".concat(window.location.origin,"/courses/").concat(e)},{paymentData:s}=await this.createPaymentRequest(a);return await this.openPaymentWindow(s)}catch(r){return console.error("Course purchase failed:",r),{success:!1,error:r.message||"Course purchase failed"}}}async getPaymentHistory(e){try{var t;if(!(e||(null===(t=await bl.auth.getCurrentUser())||void 0===t?void 0:t.id)))throw new Error("User not authenticated");return console.log("Payment history fetch temporarily disabled for migration"),[]}catch(r){return console.error("Failed to fetch payment history:",r),[]}}async requestRefund(e,t){try{if(!await bl.auth.getCurrentUser())throw new Error("User not authenticated");return console.log("Refund requested for payment ".concat(e,": ").concat(t)),!0}catch(r){return console.error("Refund request failed:",r),!1}}}_c.instance=void 0;const Sc=_c.getInstance(),Nc=()=>{const[e,t]=(0,a.useState)([]),[r,n]=(0,a.useState)(null),[s,o]=(0,a.useState)(!0),[i,l]=(0,a.useState)(null),[c,u]=(0,a.useState)(!1);(0,a.useEffect)((()=>{d()}),[]);const d=async()=>{try{o(!0);const r=await wl.subscriptions.getPlans();t(r.data.results||r.data);try{const e=await wl.subscriptions.getUserSubscription();e.data.subscription&&n(e.data)}catch(e){console.log("No active subscription")}}catch(e){console.error("Error fetching subscription data:",e)}finally{o(!1)}};return s?(0,Ul.jsx)(Vl,{children:(0,Ul.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):(0,Ul.jsx)(Vl,{children:(0,Ul.jsxs)("div",{className:"max-w-7xl mx-auto px-4 py-8",children:[(0,Ul.jsxs)("div",{className:"text-center mb-12",children:[(0,Ul.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"\uad6c\ub3c5 \ud50c\ub79c"}),(0,Ul.jsx)("p",{className:"text-xl text-gray-600",children:"AI \uae30\ubc18 \ub9de\ucda4\ud615 \ud559\uc2b5\uc73c\ub85c \ub354 \ud6a8\uacfc\uc801\uc778 \ud559\uc2b5\uc744 \uacbd\ud5d8\ud558\uc138\uc694"})]}),r&&(0,Ul.jsx)("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-6 mb-8",children:(0,Ul.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ul.jsxs)("div",{children:[(0,Ul.jsxs)("h3",{className:"text-lg font-semibold text-blue-900",children:["\ud604\uc7ac \uad6c\ub3c5: ",r.plan.name]}),(0,Ul.jsx)("p",{className:"text-blue-700",children:r.is_active?(0,Ul.jsxs)(Ul.Fragment,{children:[r.days_remaining,"\uc77c \ub0a8\uc74c (\ub9cc\ub8cc\uc77c: ",new Date(r.end_date).toLocaleDateString(),")"]}):"\uad6c\ub3c5\uc774 \ub9cc\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4"})]}),(0,Ul.jsx)("div",{className:"flex space-x-2",children:(0,Ul.jsx)(Bl,{variant:"secondary",onClick:async()=>{if(r&&window.confirm("\uad6c\ub3c5\uc744 \ucde8\uc18c\ud558\uc2dc\uaca0\uc2b5\ub2c8\uae4c?"))try{if(!await bl.auth.getCurrentUser())return void alert("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");const{error:e}=await bl.storage.uploadImage("subscriptions",new File([],""),"");if(e)throw new Error("\uad6c\ub3c5 \ucde8\uc18c \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");alert("\uad6c\ub3c5\uc774 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),d()}catch(e){console.error("Error canceling subscription:",e),alert("\uad6c\ub3c5 \ucde8\uc18c \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: "+e.message)}},disabled:!r.is_active,children:"\uad6c\ub3c5 \ucde8\uc18c"})})]})}),(0,Ul.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:e.map((e=>{return(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow-lg border-2 ".concat((t=e.plan_type,{free:"border-gray-300",basic:"border-blue-500",premium:"border-purple-500",enterprise:"border-gold-500"}[t]||"border-gray-300")," ").concat("premium"===e.plan_type?"transform scale-105":""),children:["premium"===e.plan_type&&(0,Ul.jsx)("div",{className:"bg-purple-500 text-white text-center py-2 rounded-t-lg",children:(0,Ul.jsx)("span",{className:"text-sm font-semibold",children:"\uac00\uc7a5 \uc778\uae30"})}),(0,Ul.jsxs)("div",{className:"p-6",children:[(0,Ul.jsxs)("div",{className:"text-center mb-6",children:[(0,Ul.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-2",children:e.name}),(0,Ul.jsxs)("div",{className:"text-4xl font-bold text-gray-900 mb-1",children:["\u20a9",parseInt(e.price).toLocaleString()]}),(0,Ul.jsxs)("div",{className:"text-gray-600",children:[e.duration_days,"\uc77c"]})]}),(0,Ul.jsxs)("div",{className:"space-y-4 mb-6",children:[e.features.map(((e,t)=>(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,Ul.jsx)("span",{className:"text-gray-600",children:e})]},t))),e.max_courses&&(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("svg",{className:"w-5 h-5 text-green-500 mr-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M16.707 5.293a1 1 0 010 1.414l-8 8a1 1 0 01-1.414 0l-4-4a1 1 0 011.414-1.414L8 12.586l7.293-7.293a1 1 0 011.414 0z",clipRule:"evenodd"})}),(0,Ul.jsxs)("span",{className:"text-gray-600",children:["\ucd5c\ub300 ",e.max_courses,"\uac1c \uac15\uc758 \uc218\uac15"]})]})]}),(0,Ul.jsx)(Bl,{variant:"premium"===e.plan_type?"primary":"secondary",fullWidth:!0,onClick:()=>(async e=>{try{u(!0),l(e);const t=await Sc.subscribeWithPayment(e.toString());t.success?(alert("\uad6c\ub3c5\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),d()):alert("\uacb0\uc81c \uc2e4\ud328: "+(t.error||"\uc54c \uc218 \uc5c6\ub294 \uc624\ub958"))}catch(t){console.error("Error creating subscription payment:",t),alert("\uacb0\uc81c \uc694\uccad \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4: "+t.message)}finally{u(!1),l(null)}})(e.id),disabled:c||(null===r||void 0===r?void 0:r.plan.id)===e.id&&r.is_active||"free"===e.plan_type,children:c&&i===e.id?(0,Ul.jsxs)("div",{className:"flex items-center justify-center",children:[(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-t-2 border-b-2 border-white mr-2"}),"\ucc98\ub9ac \uc911..."]}):(null===r||void 0===r?void 0:r.plan.id)===e.id&&r.is_active?"\ud604\uc7ac \ud50c\ub79c":"free"===e.plan_type?"\ubb34\ub8cc \ud50c\ub79c":"\uad6c\ub3c5\ud558\uae30"})]})]},e.id);var t}))}),(0,Ul.jsxs)("div",{className:"mt-12 bg-gray-50 rounded-lg p-8",children:[(0,Ul.jsx)("h3",{className:"text-2xl font-bold text-gray-900 mb-4 text-center",children:"\uad6c\ub3c5 \ud61c\ud0dd"}),(0,Ul.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ul.jsxs)("div",{className:"text-center",children:[(0,Ul.jsx)("div",{className:"bg-indigo-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Ul.jsx)("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 10V3L4 14h7v7l9-11h-7z"})})}),(0,Ul.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"AI \ub9de\ucda4\ud615 \ud559\uc2b5"}),(0,Ul.jsx)("p",{className:"text-gray-600",children:"\uac1c\uc778\uc758 \ud559\uc2b5 \ud328\ud134\uc744 \ubd84\uc11d\ud558\uc5ec \ucd5c\uc801\uc758 \ud559\uc2b5 \uacbd\ub85c\ub97c \uc81c\uc548\ud569\ub2c8\ub2e4."})]}),(0,Ul.jsxs)("div",{className:"text-center",children:[(0,Ul.jsx)("div",{className:"bg-indigo-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Ul.jsx)("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 12h.01M12 12h.01M16 12h.01M21 12c0 4.418-4.03 8-9 8a9.863 9.863 0 01-4.255-.949L3 20l1.395-3.72C3.512 15.042 3 13.574 3 12c0-4.418 4.03-8 9-8s9 3.582 9 8z"})})}),(0,Ul.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"24\uc2dc\uac04 AI \ud29c\ud130"}),(0,Ul.jsx)("p",{className:"text-gray-600",children:"\uc5b8\uc81c\ub4e0\uc9c0 \uc9c8\ubb38\ud558\uace0 \uc989\uc2dc \ub2f5\ubcc0\uc744 \ubc1b\uc744 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]}),(0,Ul.jsxs)("div",{className:"text-center",children:[(0,Ul.jsx)("div",{className:"bg-indigo-100 rounded-full w-16 h-16 flex items-center justify-center mx-auto mb-4",children:(0,Ul.jsx)("svg",{className:"w-8 h-8 text-indigo-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),(0,Ul.jsx)("h4",{className:"text-lg font-semibold text-gray-900 mb-2",children:"\ud559\uc2b5 \ubd84\uc11d"}),(0,Ul.jsx)("p",{className:"text-gray-600",children:"\uc0c1\uc138\ud55c \ud559\uc2b5 \ub370\uc774\ud130 \ubd84\uc11d\uc73c\ub85c \uc131\uc7a5\uc744 \ud655\uc778\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."})]})]})]})]})})},Ec=()=>{const[e]=rt(),t=Ee(),{user:r}=Al((e=>e.auth)),[n,s]=(0,a.useState)(null),[o,i]=(0,a.useState)(!0);return(0,a.useEffect)((()=>{(async()=>{try{const r=e.get("resultCode"),n=e.get("resultMsg"),a=e.get("tid"),o=e.get("orderId"),i=e.get("amount"),l=e.get("payMethod"),c=e.get("mallReserved");if("0000"===r){const e={success:!0,paymentId:a||void 0,orderId:o||void 0,amount:i?parseInt(i):0,method:l||void 0,data:{mallReserved:c,tid:a,resultCode:r,resultMsg:n}};if(!await Sc.completePayment(e))throw new Error("\uacb0\uc81c \uc644\ub8cc \ucc98\ub9ac \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4.");{s({success:!0,message:"\uacb0\uc81c\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",orderId:o||void 0,amount:e.amount});const r=c?JSON.parse(c):{};setTimeout((()=>{"course"===r.paymentType?t("/courses/".concat(r.courseId)):(r.paymentType,t("/dashboard"))}),3e3)}}else s({success:!1,message:n||"\uacb0\uc81c\uac00 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.",orderId:o||void 0}),setTimeout((()=>{t("/dashboard")}),3e3)}catch(r){console.error("Payment verification error:",r),s({success:!1,message:r.message||"\uacb0\uc81c \uac80\uc99d \uc911 \uc624\ub958\uac00 \ubc1c\uc0dd\ud588\uc2b5\ub2c8\ub2e4."}),setTimeout((()=>{t("/dashboard")}),3e3)}finally{i(!1)}})()}),[e,t]),o?(0,Ul.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Ul.jsxs)("div",{className:"text-center",children:[(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-indigo-600 mx-auto"}),(0,Ul.jsx)("p",{className:"mt-4 text-lg text-gray-600",children:"\uacb0\uc81c \ucc98\ub9ac \uc911..."})]})}):(0,Ul.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ul.jsx)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:null!==n&&void 0!==n&&n.success?(0,Ul.jsxs)(Ul.Fragment,{children:[(0,Ul.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ul.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M5 13l4 4L19 7"})})}),(0,Ul.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\uacb0\uc81c \uc644\ub8cc"}),(0,Ul.jsx)("p",{className:"text-gray-600 mb-4",children:n.message}),n.subscription&&(0,Ul.jsxs)("div",{className:"bg-gray-50 rounded-lg p-4 mb-4",children:[(0,Ul.jsx)("p",{className:"text-sm text-gray-600",children:"\uad6c\ub3c5 \ud50c\ub79c"}),(0,Ul.jsx)("p",{className:"font-semibold",children:n.subscription.plan_name}),(0,Ul.jsx)("p",{className:"text-sm text-gray-600 mt-2",children:"\uc720\ud6a8\uae30\uac04"}),(0,Ul.jsx)("p",{className:"font-semibold",children:new Date(n.subscription.valid_until).toLocaleDateString()})]}),(0,Ul.jsx)("button",{onClick:()=>t("/dashboard"),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"\ub300\uc2dc\ubcf4\ub4dc\ub85c \uac00\uae30"})]}):(0,Ul.jsxs)(Ul.Fragment,{children:[(0,Ul.jsx)("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ul.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})}),(0,Ul.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\uacb0\uc81c \uc2e4\ud328"}),(0,Ul.jsx)("p",{className:"text-gray-600 mb-4",children:null===n||void 0===n?void 0:n.message}),(0,Ul.jsxs)("div",{className:"space-y-2",children:[(0,Ul.jsx)("button",{onClick:()=>t("/subscription"),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"\ub2e4\uc2dc \uc2dc\ub3c4"}),(0,Ul.jsx)("button",{onClick:()=>t("/dashboard"),className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium py-2 px-4 rounded-md transition-colors",children:"\ub300\uc2dc\ubcf4\ub4dc\ub85c \uac00\uae30"})]})]})})})},Cc=()=>{const e=Ee();return(0,Ul.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ul.jsxs)("div",{className:"max-w-md w-full bg-white rounded-lg shadow-md p-6 text-center",children:[(0,Ul.jsx)("div",{className:"w-16 h-16 bg-yellow-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,Ul.jsx)("svg",{className:"w-8 h-8 text-yellow-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L4.082 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Ul.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"\uacb0\uc81c \ucde8\uc18c"}),(0,Ul.jsxs)("p",{className:"text-gray-600 mb-6",children:["\uacb0\uc81c\uac00 \ucde8\uc18c\ub418\uc5c8\uc2b5\ub2c8\ub2e4.",(0,Ul.jsx)("br",{}),"\uc5b8\uc81c\ub4e0\uc9c0 \ub2e4\uc2dc \uc2dc\ub3c4\ud558\uc2e4 \uc218 \uc788\uc2b5\ub2c8\ub2e4."]}),(0,Ul.jsxs)("div",{className:"space-y-3",children:[(0,Ul.jsx)("button",{onClick:()=>e("/subscription"),className:"w-full bg-indigo-600 hover:bg-indigo-700 text-white font-medium py-2 px-4 rounded-md transition-colors",children:"\ub2e4\uc2dc \uc2dc\ub3c4"}),(0,Ul.jsx)("button",{onClick:()=>e("/dashboard"),className:"w-full bg-gray-300 hover:bg-gray-400 text-gray-700 font-medium py-2 px-4 rounded-md transition-colors",children:"\ub300\uc2dc\ubcf4\ub4dc\ub85c \uac00\uae30"})]})]})})},Pc=()=>{var e,t;const{user:r,isLoading:n}=Al((e=>e.auth)),s=Ll(),[o,i]=(0,a.useState)(null),[l,c]=(0,a.useState)(!1),[u,d]=(0,a.useState)({first_name:"",last_name:"",bio:"",phone_number:"",address:"",organization:"",job_title:""}),[h,f]=(0,a.useState)(!1),[p,m]=(0,a.useState)("");(0,a.useEffect)((()=>{g()}),[]);const g=async()=>{try{if(r){var e,t,n,a,s;console.log("\uc0ac\uc6a9\uc790 \uc815\ubcf4:",r),i(r),d({first_name:r.first_name||"",last_name:r.last_name||"",bio:(null===(e=r.profile)||void 0===e?void 0:e.bio)||"",phone_number:(null===(t=r.profile)||void 0===t?void 0:t.phone_number)||"",address:(null===(n=r.profile)||void 0===n?void 0:n.address)||"",organization:(null===(a=r.profile)||void 0===a?void 0:a.organization)||"",job_title:(null===(s=r.profile)||void 0===s?void 0:s.job_title)||""})}else{const e=await wl.auth.getCurrentUser();var o,l,c,u,h;if(e.data)i(e.data),d({first_name:e.data.first_name||"",last_name:e.data.last_name||"",bio:(null===(o=e.data.profile)||void 0===o?void 0:o.bio)||"",phone_number:(null===(l=e.data.profile)||void 0===l?void 0:l.phone_number)||"",address:(null===(c=e.data.profile)||void 0===c?void 0:c.address)||"",organization:(null===(u=e.data.profile)||void 0===u?void 0:u.organization)||"",job_title:(null===(h=e.data.profile)||void 0===h?void 0:h.job_title)||""})}}catch(f){console.error("\ud504\ub85c\ud544 \uc870\ud68c \uc2e4\ud328:",f)}},v=e=>{const{name:t,value:r}=e.target;d((e=>lr(lr({},e),{},{[t]:r})))};return n||!o?(0,Ul.jsx)(Vl,{children:(0,Ul.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):(0,Ul.jsx)(Vl,{children:(0,Ul.jsx)("div",{className:"max-w-4xl mx-auto",children:(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow",children:[(0,Ul.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Ul.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ul.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"\ud504\ub85c\ud544"}),l?(0,Ul.jsxs)("div",{className:"space-x-2",children:[(0,Ul.jsx)(Bl,{variant:"secondary",onClick:()=>{c(!1),m("")},children:"\ucde8\uc18c"}),(0,Ul.jsx)(Bl,{variant:"primary",onClick:async()=>{try{f(!0),m("");const e=await bl.auth.getCurrentUser();if(!e)throw new Error("\uc0ac\uc6a9\uc790 \uc778\uc99d\uc774 \ud544\uc694\ud569\ub2c8\ub2e4.");const t={first_name:u.first_name,last_name:u.last_name,bio:u.bio,phone_number:u.phone_number,address:u.address,organization:u.organization,job_title:u.job_title,updated_at:(new Date).toISOString()},{data:r,error:n}=await bl.user.updateProfile(e.id,t);if(n)throw new Error(n.message||"\ud504\ub85c\ud544 \uc5c5\ub370\uc774\ud2b8\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.");m("\ud504\ub85c\ud544\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub370\uc774\ud2b8\ub418\uc5c8\uc2b5\ub2c8\ub2e4."),c(!1),g(),s(Nl())}catch(e){console.error("\ud504\ub85c\ud544 \uc5c5\ub370\uc774\ud2b8 \uc2e4\ud328:",e),m("\ud504\ub85c\ud544 \uc5c5\ub370\uc774\ud2b8\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4.")}finally{f(!1)}},isLoading:h,children:"\uc800\uc7a5"})]}):(0,Ul.jsx)(Bl,{variant:"primary",onClick:()=>c(!0),children:"\ud504\ub85c\ud544 \ud3b8\uc9d1"})]})}),p&&(0,Ul.jsx)("div",{className:"mx-6 mt-4 p-3 rounded ".concat(p.includes("\uc131\uacf5")?"bg-green-100 text-green-700 border border-green-200":"bg-red-100 text-red-700 border border-red-200"),children:p}),(0,Ul.jsx)("div",{className:"p-6",children:(0,Ul.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,Ul.jsxs)("div",{className:"lg:col-span-1",children:[(0,Ul.jsxs)("div",{className:"text-center",children:[(0,Ul.jsx)("div",{className:"w-32 h-32 mx-auto bg-gray-300 rounded-full flex items-center justify-center mb-4",children:null!==(e=o.profile)&&void 0!==e&&e.profile_image_url?(0,Ul.jsx)("img",{src:o.profile.profile_image_url,alt:"\ud504\ub85c\ud544",className:"w-32 h-32 rounded-full object-cover"}):(0,Ul.jsx)("svg",{className:"w-16 h-16 text-gray-400",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z",clipRule:"evenodd"})})}),(0,Ul.jsxs)("h2",{className:"text-xl font-semibold text-gray-900",children:[o.first_name," ",o.last_name]}),(0,Ul.jsx)("p",{className:"text-gray-600",children:o.email}),(0,Ul.jsx)("span",{className:"inline-block px-2 py-1 mt-2 text-xs font-medium bg-blue-100 text-blue-800 rounded",children:(e=>{switch(e){case"admin":return"\uad00\ub9ac\uc790";case"instructor":return"\uac15\uc0ac";case"student":return"\ud559\uc0dd";default:return e}})(o.role)})]}),(0,Ul.jsxs)("div",{className:"mt-6 pt-6 border-t border-gray-200",children:[(0,Ul.jsx)("h3",{className:"text-sm font-medium text-gray-900 mb-3",children:"\uacc4\uc815 \uc815\ubcf4"}),(0,Ul.jsx)("div",{className:"space-y-2 text-sm",children:(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("span",{className:"text-gray-500",children:"\uac00\uc785\uc77c:"}),(0,Ul.jsx)("span",{className:"ml-2",children:(y=(null===(t=o.profile)||void 0===t?void 0:t.created_at)||(new Date).toISOString(),new Date(y).toLocaleDateString("ko-KR"))})]})})]})]}),(0,Ul.jsx)("div",{className:"lg:col-span-2",children:(0,Ul.jsxs)("div",{className:"space-y-6",children:[(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\uae30\ubcf8 \uc815\ubcf4"}),(0,Ul.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ul.jsx)(Ml,{id:"first_name",name:"first_name",label:"\uc774\ub984",value:u.first_name,onChange:v,disabled:!l,fullWidth:!0}),(0,Ul.jsx)(Ml,{id:"last_name",name:"last_name",label:"\uc131",value:u.last_name,onChange:v,disabled:!l,fullWidth:!0})]}),(0,Ul.jsxs)("div",{className:"mt-4",children:[(0,Ul.jsx)("label",{htmlFor:"bio",className:"block text-sm font-medium text-gray-700 mb-1",children:"\uc790\uae30\uc18c\uac1c"}),(0,Ul.jsx)("textarea",{id:"bio",name:"bio",rows:3,value:u.bio,onChange:v,disabled:!l,className:"block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 ".concat(l?"":"bg-gray-50"),placeholder:"\uc790\uae30\uc18c\uac1c\ub97c \uc785\ub825\ud558\uc138\uc694"})]})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\uc5f0\ub77d\ucc98 \uc815\ubcf4"}),(0,Ul.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ul.jsx)(Ml,{id:"phone_number",name:"phone_number",label:"\uc804\ud654\ubc88\ud638",value:u.phone_number,onChange:v,disabled:!l,fullWidth:!0}),(0,Ul.jsx)(Ml,{id:"address",name:"address",label:"\uc8fc\uc18c",value:u.address,onChange:v,disabled:!l,fullWidth:!0})]})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\uc9c1\uc5c5 \uc815\ubcf4"}),(0,Ul.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ul.jsx)(Ml,{id:"organization",name:"organization",label:"\uc18c\uc18d \uae30\uad00",value:u.organization,onChange:v,disabled:!l,fullWidth:!0}),(0,Ul.jsx)(Ml,{id:"job_title",name:"job_title",label:"\uc9c1\ucc45",value:u.job_title,onChange:v,disabled:!l,fullWidth:!0})]})]})]})})]})})]})})});var y},Oc=()=>{const e=Ee(),{user:t,isAuthenticated:r}=Al((e=>e.auth)),[n,s]=(0,a.useState)(null),[o,i]=(0,a.useState)(!0),[l,c]=(0,a.useState)("overview");(0,a.useEffect)((()=>{if(!r||!t||"admin"!==t.role)return alert("\uad00\ub9ac\uc790 \uad8c\ud55c\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),void e("/login")}),[r,t,e]),(0,a.useEffect)((()=>{r&&t&&"admin"===t.role&&u()}),[r,t]);const u=async()=>{try{i(!0),console.log("Admin dashboard temporarily disabled for migration");const e=[],t=[],r=[],n=r.filter((e=>"completed"===e.status)).reduce(((e,t)=>e+parseFloat(t.amount)),0),a=t.reduce(((e,t)=>e+(t.enrollment_count||0)),0);s({totalUsers:e.length,totalCourses:t.length,totalEnrollments:a,totalRevenue:n,recentUsers:e.slice(0,5),recentCourses:t.slice(0,5),recentPayments:r.slice(0,5)})}catch(e){console.error("\ub300\uc2dc\ubcf4\ub4dc \ub370\uc774\ud130 \uc870\ud68c \uc2e4\ud328:",e)}finally{i(!1)}},d=e=>new Intl.NumberFormat("ko-KR",{style:"currency",currency:"KRW"}).format(e),h=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"}),f=(e,t)=>{let r="",n="";if("user"===t){const t=!0===e||"true"===e;r=t?"bg-green-100 text-green-800":"bg-red-100 text-red-800",n=t?"\ud65c\uc131":"\ube44\ud65c\uc131"}else if("course"===t)switch(e){case"published":r="bg-green-100 text-green-800",n="\uac8c\uc2dc\ub428";break;case"draft":r="bg-yellow-100 text-yellow-800",n="\ucd08\uc548";break;default:r="bg-gray-100 text-gray-800",n=e.toString()}else if("payment"===t)switch(e){case"completed":r="bg-green-100 text-green-800",n="\uc644\ub8cc";break;case"pending":r="bg-yellow-100 text-yellow-800",n="\ub300\uae30";break;case"failed":r="bg-red-100 text-red-800",n="\uc2e4\ud328";break;default:r="bg-gray-100 text-gray-800",n=e.toString()}return(0,Ul.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-medium rounded-full ".concat(r),children:n})};return o?(0,Ul.jsx)(Vl,{children:(0,Ul.jsx)("div",{className:"flex justify-center items-center h-64",children:(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-t-2 border-b-2 border-indigo-500"})})}):(0,Ul.jsx)(Vl,{children:(0,Ul.jsxs)("div",{className:"space-y-6",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ul.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"\uad00\ub9ac\uc790 \ub300\uc2dc\ubcf4\ub4dc"}),(0,Ul.jsxs)("div",{className:"flex space-x-2",children:[(0,Ul.jsx)(Ze,{to:"/admin/course/create",children:(0,Ul.jsx)(Bl,{variant:"primary",children:"\uc0c8 \uac15\uc758 \ub9cc\ub4e4\uae30"})}),(0,Ul.jsx)(Bl,{variant:"secondary",onClick:()=>window.open("/admin/","_blank"),children:"Django Admin"}),(0,Ul.jsx)(Bl,{variant:"secondary",onClick:u,children:"\uc0c8\ub85c\uace0\uce68"})]})]}),n&&(0,Ul.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,Ul.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Ul.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"\uc804\uccb4 \uc0ac\uc6a9\uc790"}),(0,Ul.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.totalUsers})]}),(0,Ul.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,Ul.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{d:"M13 6a3 3 0 11-6 0 3 3 0 016 0zM18 8a2 2 0 11-4 0 2 2 0 014 0zM14 15a4 4 0 00-8 0v3h8v-3z"})})})]})}),(0,Ul.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Ul.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"\uc804\uccb4 \uac15\uc758"}),(0,Ul.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.totalCourses})]}),(0,Ul.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,Ul.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{d:"M7 3a1 1 0 000 2h6a1 1 0 100-2H7zM4 7a1 1 0 011-1h10a1 1 0 110 2H5a1 1 0 01-1-1zM2 11a2 2 0 012-2h12a2 2 0 012 2v4a2 2 0 01-2 2H4a2 2 0 01-2-2v-4z"})})})]})}),(0,Ul.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Ul.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"\uc804\uccb4 \uc218\uac15"}),(0,Ul.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:n.totalEnrollments})]}),(0,Ul.jsx)("div",{className:"w-8 h-8 bg-yellow-500 rounded-full flex items-center justify-center",children:(0,Ul.jsx)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:(0,Ul.jsx)("path",{d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})]})}),(0,Ul.jsx)("div",{className:"bg-white rounded-lg shadow p-6",children:(0,Ul.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"\ucd1d \uc218\uc775"}),(0,Ul.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:d(n.totalRevenue)})]}),(0,Ul.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:(0,Ul.jsxs)("svg",{className:"w-4 h-4 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:[(0,Ul.jsx)("path",{d:"M8.433 7.418c.155-.103.346-.196.567-.267v1.698a2.305 2.305 0 01-.567-.267C8.07 8.34 8 8.114 8 8c0-.114.07-.34.433-.582zM11 12.849v-1.698c.22.071.412.164.567.267.364.243.433.468.433.582 0 .114-.07.34-.433.582a2.305 2.305 0 01-.567.267z"}),(0,Ul.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-13a1 1 0 10-2 0v.092a4.535 4.535 0 00-1.676.662C6.602 6.234 6 7.009 6 8c0 .99.602 1.765 1.324 2.246.48.32 1.054.545 1.676.662v1.941c-.391-.127-.68-.317-.843-.504a1 1 0 10-1.51 1.31c.562.649 1.413 1.076 2.353 1.253V15a1 1 0 102 0v-.092a4.535 4.535 0 001.676-.662C13.398 13.766 14 12.991 14 12c0-.99-.602-1.765-1.324-2.246A4.535 4.535 0 0011 9.092V7.151c.391.127.68.317.843.504a1 1 0 101.511-1.31c-.563-.649-1.413-1.076-2.354-1.253V5z",clipRule:"evenodd"})]})})]})})]}),(0,Ul.jsx)("div",{className:"border-b border-gray-200",children:(0,Ul.jsx)("nav",{className:"-mb-px flex space-x-8",children:[{id:"overview",name:"\uac1c\uc694"},{id:"users",name:"\uc0ac\uc6a9\uc790"},{id:"courses",name:"\uac15\uc758"},{id:"payments",name:"\uacb0\uc81c"}].map((e=>(0,Ul.jsx)("button",{onClick:()=>c(e.id),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat(l===e.id?"border-indigo-500 text-indigo-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:e.name},e.id)))})}),n&&(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow",children:["overview"===l&&(0,Ul.jsxs)("div",{className:"p-6",children:[(0,Ul.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\uc2dc\uc2a4\ud15c \uac1c\uc694"}),(0,Ul.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"\ucd5c\uadfc \ud65c\ub3d9"}),(0,Ul.jsxs)("ul",{className:"space-y-2",children:[(0,Ul.jsxs)("li",{className:"text-sm text-gray-600",children:["\u2022 \uc0c8\ub85c\uc6b4 \uc0ac\uc6a9\uc790 ",n.recentUsers.length,"\uba85 \uac00\uc785"]}),(0,Ul.jsxs)("li",{className:"text-sm text-gray-600",children:["\u2022 \uc0c8\ub85c\uc6b4 \uac15\uc758 ",n.recentCourses.length,"\uac1c \ub4f1\ub85d"]}),(0,Ul.jsxs)("li",{className:"text-sm text-gray-600",children:["\u2022 \ucd5c\uadfc \uacb0\uc81c ",n.recentPayments.length,"\uac74 \ucc98\ub9ac"]})]})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("h4",{className:"text-md font-medium text-gray-700 mb-2",children:"\uc2dc\uc2a4\ud15c \uc0c1\ud0dc"}),(0,Ul.jsxs)("div",{className:"space-y-2",children:[(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,Ul.jsx)("span",{className:"text-sm text-gray-600",children:"\uc2dc\uc2a4\ud15c \uc815\uc0c1"})]}),(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,Ul.jsx)("span",{className:"text-sm text-gray-600",children:"\ub370\uc774\ud130\ubca0\uc774\uc2a4 \uc5f0\uacb0"})]}),(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full mr-2"}),(0,Ul.jsx)("span",{className:"text-sm text-gray-600",children:"\uacb0\uc81c \uc2dc\uc2a4\ud15c \uc5f0\uacb0"})]})]})]})]})]}),"users"===l&&(0,Ul.jsxs)("div",{className:"p-6",children:[(0,Ul.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\ucd5c\uadfc \uac00\uc785 \uc0ac\uc6a9\uc790"}),(0,Ul.jsx)("div",{className:"overflow-x-auto",children:(0,Ul.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ul.jsx)("thead",{className:"bg-gray-50",children:(0,Ul.jsxs)("tr",{children:[(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc0ac\uc6a9\uc790"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc5ed\ud560"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uac00\uc785\uc77c"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc0c1\ud0dc"})]})}),(0,Ul.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.recentUsers.map((e=>(0,Ul.jsxs)("tr",{children:[(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ul.jsxs)("div",{children:[(0,Ul.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Ul.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"admin"===e.role?"\uad00\ub9ac\uc790":"instructor"===e.role?"\uac15\uc0ac":"\ud559\uc0dd"}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(e.date_joined)}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:f(e.is_active,"user")})]},e.id)))})]})})]}),"courses"===l&&(0,Ul.jsxs)("div",{className:"p-6",children:[(0,Ul.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\ucd5c\uadfc \ub4f1\ub85d \uac15\uc758"}),(0,Ul.jsx)("div",{className:"overflow-x-auto",children:(0,Ul.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ul.jsx)("thead",{className:"bg-gray-50",children:(0,Ul.jsxs)("tr",{children:[(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uac15\uc758\uba85"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uac15\uc0ac"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc218\uac15\uc0dd"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc0c1\ud0dc"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ub4f1\ub85d\uc77c"})]})}),(0,Ul.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.recentCourses.map((e=>(0,Ul.jsxs)("tr",{children:[(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ul.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.title})}),(0,Ul.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ul.jsxs)("div",{className:"text-sm text-gray-900",children:[e.instructor.first_name," ",e.instructor.last_name]}),(0,Ul.jsx)("div",{className:"text-sm text-gray-500",children:e.instructor.email})]}),(0,Ul.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:[e.enrollment_count,"\uba85"]}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:f(e.status,"course")}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(e.created_at)})]},e.id)))})]})})]}),"payments"===l&&(0,Ul.jsxs)("div",{className:"p-6",children:[(0,Ul.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:"\ucd5c\uadfc \uacb0\uc81c \ub0b4\uc5ed"}),(0,Ul.jsx)("div",{className:"overflow-x-auto",children:(0,Ul.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ul.jsx)("thead",{className:"bg-gray-50",children:(0,Ul.jsxs)("tr",{children:[(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc0ac\uc6a9\uc790"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uacb0\uc81c \uc720\ud615"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uae08\uc561"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc0c1\ud0dc"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uacb0\uc81c\uc77c"})]})}),(0,Ul.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:n.recentPayments.map((e=>(0,Ul.jsxs)("tr",{children:[(0,Ul.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Ul.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.user.first_name," ",e.user.last_name]}),(0,Ul.jsx)("div",{className:"text-sm text-gray-500",children:e.user.email})]}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:"subscription"===e.payment_type?"\uad6c\ub3c5":"course"===e.payment_type?"\uac15\uc758":"\uae30\ud0c0"}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:d(parseFloat(e.amount))}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:f(e.status,"payment")}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:h(e.requested_at)})]},e.id)))})]})})]})]})]})})},Tc=e=>{let{onClose:t}=e;const[r,n]=(0,a.useState)(1),s='-- \u26a0\ufe0f \uc8fc\uc758: \ubc84\ud0b7\uc740 \uba3c\uc800 \uc218\ub3d9\uc73c\ub85c \uc0dd\uc131\ud574\uc57c \ud569\ub2c8\ub2e4!\n\n-- \uae30\uc874 \uc815\ucc45 \uc0ad\uc81c (\uc911\ubcf5 \uc624\ub958 \ubc29\uc9c0)\nDROP POLICY IF EXISTS "course-videos \uc77d\uae30 \ud5c8\uc6a9" ON storage.objects;\nDROP POLICY IF EXISTS "course-videos \uc5c5\ub85c\ub4dc \ud5c8\uc6a9" ON storage.objects;\nDROP POLICY IF EXISTS "course-videos \uc0ad\uc81c \ud5c8\uc6a9" ON storage.objects;\nDROP POLICY IF EXISTS "course-videos \uc218\uc815 \ud5c8\uc6a9" ON storage.objects;\nDROP POLICY IF EXISTS "course-thumbnails \uc77d\uae30 \ud5c8\uc6a9" ON storage.objects;\nDROP POLICY IF EXISTS "course-thumbnails \uc5c5\ub85c\ub4dc \ud5c8\uc6a9" ON storage.objects;\nDROP POLICY IF EXISTS "course-thumbnails \uc0ad\uc81c \ud5c8\uc6a9" ON storage.objects;\nDROP POLICY IF EXISTS "course-thumbnails \uc218\uc815 \ud5c8\uc6a9" ON storage.objects;\n\n-- course-videos \ubc84\ud0b7 RLS \uc815\ucc45\nCREATE POLICY "course-videos \uc77d\uae30 \ud5c8\uc6a9" ON storage.objects\nFOR SELECT USING (bucket_id = \'course-videos\');\n\nCREATE POLICY "course-videos \uc5c5\ub85c\ub4dc \ud5c8\uc6a9" ON storage.objects\nFOR INSERT WITH CHECK (\n  bucket_id = \'course-videos\' \n  AND auth.role() = \'authenticated\'\n);\n\nCREATE POLICY "course-videos \uc0ad\uc81c \ud5c8\uc6a9" ON storage.objects\nFOR DELETE USING (\n  bucket_id = \'course-videos\' \n  AND auth.uid() = owner\n);\n\nCREATE POLICY "course-videos \uc218\uc815 \ud5c8\uc6a9" ON storage.objects\nFOR UPDATE USING (\n  bucket_id = \'course-videos\' \n  AND auth.uid() = owner\n);\n\n-- course-thumbnails \ubc84\ud0b7 RLS \uc815\ucc45  \nCREATE POLICY "course-thumbnails \uc77d\uae30 \ud5c8\uc6a9" ON storage.objects\nFOR SELECT USING (bucket_id = \'course-thumbnails\');\n\nCREATE POLICY "course-thumbnails \uc5c5\ub85c\ub4dc \ud5c8\uc6a9" ON storage.objects\nFOR INSERT WITH CHECK (\n  bucket_id = \'course-thumbnails\' \n  AND auth.role() = \'authenticated\'\n);\n\nCREATE POLICY "course-thumbnails \uc0ad\uc81c \ud5c8\uc6a9" ON storage.objects\nFOR DELETE USING (\n  bucket_id = \'course-thumbnails\' \n  AND auth.uid() = owner\n);\n\nCREATE POLICY "course-thumbnails \uc218\uc815 \ud5c8\uc6a9" ON storage.objects\nFOR UPDATE USING (\n  bucket_id = \'course-thumbnails\' \n  AND auth.uid() = owner\n);\n\n-- \uc644\ub8cc \uba54\uc2dc\uc9c0\nSELECT \'Storage RLS \uc815\ucc45\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc124\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4!\' as message;';return(0,Ul.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Ul.jsxs)("div",{className:"bg-white rounded-lg p-6 max-w-2xl max-h-[80vh] overflow-y-auto",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Ul.jsx)("h2",{className:"text-xl font-bold",children:"Supabase Storage \uc124\uc815 \uac00\uc774\ub4dc"}),t&&(0,Ul.jsx)("button",{onClick:t,className:"text-gray-500 hover:text-gray-700",children:"\u2715"})]}),(0,Ul.jsx)("div",{className:"mb-6",children:(0,Ul.jsx)("div",{className:"flex space-x-2 mb-4",children:[1,2,3].map((e=>(0,Ul.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(r>=e?"bg-indigo-600 text-white":"bg-gray-200 text-gray-600"),children:e},e)))})}),1===r&&(0,Ul.jsxs)("div",{className:"space-y-4",children:[(0,Ul.jsx)("h3",{className:"text-lg font-semibold",children:"1\ub2e8\uacc4: Storage \ubc84\ud0b7 \uc124\uc815"}),(0,Ul.jsx)("div",{className:"bg-blue-50 border border-blue-200 p-4 rounded-lg mb-4",children:(0,Ul.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Ul.jsx)("span",{className:"text-blue-600 text-xl",children:"\ud83d\udca1"}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("h4",{className:"font-medium text-blue-800",children:"\uae30\uc874 chapter-files \ubc84\ud0b7 \ud65c\uc6a9"}),(0,Ul.jsx)("p",{className:"text-sm text-blue-700 mt-1",children:"\uc774\ubbf8 chapter-files \ubc84\ud0b7\uc774 \uc788\uc73c\ubbc0\ub85c \uc774\ub97c \ud65c\uc6a9\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. Private\uc744 Public\uc73c\ub85c \ubcc0\uacbd\ud558\uae30\ub9cc \ud558\uba74 \ub429\ub2c8\ub2e4!"})]})]})}),(0,Ul.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ul.jsx)("h4",{className:"font-medium mb-3",children:"\uc635\uc158 A: \uae30\uc874 \ubc84\ud0b7 \ud65c\uc6a9 (\ucd94\ucc9c)"}),(0,Ul.jsxs)("ol",{className:"list-decimal list-inside space-y-2 mb-4",children:[(0,Ul.jsxs)("li",{children:["Supabase \ub300\uc2dc\ubcf4\ub4dc > ",(0,Ul.jsx)("strong",{children:"Storage"})]}),(0,Ul.jsxs)("li",{children:[(0,Ul.jsx)("strong",{children:"chapter-files"})," \ubc84\ud0b7 \ud074\ub9ad"]}),(0,Ul.jsxs)("li",{children:["\uc6b0\uce21 \uc0c1\ub2e8 ",(0,Ul.jsx)("strong",{children:"\u2699\ufe0f Settings"})," \ud074\ub9ad"]}),(0,Ul.jsxs)("li",{children:[(0,Ul.jsx)("strong",{children:'"Public bucket"'})," \ud65c\uc131\ud654 \u2705"]}),(0,Ul.jsxs)("li",{children:[(0,Ul.jsx)("strong",{children:'"Update bucket"'})," \ud074\ub9ad"]})]}),(0,Ul.jsx)("h4",{className:"font-medium mb-3",children:"\uc635\uc158 B: \uc0c8 \ubc84\ud0b7 \uc0dd\uc131"}),(0,Ul.jsxs)("ol",{className:"list-decimal list-inside space-y-2",children:[(0,Ul.jsxs)("li",{children:[(0,Ul.jsx)("strong",{children:'"New bucket"'})," \ubc84\ud2bc \ud074\ub9ad"]}),(0,Ul.jsxs)("li",{children:["\uc0c8 \ubc84\ud0b7 \uc124\uc815:",(0,Ul.jsxs)("div",{className:"bg-white p-2 mt-2 rounded border",children:[(0,Ul.jsxs)("div",{children:["Bucket name: ",(0,Ul.jsx)("code",{children:"course-videos"})]}),(0,Ul.jsxs)("div",{children:["Public bucket: ",(0,Ul.jsx)("strong",{children:"\u2705 \uccb4\ud06c"})]}),(0,Ul.jsxs)("div",{children:["File size limit: ",(0,Ul.jsx)("code",{children:"524288000"})," (500MB)"]}),(0,Ul.jsxs)("div",{children:["Allowed MIME types: ",(0,Ul.jsx)("code",{children:"video/mp4,video/webm,video/ogg,video/avi,video/mov"})]})]})]})]})]}),(0,Ul.jsx)("div",{className:"flex justify-end",children:(0,Ul.jsx)(Bl,{onClick:()=>n(2),variant:"primary",children:"\ub2e4\uc74c \ub2e8\uacc4"})})]}),2===r&&(0,Ul.jsxs)("div",{className:"space-y-4",children:[(0,Ul.jsx)("h3",{className:"text-lg font-semibold",children:"2\ub2e8\uacc4: RLS \uc815\ucc45 \uc124\uc815"}),(0,Ul.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 p-4 rounded-lg mb-4",children:(0,Ul.jsxs)("div",{className:"flex items-start space-x-2",children:[(0,Ul.jsx)("span",{className:"text-yellow-600 text-xl",children:"\u26a0\ufe0f"}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("h4",{className:"font-medium text-yellow-800",children:"\uc911\uc694\ud55c \uc8fc\uc758\uc0ac\ud56d"}),(0,Ul.jsx)("p",{className:"text-sm text-yellow-700 mt-1",children:"\uc774\uc804\uc5d0 \ub2e4\ub978 \ubc84\ud0b7\uc744 \uc0dd\uc131\ud55c \uc801\uc774 \uc788\ub2e4\uba74 \uc911\ubcf5 \uc624\ub958\uac00 \ubc1c\uc0dd\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4. \uc544\ub798 \uc2a4\ud06c\ub9bd\ud2b8\ub294 \uae30\uc874 \uc815\ucc45\uc744 \uc548\uc804\ud558\uac8c \uc0ad\uc81c\ud558\uace0 \uc0c8\ub85c \uc0dd\uc131\ud569\ub2c8\ub2e4."})]})]})}),(0,Ul.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Ul.jsxs)("ol",{className:"list-decimal list-inside space-y-2",children:[(0,Ul.jsxs)("li",{children:["Supabase \ub300\uc2dc\ubcf4\ub4dc\uc5d0\uc11c ",(0,Ul.jsx)("strong",{children:"SQL Editor"})," \uc774\ub3d9"]}),(0,Ul.jsx)("li",{children:"\uc544\ub798 SQL \uc2a4\ud06c\ub9bd\ud2b8\ub97c \ubcf5\uc0ac\ud558\uc5ec \uc2e4\ud589:"}),(0,Ul.jsx)("li",{className:"text-green-600",children:'\u2705 "Storage RLS \uc815\ucc45\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc124\uc815\ub418\uc5c8\uc2b5\ub2c8\ub2e4!" \uba54\uc2dc\uc9c0 \ud655\uc778'})]}),(0,Ul.jsxs)("div",{className:"mt-4",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center mb-2",children:[(0,Ul.jsx)("span",{className:"text-sm font-medium",children:"SQL \uc2a4\ud06c\ub9bd\ud2b8:"}),(0,Ul.jsx)(Bl,{onClick:()=>{return e=s,navigator.clipboard.writeText(e),void alert("\ud074\ub9bd\ubcf4\ub4dc\uc5d0 \ubcf5\uc0ac\ub418\uc5c8\uc2b5\ub2c8\ub2e4!");var e},variant:"secondary",size:"sm",children:"\ubcf5\uc0ac"})]}),(0,Ul.jsx)("pre",{className:"bg-gray-900 text-green-400 p-4 rounded text-xs max-h-40 overflow-y-auto",children:s})]})]}),(0,Ul.jsxs)("div",{className:"flex justify-between",children:[(0,Ul.jsx)(Bl,{onClick:()=>n(1),variant:"secondary",children:"\uc774\uc804 \ub2e8\uacc4"}),(0,Ul.jsx)(Bl,{onClick:()=>n(3),variant:"primary",children:"\ub2e4\uc74c \ub2e8\uacc4"})]})]}),3===r&&(0,Ul.jsxs)("div",{className:"space-y-4",children:[(0,Ul.jsx)("h3",{className:"text-lg font-semibold",children:"3\ub2e8\uacc4: \uc124\uc815 \uc644\ub8cc \ud655\uc778"}),(0,Ul.jsxs)("div",{className:"bg-green-50 p-4 rounded-lg",children:[(0,Ul.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Ul.jsx)("span",{className:"text-green-600",children:"\u2705"}),(0,Ul.jsx)("span",{className:"font-medium",children:"\uc124\uc815\uc774 \uc644\ub8cc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"})]}),(0,Ul.jsx)("p",{className:"text-sm text-gray-700 mb-4",children:"\uc774\uc81c \ub3d9\uc601\uc0c1\uacfc \uc378\ub124\uc77c\uc744 \uc5c5\ub85c\ub4dc\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4."}),(0,Ul.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,Ul.jsx)("h4",{className:"font-medium mb-2",children:"\ub2e4\uc74c \ub2e8\uacc4:"}),(0,Ul.jsxs)("ol",{className:"list-decimal list-inside space-y-1 text-sm",children:[(0,Ul.jsx)("li",{children:"\uc774 \ucc3d\uc744 \ub2eb\uace0 \uac15\uc758 \uc0dd\uc131\uc73c\ub85c \ub3cc\uc544\uac00\uae30"}),(0,Ul.jsx)("li",{children:"\ube44\ub514\uc624 \ud30c\uc77c \uc5c5\ub85c\ub4dc \ud14c\uc2a4\ud2b8"}),(0,Ul.jsx)("li",{children:'\ubb38\uc81c\uac00 \uc788\uc73c\uba74 \uac1c\ubc1c\uc790 \ub3c4\uad6c\uc758 "Storage \ub514\ubc84\uadf8" \uc0ac\uc6a9'})]})]})]}),(0,Ul.jsxs)("div",{className:"flex justify-between",children:[(0,Ul.jsx)(Bl,{onClick:()=>n(2),variant:"secondary",children:"\uc774\uc804 \ub2e8\uacc4"}),(0,Ul.jsx)(Bl,{onClick:t,variant:"primary",className:"bg-green-600 hover:bg-green-700",children:"\uc124\uc815 \uc644\ub8cc"})]})]})]})})},Rc=()=>{const e=Ee(),{user:t,isAuthenticated:r}=Al((e=>e.auth)),n=(0,a.useRef)(null),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(1);(0,a.useEffect)((()=>{if(!r||!t||"admin"!==t.role)return alert("\uad00\ub9ac\uc790 \uad8c\ud55c\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."),void e("/login")}),[r,t,e]);const[c,u]=(0,a.useState)({title:"",description:"",category:"",level:"beginner",price:0,thumbnail:null,tags:[]}),[d,h]=(0,a.useState)([]),[f,p]=(0,a.useState)(""),[m,g]=(0,a.useState)(""),[v,y]=(0,a.useState)([]),[b,x]=(0,a.useState)(!1);(0,a.useEffect)((()=>{(async()=>{await(async()=>{try{console.log("\ud83d\udd27 Storage \ubc84\ud0b7 \uc124\uc815 \uc2dc\uc791...");const{data:e,error:t}=await cl.storage.listBuckets();if(t)return console.error("\u274c \ubc84\ud0b7 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328:",t),{success:!1,error:t};if(console.log("\ud83d\udccb \uae30\uc874 \ubc84\ud0b7\ub4e4:",e.map((e=>e.name))),e.some((e=>"course-videos"===e.name)))console.log("\u2705 course-videos \ubc84\ud0b7 \uc774\ubbf8 \uc874\uc7ac\ud568");else{console.log("\ud83d\udd04 course-videos \ubc84\ud0b7 \uc0dd\uc131 \uc911...");const{data:e,error:t}=await cl.storage.createBucket("course-videos",{public:!0,allowedMimeTypes:["video/mp4","video/webm","video/ogg","video/avi","video/mov","video/quicktime"],fileSizeLimit:524288e3});if(t&&(console.error("\u274c course-videos \ubc84\ud0b7 \uc0dd\uc131 \uc2e4\ud328:",t),!t.message.includes("already exists")&&!t.message.includes("Duplicate")))throw t;console.log("\u2705 course-videos \ubc84\ud0b7 \uc0dd\uc131 \uc644\ub8cc:",e)}if(e.some((e=>"course-thumbnails"===e.name)))console.log("\u2705 course-thumbnails \ubc84\ud0b7 \uc774\ubbf8 \uc874\uc7ac\ud568");else{console.log("\ud83d\udd04 course-thumbnails \ubc84\ud0b7 \uc0dd\uc131 \uc911...");const{data:e,error:t}=await cl.storage.createBucket("course-thumbnails",{public:!0,allowedMimeTypes:["image/jpeg","image/png","image/webp"],fileSizeLimit:10485760});if(t&&(console.error("\u274c course-thumbnails \ubc84\ud0b7 \uc0dd\uc131 \uc2e4\ud328:",t),!t.message.includes("already exists")&&!t.message.includes("Duplicate")))throw t;console.log("\u2705 course-thumbnails \ubc84\ud0b7 \uc0dd\uc131 \uc644\ub8cc:",e)}const{data:r,error:n}=await cl.storage.listBuckets();return n?console.warn("\u26a0\ufe0f \ucd5c\uc885 \ubc84\ud0b7 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328:",n):(console.log("\ud83d\udccb \ucd5c\uc885 Storage \ubc84\ud0b7\ub4e4:"),r.forEach((e=>{console.log("  - ".concat(e.name," (public: ").concat(e.public,")"))}))),{success:!0,buckets:r}}catch(e){return console.error("\u274c Storage \ubc84\ud0b7 \uc124\uc815 \uc2e4\ud328:",e),{success:!1,error:e}}})();try{const{data:e,error:t}=await cl.from("categories").select("id, name, icon").order("name");if(t)throw t;y(e||[])}catch(e){console.error("\uce74\ud14c\uace0\ub9ac \uc870\ud68c \uc2e4\ud328:",e),y([{id:"temp-1",name:"AI/\uba38\uc2e0\ub7ec\ub2dd"},{id:"temp-2",name:"\uc6f9 \uac1c\ubc1c"},{id:"temp-3",name:"\uae30\ud0c0"}])}})()}),[]);const w=e=>{const{name:t,value:r}=e.target;u((e=>lr(lr({},e),{},{[t]:"price"===t?parseFloat(r)||0:r})))},j=()=>{f.trim()&&!c.tags.includes(f.trim())&&(u((e=>lr(lr({},e),{},{tags:[...e.tags,f.trim()]}))),p(""))},k=(e,t,r)=>{h((n=>n.map((n=>n.id===e?lr(lr({},n),{},{[t]:r}):n))))},_=(e,t,r,n)=>{h((a=>a.map((a=>a.id===e?lr(lr({},a),{},{chapters:a.chapters.map((e=>e.id===t?lr(lr({},e),{},{[r]:n}):e))}):a))))},S=async(e,t,r)=>{try{var n;console.log("\ud83d\udd04 \ube44\ub514\uc624 \uc5c5\ub85c\ub4dc \uc2dc\uc791:",{fileName:r.name,fileSize:r.size,fileType:r.type,moduleId:e,chapterId:t});const o=524288e3,i=["video/mp4","video/webm","video/ogg","video/avi","video/mov","video/quicktime"];if(r.size>o)throw new Error("\ud30c\uc77c \ud06c\uae30\uac00 \ub108\ubb34 \ud07d\ub2c8\ub2e4. \ucd5c\ub300 500MB\uae4c\uc9c0 \uc5c5\ub85c\ub4dc \uac00\ub2a5\ud569\ub2c8\ub2e4. (\ud604\uc7ac: ".concat(Math.round(r.size/1024/1024),"MB)"));if(!i.includes(r.type))throw new Error("\uc9c0\uc6d0\ud558\uc9c0 \uc54a\ub294 \ud30c\uc77c \ud615\uc2dd\uc785\ub2c8\ub2e4. \uc9c0\uc6d0 \ud615\uc2dd: MP4, WebM, OGG, AVI, MOV (\ud604\uc7ac: ".concat(r.type,")"));console.log("\ud83d\udccf \ube44\ub514\uc624 \uae38\uc774 \uac10\uc9c0 \uc911...");const l=await(e=>new Promise(((t,r)=>{const n=document.createElement("video");n.preload="metadata",n.onloadedmetadata=()=>{window.URL.revokeObjectURL(n.src);const e=Math.ceil(n.duration/60);t(e)},n.onerror=()=>{window.URL.revokeObjectURL(n.src),r(new Error("\ube44\ub514\uc624 \uae38\uc774\ub97c \uc77d\uc744 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4."))},n.src=URL.createObjectURL(e)})))(r);console.log("\u23f1\ufe0f \ube44\ub514\uc624 \uae38\uc774: ".concat(l,"\ubd84"));const c=null===(n=r.name.split(".").pop())||void 0===n?void 0:n.toLowerCase(),u="".concat(Date.now(),".").concat(c),d="courses/".concat(e,"/").concat(t,"/").concat(u);console.log("\ud83d\udcc1 \uc5c5\ub85c\ub4dc \uacbd\ub85c:",d);let h="chapter-files";try{const{data:e,error:t}=await cl.storage.listBuckets();if(!t&&e){console.log("\ud83d\udccb \uc870\ud68c\ub41c \ubc84\ud0b7\ub4e4:",e.map((e=>"".concat(e.name,"(").concat(e.public?"public":"private",")"))));const t=e.find((e=>"chapter-files"===e.name||"course-videos"===e.name));t?(h=t.name,console.log("\u2705 \ubc1c\uacac\ub41c \ubc84\ud0b7 \uc0ac\uc6a9:",h,"(public:",t.public+")"),t.public||console.warn("\u26a0\ufe0f \ubc84\ud0b7\uc774 private \uc0c1\ud0dc\uc785\ub2c8\ub2e4. Public\uc73c\ub85c \ubcc0\uacbd\uc774 \ud544\uc694\ud560 \uc218 \uc788\uc2b5\ub2c8\ub2e4.")):console.warn("\u26a0\ufe0f \uad8c\uc7a5 \ubc84\ud0b7\uc744 \ucc3e\uc744 \uc218 \uc5c6\uc5b4 chapter-files \uc2dc\ub3c4")}else console.warn("\u26a0\ufe0f \ubc84\ud0b7 \ubaa9\ub85d \uc870\ud68c \uc2e4\ud328 (\uad8c\ud55c \ubd80\uc871), chapter-files \uc0ac\uc6a9 \uc2dc\ub3c4:",null===t||void 0===t?void 0:t.message)}catch(a){console.warn("\u26a0\ufe0f \ubc84\ud0b7 \uc870\ud68c \uc911 \uc624\ub958, chapter-files \uc0ac\uc6a9 \uc2dc\ub3c4:",a)}console.log("\ud83c\udfaf \uc0ac\uc6a9\ud560 \ubc84\ud0b7:",h),console.log("\u2b06\ufe0f \ud30c\uc77c \uc5c5\ub85c\ub4dc \uc2dc\uc791... (\ubc84\ud0b7:",h+")");const{data:f,error:p}=await cl.storage.from(h).upload(d,r,{cacheControl:"3600",upsert:!1});if(p)throw console.error("\u274c Supabase \uc5c5\ub85c\ub4dc \uc624\ub958:",p),new Error("\uc5c5\ub85c\ub4dc \uc2e4\ud328: ".concat(p.message));console.log("\u2705 \uc5c5\ub85c\ub4dc \uc131\uacf5:",f);const{data:{publicUrl:m}}=cl.storage.from(h).getPublicUrl(d);console.log("\ud83d\udcf9 \uc0dd\uc131\ub41c \ube44\ub514\uc624 URL:",m);try{const e=await fetch(m,{method:"HEAD"});e.ok?console.log("\u2705 URL \uc811\uadfc \uac00\ub2a5 \ud655\uc778\ub428"):console.warn("\u26a0\ufe0f \uc0dd\uc131\ub41c URL\uc5d0 \uc811\uadfc\ud560 \uc218 \uc5c6\uc2b5\ub2c8\ub2e4:",e.status)}catch(s){console.warn("\u26a0\ufe0f URL \ud14c\uc2a4\ud2b8 \uc2e4\ud328:",s)}_(e,t,"video_url",m),_(e,t,"duration_minutes",l),_(e,t,"video_file",r),alert("\ub3d9\uc601\uc0c1\uc774 \uc131\uacf5\uc801\uc73c\ub85c \uc5c5\ub85c\ub4dc\ub418\uc5c8\uc2b5\ub2c8\ub2e4!\n- \ud30c\uc77c\uba85: ".concat(r.name,"\n- \uae38\uc774: ").concat(l,"\ubd84\n- \ud06c\uae30: ").concat(Math.round(r.size/1024/1024),"MB"))}catch(a){console.error("\u274c \ub3d9\uc601\uc0c1 \uc5c5\ub85c\ub4dc \uc2e4\ud328:",a),alert("\ub3d9\uc601\uc0c1 \uc5c5\ub85c\ub4dc\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4:\n\n"+a.message)}};return(0,Ul.jsxs)(Vl,{children:[(0,Ul.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ul.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"\uc0c8 \uac15\uc758 \ub9cc\ub4e4\uae30"}),(0,Ul.jsx)("div",{className:"flex space-x-2",children:(0,Ul.jsx)(Bl,{variant:"secondary",onClick:()=>e("/admin"),children:"\ucde8\uc18c"})})]}),(0,Ul.jsx)("div",{className:"flex items-center justify-center space-x-8 mb-8",children:[1,2,3].map((e=>(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("div",{className:"w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ".concat(i>=e?"bg-indigo-600 text-white":"bg-gray-300 text-gray-500"),children:e}),(0,Ul.jsx)("span",{className:"ml-2 text-sm ".concat(i>=e?"text-indigo-600":"text-gray-500"),children:1===e?"\uae30\ubcf8 \uc815\ubcf4":2===e?"\ucee4\ub9ac\ud058\ub7fc":"\ubbf8\ub9ac\ubcf4\uae30"}),e<3&&(0,Ul.jsx)("div",{className:"w-16 h-0.5 bg-gray-300 ml-4"})]},e)))}),(0,Ul.jsxs)("div",{className:"bg-white rounded-lg shadow p-6",children:[1===i&&(0,Ul.jsxs)("div",{className:"space-y-6",children:[(0,Ul.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uac15\uc758 \uae30\ubcf8 \uc815\ubcf4"}),(0,Ul.jsx)(Ml,{label:"\uac15\uc758 \uc81c\ubaa9 *",name:"title",value:c.title,onChange:w,placeholder:"\uac15\uc758 \uc81c\ubaa9\uc744 \uc785\ub825\ud558\uc138\uc694",required:!0}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\uac15\uc758 \uc124\uba85 *"}),(0,Ul.jsx)("textarea",{name:"description",value:c.description,onChange:w,rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"\uac15\uc758\uc5d0 \ub300\ud55c \uc790\uc138\ud55c \uc124\uba85\uc744 \uc785\ub825\ud558\uc138\uc694",required:!0})]}),(0,Ul.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\uce74\ud14c\uace0\ub9ac *"}),(0,Ul.jsxs)("select",{name:"category",value:c.category,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",required:!0,children:[(0,Ul.jsx)("option",{value:"",children:"\uce74\ud14c\uace0\ub9ac \uc120\ud0dd"}),v.map((e=>(0,Ul.jsx)("option",{value:e.name,children:e.icon?"".concat(e.icon," ").concat(e.name):e.name},e.id)))]})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ub09c\uc774\ub3c4"}),(0,Ul.jsxs)("select",{name:"level",value:c.level,onChange:w,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,Ul.jsx)("option",{value:"beginner",children:"\ucd08\uae09"}),(0,Ul.jsx)("option",{value:"intermediate",children:"\uc911\uae09"}),(0,Ul.jsx)("option",{value:"advanced",children:"\uace0\uae09"})]})]})]}),(0,Ul.jsx)(Ml,{label:"\uac15\uc758 \uac00\uaca9 (\uc6d0)",name:"price",type:"number",value:c.price,onChange:w,placeholder:"0",min:"0"}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\uc378\ub124\uc77c \uc774\ubbf8\uc9c0"}),(0,Ul.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Ul.jsx)("input",{type:"file",ref:n,onChange:e=>{var t;const r=null===(t=e.target.files)||void 0===t?void 0:t[0];if(r){u((e=>lr(lr({},e),{},{thumbnail:r})));const e=new FileReader;e.onload=e=>{var t;g(null===(t=e.target)||void 0===t?void 0:t.result)},e.readAsDataURL(r)}},accept:"image/*",className:"hidden"}),(0,Ul.jsx)(Bl,{type:"button",variant:"secondary",onClick:()=>{var e;return null===(e=n.current)||void 0===e?void 0:e.click()},children:"\uc774\ubbf8\uc9c0 \uc120\ud0dd"}),m&&(0,Ul.jsx)("img",{src:m,alt:"\uc378\ub124\uc77c \ubbf8\ub9ac\ubcf4\uae30",className:"w-20 h-20 object-cover rounded-md border"})]})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ud0dc\uadf8"}),(0,Ul.jsxs)("div",{className:"flex items-center space-x-2 mb-2",children:[(0,Ul.jsx)("input",{type:"text",value:f,onChange:e=>p(e.target.value),onKeyPress:e=>"Enter"===e.key&&j(),placeholder:"\ud0dc\uadf8 \uc785\ub825",className:"flex-1 px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),(0,Ul.jsx)(Bl,{type:"button",onClick:j,variant:"secondary",children:"\ucd94\uac00"})]}),(0,Ul.jsx)("div",{className:"flex flex-wrap gap-2",children:c.tags.map(((e,t)=>(0,Ul.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-indigo-100 text-indigo-800",children:[e,(0,Ul.jsx)("button",{type:"button",onClick:()=>(e=>{u((t=>lr(lr({},t),{},{tags:t.tags.filter(((t,r)=>r!==e))})))})(t),className:"ml-2 text-indigo-600 hover:text-indigo-800",children:"\xd7"})]},t)))})]})]}),2===i&&(0,Ul.jsxs)("div",{className:"space-y-6",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Ul.jsx)("h2",{className:"text-xl font-semibold",children:"\ucee4\ub9ac\ud058\ub7fc \uad6c\uc131"}),(0,Ul.jsx)(Bl,{onClick:()=>{const e={id:"module_".concat(Date.now()),title:"",description:"",order:d.length+1,chapters:[]};h((t=>[...t,e]))},variant:"primary",children:"\ubaa8\ub4c8 \ucd94\uac00"})]}),d.map(((e,t)=>(0,Ul.jsxs)("div",{className:"border border-gray-200 rounded-lg p-4",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-start mb-4",children:[(0,Ul.jsxs)("h3",{className:"text-lg font-medium",children:["\ubaa8\ub4c8 ",t+1]}),(0,Ul.jsx)(Bl,{onClick:()=>{return t=e.id,void h((e=>e.filter((e=>e.id!==t))));var t},variant:"secondary",className:"text-red-600 hover:text-red-800",children:"\uc0ad\uc81c"})]}),(0,Ul.jsxs)("div",{className:"space-y-4",children:[(0,Ul.jsx)(Ml,{label:"\ubaa8\ub4c8 \uc81c\ubaa9 *",value:e.title,onChange:t=>k(e.id,"title",t.target.value),placeholder:"\ubaa8\ub4c8 \uc81c\ubaa9",required:!0}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ubaa8\ub4c8 \uc124\uba85"}),(0,Ul.jsx)("textarea",{value:e.description,onChange:t=>k(e.id,"description",t.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"\ubaa8\ub4c8 \uc124\uba85"})]}),(0,Ul.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-center mb-3",children:[(0,Ul.jsx)("h4",{className:"font-medium",children:"\ucc55\ud130"}),(0,Ul.jsx)(Bl,{onClick:()=>(e=>{const t={id:"chapter_".concat(Date.now()),title:"",description:"",content_type:"video",video_file:null,video_url:"",text_content:"",duration_minutes:0,order:1};h((r=>r.map((r=>r.id===e?lr(lr({},r),{},{chapters:[...r.chapters,lr(lr({},t),{},{order:r.chapters.length+1})]}):r))))})(e.id),variant:"secondary",size:"sm",children:"\ucc55\ud130 \ucd94\uac00"})]}),e.chapters.map(((t,r)=>(0,Ul.jsxs)("div",{className:"bg-white p-3 rounded border mb-3",children:[(0,Ul.jsxs)("div",{className:"flex justify-between items-start mb-3",children:[(0,Ul.jsxs)("span",{className:"text-sm font-medium",children:["\ucc55\ud130 ",r+1]}),(0,Ul.jsx)(Bl,{onClick:()=>{return r=e.id,n=t.id,void h((e=>e.map((e=>e.id===r?lr(lr({},e),{},{chapters:e.chapters.filter((e=>e.id!==n))}):e))));var r,n},variant:"secondary",size:"sm",className:"text-red-600 hover:text-red-800",children:"\uc0ad\uc81c"})]}),(0,Ul.jsxs)("div",{className:"space-y-3",children:[(0,Ul.jsx)(Ml,{label:"\ucc55\ud130 \uc81c\ubaa9 *",value:t.title,onChange:r=>_(e.id,t.id,"title",r.target.value),placeholder:"\ucc55\ud130 \uc81c\ubaa9",required:!0}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ucf58\ud150\uce20 \uc720\ud615"}),(0,Ul.jsxs)("select",{value:t.content_type,onChange:r=>_(e.id,t.id,"content_type",r.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",children:[(0,Ul.jsx)("option",{value:"video",children:"\ub3d9\uc601\uc0c1"}),(0,Ul.jsx)("option",{value:"text",children:"\ud14d\uc2a4\ud2b8"}),(0,Ul.jsx)("option",{value:"pdf",children:"PDF"}),(0,Ul.jsx)("option",{value:"quiz",children:"\ud034\uc988"})]})]}),"video"===t.content_type&&(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ub3d9\uc601\uc0c1 \ud30c\uc77c"}),(0,Ul.jsx)("input",{type:"file",accept:"video/*",onChange:r=>{var n;const a=null===(n=r.target.files)||void 0===n?void 0:n[0];a&&S(e.id,t.id,a)},className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500"}),t.video_url&&(0,Ul.jsxs)("div",{className:"mt-2 space-y-1",children:[(0,Ul.jsx)("p",{className:"text-sm text-green-600",children:"\u2705 \ub3d9\uc601\uc0c1\uc774 \uc5c5\ub85c\ub4dc\ub418\uc5c8\uc2b5\ub2c8\ub2e4"}),t.duration_minutes>0&&(0,Ul.jsxs)("p",{className:"text-sm text-blue-600",children:["\ud83d\udcfa \uc7ac\uc0dd \uc2dc\uac04: ",t.duration_minutes,"\ubd84"]})]})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"\ucc55\ud130 \uc124\uba85"}),(0,Ul.jsx)("textarea",{value:t.description,onChange:r=>_(e.id,t.id,"description",r.target.value),rows:2,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-indigo-500",placeholder:"\ucc55\ud130 \uc124\uba85 (\uc120\ud0dd\uc0ac\ud56d)"})]})]})]},t.id)))]})]})]},e.id)))]}),3===i&&(0,Ul.jsxs)("div",{className:"space-y-6",children:[(0,Ul.jsx)("h2",{className:"text-xl font-semibold mb-4",children:"\uac15\uc758 \ubbf8\ub9ac\ubcf4\uae30"}),(0,Ul.jsxs)("div",{className:"bg-gray-50 p-6 rounded-lg",children:[(0,Ul.jsx)("h3",{className:"text-lg font-semibold mb-2",children:c.title}),(0,Ul.jsx)("p",{className:"text-gray-600 mb-4",children:c.description}),(0,Ul.jsxs)("div",{className:"grid grid-cols-2 gap-4 mb-4",children:[(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"\uce74\ud14c\uace0\ub9ac: "}),(0,Ul.jsx)("span",{children:c.category})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"\ub09c\uc774\ub3c4: "}),(0,Ul.jsx)("span",{children:"beginner"===c.level?"\ucd08\uae09":"intermediate"===c.level?"\uc911\uae09":"\uace0\uae09"})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"\uac00\uaca9: "}),(0,Ul.jsxs)("span",{children:[c.price.toLocaleString(),"\uc6d0"]})]}),(0,Ul.jsxs)("div",{children:[(0,Ul.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"\ubaa8\ub4c8 \uc218: "}),(0,Ul.jsxs)("span",{children:[d.length,"\uac1c"]})]})]}),c.tags.length>0&&(0,Ul.jsxs)("div",{className:"mb-4",children:[(0,Ul.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"\ud0dc\uadf8: "}),c.tags.map(((e,t)=>(0,Ul.jsx)("span",{className:"inline-block bg-indigo-100 text-indigo-800 px-2 py-1 rounded text-sm mr-2",children:e},t)))]}),(0,Ul.jsxs)("div",{className:"space-y-3",children:[(0,Ul.jsx)("h4",{className:"font-medium",children:"\ucee4\ub9ac\ud058\ub7fc"}),d.map(((e,t)=>(0,Ul.jsxs)("div",{className:"bg-white p-3 rounded border",children:[(0,Ul.jsxs)("h5",{className:"font-medium",children:["\ubaa8\ub4c8 ",t+1,": ",e.title]}),(0,Ul.jsx)("p",{className:"text-sm text-gray-600 mb-2",children:e.description}),(0,Ul.jsx)("ul",{className:"text-sm space-y-1",children:e.chapters.map(((e,t)=>(0,Ul.jsxs)("li",{className:"flex justify-between",children:[(0,Ul.jsxs)("span",{children:["\u2022 ",e.title]}),(0,Ul.jsxs)("span",{className:"text-gray-500",children:[e.duration_minutes,"\ubd84"]})]},e.id)))})]},e.id)))]})]})]})]}),(0,Ul.jsxs)("div",{className:"flex justify-between",children:[(0,Ul.jsxs)("div",{className:"flex space-x-2",children:[(0,Ul.jsx)(Bl,{onClick:()=>{l((e=>Math.max(e-1,1)))},variant:"secondary",disabled:1===i,children:"\uc774\uc804"}),(0,Ul.jsx)(Bl,{onClick:()=>x(!0),variant:"secondary",className:"bg-orange-100 text-orange-700 hover:bg-orange-200",children:"\ud83d\udcc1 Storage \uc124\uc815 \uac00\uc774\ub4dc"})]}),(0,Ul.jsx)("div",{className:"flex space-x-2",children:i<3?(0,Ul.jsx)(Bl,{onClick:()=>{var e;(1===(e=i)?c.title&&c.description&&c.category:2!==e||d.length>0&&d.every((e=>e.title&&e.chapters.length>0&&e.chapters.every((e=>e.title)))))?l((e=>Math.min(e+1,3))):alert("\ud544\uc218 \uc815\ubcf4\ub97c \ubaa8\ub450 \uc785\ub825\ud574\uc8fc\uc138\uc694.")},variant:"primary",children:"\ub2e4\uc74c"}):(0,Ul.jsx)(Bl,{onClick:async()=>{try{o(!0);const t=await(async()=>{if(!c.thumbnail)return null;try{const e=c.thumbnail.name.split(".").pop(),t="".concat(Date.now(),".").concat(e),r="course_".concat(Date.now(),"/").concat(t),{data:n,error:a}=await cl.storage.from("course-thumbnails").upload(r,c.thumbnail);if(a)throw a;const{data:{publicUrl:s}}=cl.storage.from("course-thumbnails").getPublicUrl(r);return s}catch(e){throw console.error("\uc378\ub124\uc77c \uc5c5\ub85c\ub4dc \uc2e4\ud328:",e),e}})(),{data:{user:r}}=await cl.auth.getUser();if(!r)throw new Error("\ub85c\uadf8\uc778\uc774 \ud544\uc694\ud569\ub2c8\ub2e4");const n=c.title.toLowerCase().replace(/[^a-z0-9\s-]/g,"").replace(/\s+/g,"-").replace(/-+/g,"-").trim()+"-"+Date.now(),a=v.find((e=>e.name===c.category)),{data:s,error:i}=await cl.from("courses").insert({title:c.title,slug:n,description:c.description,short_description:c.description.substring(0,200),instructor_id:r.id,category_id:(null===a||void 0===a?void 0:a.id)||null,level:c.level,price:c.price,thumbnail_url:t,status:"draft",tags:c.tags,learning_outcomes:[],language:"Korean"}).select().single();if(i)throw i;for(const e of d){const{data:t,error:r}=await cl.from("modules").insert({title:e.title,description:e.description,course_id:s.id,order_index:e.order}).select().single();if(r)throw r;for(const n of e.chapters){const{error:e}=await cl.from("chapters").insert({title:n.title,description:n.description,content_type:n.content_type,video_url:n.video_url,content:n.text_content,duration_minutes:n.duration_minutes,module_id:t.id,order_index:n.order});if(e)throw e}}alert("\uac15\uc758\uac00 \uc131\uacf5\uc801\uc73c\ub85c \uc0dd\uc131\ub418\uc5c8\uc2b5\ub2c8\ub2e4!"),e("/admin")}catch(t){console.error("\uac15\uc758 \uc0dd\uc131 \uc2e4\ud328:",t),alert("\uac15\uc758 \uc0dd\uc131\uc5d0 \uc2e4\ud328\ud588\uc2b5\ub2c8\ub2e4: "+t.message)}finally{o(!1)}},variant:"primary",isLoading:s,children:"\uac15\uc758 \uc0dd\uc131"})})]})]}),b&&(0,Ul.jsx)(Tc,{onClose:()=>x(!1)})]})},Lc=()=>{const{user:e}=Al((e=>e.auth)),[t,r]=(0,a.useState)([]),[n,s]=(0,a.useState)(null),[o,i]=(0,a.useState)([]),[l,c]=(0,a.useState)(!0),[u,d]=(0,a.useState)(!1);(0,a.useEffect)((()=>{h()}),[]);const h=async()=>{try{c(!0);const e=[{id:"1",title:"React \uae30\ucd08\ubd80\ud130 \uc2ec\ud654\uae4c\uc9c0",status:"published",student_count:25,created_at:"2024-01-10T00:00:00Z"},{id:"2",title:"TypeScript \uc644\uc804\uc815\ubcf5",status:"published",student_count:18,created_at:"2024-01-05T00:00:00Z"},{id:"3",title:"Node.js \ubc31\uc5d4\ub4dc \uac1c\ubc1c",status:"draft",student_count:0,created_at:"2024-01-15T00:00:00Z"}];r(e),e.length>0&&(s(e[0]),f(e[0].id))}catch(e){console.error("\uac15\uc758 \ubaa9\ub85d \ub85c\ub4dc \uc2e4\ud328:",e)}finally{c(!1)}},f=async e=>{try{d(!0);i([{id:"1",email:"student1@example.com",first_name:"\uae40",last_name:"\ud559\uc0dd",enrollment_date:"2024-01-20T00:00:00Z",progress:75,last_activity:"2024-01-25T10:30:00Z"},{id:"2",email:"student2@example.com",first_name:"\uc774",last_name:"\uc218\uac15\uc0dd",enrollment_date:"2024-01-18T00:00:00Z",progress:45,last_activity:"2024-01-24T14:20:00Z"},{id:"3",email:"student3@example.com",first_name:"\ubc15",last_name:"\uacf5\ubd80",enrollment_date:"2024-01-22T00:00:00Z",progress:90,last_activity:"2024-01-25T16:45:00Z"}])}catch(t){console.error("\ud559\uc0dd \ubaa9\ub85d \ub85c\ub4dc \uc2e4\ud328:",t)}finally{d(!1)}},p=e=>new Date(e).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric"});return l?(0,Ul.jsx)(Vl,{children:(0,Ul.jsx)("div",{className:"flex items-center justify-center min-h-64",children:(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-indigo-600"})})}):(0,Ul.jsx)(Vl,{children:(0,Ul.jsxs)("div",{className:"space-y-6",children:[(0,Ul.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Ul.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,Ul.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"\uac15\uc0ac \ub300\uc2dc\ubcf4\ub4dc"}),(0,Ul.jsx)("p",{className:"text-gray-600",children:"\ub0b4 \uac15\uc758 \ubc0f \uc218\uac15\uc0dd\uc744 \uad00\ub9ac\ud558\uc138\uc694"})]}),(0,Ul.jsx)("div",{className:"px-6 py-4",children:(0,Ul.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Ul.jsx)("span",{className:"text-sm text-gray-500",children:"\uac15\uc0ac:"}),(0,Ul.jsxs)("span",{className:"font-medium text-gray-900",children:[null===e||void 0===e?void 0:e.first_name," ",null===e||void 0===e?void 0:e.last_name]}),(0,Ul.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full bg-blue-100 text-blue-800",children:"\uac15\uc0ac"})]})})]}),(0,Ul.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Ul.jsx)("div",{className:"px-6 py-4 border-b border-gray-200",children:(0,Ul.jsx)("h2",{className:"text-lg font-medium text-gray-900",children:"\ub0b4 \uac15\uc758 \ubaa9\ub85d"})}),(0,Ul.jsx)("div",{className:"px-6 py-4",children:t.length>0?(0,Ul.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:t.map((e=>(0,Ul.jsxs)("div",{className:"border rounded-lg p-4 cursor-pointer transition-colors ".concat((null===n||void 0===n?void 0:n.id)===e.id?"border-indigo-500 bg-indigo-50":"border-gray-200 hover:border-gray-300"),onClick:()=>(e=>{s(e),f(e.id)})(e),children:[(0,Ul.jsx)("h3",{className:"font-medium text-gray-900 mb-2",children:e.title}),(0,Ul.jsxs)("div",{className:"space-y-1 text-sm text-gray-600",children:[(0,Ul.jsxs)("div",{className:"flex justify-between",children:[(0,Ul.jsx)("span",{children:"\uc0c1\ud0dc:"}),(0,Ul.jsx)("span",{className:"px-2 py-1 text-xs font-medium rounded-full ".concat("published"===e.status?"bg-green-100 text-green-800":"bg-yellow-100 text-yellow-800"),children:"published"===e.status?"\uacf5\uac1c":"\ube44\uacf5\uac1c"})]}),(0,Ul.jsxs)("div",{className:"flex justify-between",children:[(0,Ul.jsx)("span",{children:"\uc218\uac15\uc0dd:"}),(0,Ul.jsxs)("span",{children:[e.student_count,"\uba85"]})]}),(0,Ul.jsxs)("div",{className:"flex justify-between",children:[(0,Ul.jsx)("span",{children:"\uc0dd\uc131\uc77c:"}),(0,Ul.jsx)("span",{children:p(e.created_at)})]})]})]},e.id)))}):(0,Ul.jsx)("p",{className:"text-gray-500",children:"\ub4f1\ub85d\ub41c \uac15\uc758\uac00 \uc5c6\uc2b5\ub2c8\ub2e4."})})]}),n&&(0,Ul.jsxs)("div",{className:"bg-white shadow rounded-lg",children:[(0,Ul.jsxs)("div",{className:"px-6 py-4 border-b border-gray-200",children:[(0,Ul.jsxs)("h2",{className:"text-lg font-medium text-gray-900",children:["\uc218\uac15\uc0dd \uad00\ub9ac - ",n.title]}),(0,Ul.jsx)("p",{className:"text-sm text-gray-600 mt-1",children:"\uac1c\uc778\uc815\ubcf4 \ubcf4\ud638\ub97c \uc704\ud574 \uc774\ub984\uacfc \uc774\uba54\uc77c\ub9cc \ud45c\uc2dc\ub429\ub2c8\ub2e4."})]}),(0,Ul.jsx)("div",{className:"px-6 py-4",children:u?(0,Ul.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,Ul.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-indigo-600"})}):o.length>0?(0,Ul.jsx)("div",{className:"overflow-x-auto",children:(0,Ul.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Ul.jsx)("thead",{className:"bg-gray-50",children:(0,Ul.jsxs)("tr",{children:[(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ud559\uc0dd \uc815\ubcf4"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc218\uac15 \ub4f1\ub85d\uc77c"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\uc9c4\ub3c4\uc728"}),(0,Ul.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"\ucd5c\uadfc \ud65c\ub3d9"})]})}),(0,Ul.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:o.map((e=>{return(0,Ul.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:(0,Ul.jsx)("svg",{className:"w-6 h-6 text-gray-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"})})}),(0,Ul.jsxs)("div",{className:"ml-4",children:[(0,Ul.jsxs)("div",{className:"text-sm font-medium text-gray-900",children:[e.first_name," ",e.last_name]}),(0,Ul.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]})}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:p(e.enrollment_date)}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("div",{className:"w-full bg-gray-200 rounded-full h-2 mr-2",children:(0,Ul.jsx)("div",{className:"h-2 rounded-full ".concat((r=e.progress,r>=80?"bg-green-500":r>=50?"bg-yellow-500":"bg-red-500")),style:{width:"".concat(e.progress,"%")}})}),(0,Ul.jsxs)("span",{className:"text-sm text-gray-900 font-medium",children:[e.progress,"%"]})]})}),(0,Ul.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:(t=e.last_activity,new Date(t).toLocaleDateString("ko-KR",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}))})]},e.id);var t,r}))})]})}):(0,Ul.jsx)("p",{className:"text-gray-500 text-center py-8",children:"\uc544\uc9c1 \uc218\uac15\uc0dd\uc774 \uc5c6\uc2b5\ub2c8\ub2e4."})})]}),(0,Ul.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Ul.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("div",{className:"flex-shrink-0",children:(0,Ul.jsx)("div",{className:"w-8 h-8 bg-blue-500 rounded-full flex items-center justify-center",children:(0,Ul.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.746 0 3.332.477 4.5 1.253v13C19.832 18.477 18.246 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})}),(0,Ul.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ul.jsxs)("dl",{children:[(0,Ul.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"\ub0b4 \uac15\uc758 \uc218"}),(0,Ul.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:t.length})]})})]})}),(0,Ul.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("div",{className:"flex-shrink-0",children:(0,Ul.jsx)("div",{className:"w-8 h-8 bg-green-500 rounded-full flex items-center justify-center",children:(0,Ul.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 4.354a4 4 0 110 5.292M15 21H3v-1a6 6 0 0112 0v1zm0 0h6v-1a6 6 0 00-9-5.197m13.5 0a8.966 8.966 0 00-8.5-1.197"})})})}),(0,Ul.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ul.jsxs)("dl",{children:[(0,Ul.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"\ucd1d \uc218\uac15\uc0dd"}),(0,Ul.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:t.reduce(((e,t)=>e+t.student_count),0)})]})})]})}),(0,Ul.jsx)("div",{className:"bg-white shadow rounded-lg p-6",children:(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("div",{className:"flex-shrink-0",children:(0,Ul.jsx)("div",{className:"w-8 h-8 bg-purple-500 rounded-full flex items-center justify-center",children:(0,Ul.jsx)("svg",{className:"w-5 h-5 text-white",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"})})})}),(0,Ul.jsx)("div",{className:"ml-5 w-0 flex-1",children:(0,Ul.jsxs)("dl",{children:[(0,Ul.jsx)("dt",{className:"text-sm font-medium text-gray-500 truncate",children:"\uacf5\uac1c \uac15\uc758"}),(0,Ul.jsx)("dd",{className:"text-lg font-medium text-gray-900",children:t.filter((e=>"published"===e.status)).length})]})})]})})]})]})})},Ac=e=>{let{children:t,requiredRole:r,allowedRoles:n}=e;const a=Se(),{isAuthenticated:s,user:o}=Al((e=>e.auth));return s&&o?r&&o.role!==r?(0,Ul.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ul.jsxs)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 text-center",children:[(0,Ul.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:(0,Ul.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Ul.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"\uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,Ul.jsxs)("p",{className:"text-gray-600 mb-4",children:["\uc774 \ud398\uc774\uc9c0\uc5d0 \uc811\uadfc\ud558\ub824\uba74 ",(0,Ul.jsx)("span",{className:"font-medium",children:r})," \uad8c\ud55c\uc774 \ud544\uc694\ud569\ub2c8\ub2e4."]}),(0,Ul.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["\ud604\uc7ac \uad8c\ud55c: ",(0,Ul.jsx)("span",{className:"font-medium",children:o.role})]}),(0,Ul.jsx)("button",{onClick:()=>window.history.back(),className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors",children:"\uc774\uc804 \ud398\uc774\uc9c0\ub85c \ub3cc\uc544\uac00\uae30"})]})}):n&&!n.includes(o.role)?(0,Ul.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Ul.jsxs)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-6 text-center",children:[(0,Ul.jsx)("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:(0,Ul.jsx)("svg",{className:"w-8 h-8 text-red-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.732-.833-2.464 0L3.34 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),(0,Ul.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"\uc811\uadfc \uad8c\ud55c\uc774 \uc5c6\uc2b5\ub2c8\ub2e4"}),(0,Ul.jsxs)("p",{className:"text-gray-600 mb-4",children:["\uc774 \ud398\uc774\uc9c0\uc5d0 \uc811\uadfc\ud558\ub824\uba74 \ub2e4\uc74c \uad8c\ud55c \uc911 \ud558\ub098\uac00 \ud544\uc694\ud569\ub2c8\ub2e4: ",(0,Ul.jsx)("br",{}),(0,Ul.jsx)("span",{className:"font-medium",children:n.join(", ")})]}),(0,Ul.jsxs)("p",{className:"text-sm text-gray-500 mb-4",children:["\ud604\uc7ac \uad8c\ud55c: ",(0,Ul.jsx)("span",{className:"font-medium",children:o.role})]}),(0,Ul.jsx)("button",{onClick:()=>window.history.back(),className:"w-full bg-indigo-600 text-white py-2 px-4 rounded-md hover:bg-indigo-700 transition-colors",children:"\uc774\uc804 \ud398\uc774\uc9c0\ub85c \ub3cc\uc544\uac00\uae30"})]})}):(0,Ul.jsx)(Ul.Fragment,{children:t}):(0,Ul.jsx)(We,{to:"/login",state:{from:a},replace:!0})},Ic=()=>(0,Ul.jsx)("div",{children:"404 - Page Not Found"}),Uc=(e,t)=>[{path:"/login",element:e?(0,Ul.jsx)(We,{to:"/dashboard",replace:!0}):(0,Ul.jsx)(Hl,{})},{path:"/register",element:e?(0,Ul.jsx)(We,{to:"/dashboard",replace:!0}):(0,Ul.jsx)(vc,{})},{path:"/register-old",element:e?(0,Ul.jsx)(We,{to:"/dashboard",replace:!0}):(0,Ul.jsx)($l,{})},{path:"/dashboard",element:(0,Ul.jsx)(Ac,{children:(0,Ul.jsx)(bc,{})})},{path:"/courses",element:(0,Ul.jsx)(Ac,{children:(0,Ul.jsx)(xc,{})})},{path:"/courses/:courseId",element:(0,Ul.jsx)(Ac,{children:(0,Ul.jsx)(jc,{})})},{path:"/profile",element:(0,Ul.jsx)(Ac,{children:(0,Ul.jsx)(Pc,{})})},{path:"/subscription",element:(0,Ul.jsx)(Ac,{children:(0,Ul.jsx)(Nc,{})})},{path:"/payment/complete",element:(0,Ul.jsx)(Ac,{children:(0,Ul.jsx)(Ec,{})})},{path:"/payment/cancel",element:(0,Ul.jsx)(Ac,{children:(0,Ul.jsx)(Cc,{})})},{path:"/my-courses",element:(0,Ul.jsx)(Ac,{allowedRoles:["instructor","admin"],children:(0,Ul.jsx)(Lc,{})})},{path:"/admin",element:(0,Ul.jsx)(Ac,{requiredRole:"admin",children:(0,Ul.jsx)(Oc,{})})},{path:"/admin/course/create",element:(0,Ul.jsx)(Ac,{requiredRole:"admin",children:(0,Ul.jsx)(Rc,{})})},{path:"/",element:(0,Ul.jsx)(We,{to:e?"admin"===t?"/admin":"/dashboard":"/login",replace:!0})},{path:"*",element:(0,Ul.jsx)(Ic,{})}],Dc=()=>{const[e,t]=(0,a.useState)([{id:"1",text:"\uc548\ub155\ud558\uc138\uc694! AI \ud29c\ud130\uc785\ub2c8\ub2e4. \ud559\uc2b5\uc5d0 \uad00\ud55c \uc9c8\ubb38\uc774 \uc788\uc73c\uc2dc\uba74 \uc5b8\uc81c\ub4e0\uc9c0 \ubb3c\uc5b4\ubcf4\uc138\uc694.",sender:"bot",timestamp:new Date}]),[r,n]=(0,a.useState)(""),[s,o]=(0,a.useState)(!1),[i,l]=(0,a.useState)(!1),c=(0,a.useRef)(null);(0,a.useEffect)((()=>{var e;null===(e=c.current)||void 0===e||e.scrollIntoView({behavior:"smooth"})}),[e]);const u=()=>{if(""===r.trim())return;const e={id:Date.now().toString(),text:r,sender:"user",timestamp:new Date};t((t=>[...t,e])),n(""),l(!0),setTimeout((()=>{const e={"\uc548\ub155":"\uc548\ub155\ud558\uc138\uc694! \uc624\ub298 \uc5b4\ub5a4 \ud559\uc2b5\uc744 \ub3c4\uc640\ub4dc\ub9b4\uae4c\uc694?","\ud30c\uc774\uc36c":"\ud30c\uc774\uc36c\uc740 \ucd08\ubcf4\uc790\ub3c4 \ubc30\uc6b0\uae30 \uc26c\uc6b4 \ud504\ub85c\uadf8\ub798\ubc0d \uc5b8\uc5b4\uc785\ub2c8\ub2e4. \uc5b4\ub5a4 \ubd80\ubd84\uc774 \uad81\uae08\ud558\uc2e0\uac00\uc694?","\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8":"\uc790\ubc14\uc2a4\ud06c\ub9bd\ud2b8\ub294 \uc6f9 \uac1c\ubc1c\uc5d0 \ub110\ub9ac \uc0ac\uc6a9\ub418\ub294 \uc5b8\uc5b4\uc785\ub2c8\ub2e4. \ud2b9\uc815 \uac1c\ub150\uc774 \uad81\uae08\ud558\uc2e0\uac00\uc694?","\uba38\uc2e0\ub7ec\ub2dd":"\uba38\uc2e0\ub7ec\ub2dd\uc740 AI\uc758 \ud575\uc2ec \ubd84\uc57c\uc785\ub2c8\ub2e4. \uae30\ucd08\ubd80\ud130 \ucc28\uadfc\ucc28\uadfc \ubc30\uc6cc\ubcf4\ub294 \uac83\uc744 \ucd94\ucc9c\ub4dc\ub9bd\ub2c8\ub2e4."};let n="";for(const t in e)if(r.toLowerCase().includes(t.toLowerCase())){n=e[t];break}n||(n="\ud765\ubbf8\ub85c\uc6b4 \uc9c8\ubb38\uc774\ub124\uc694! \uc880 \ub354 \uc790\uc138\ud788 \uc124\uba85\ud574\uc8fc\uc2dc\uba74 \ub354 \uc815\ud655\ud55c \ub2f5\ubcc0\uc744 \ub4dc\ub9b4 \uc218 \uc788\uc744 \uac83 \uac19\uc544\uc694.");const a={id:Date.now().toString(),text:n,sender:"bot",timestamp:new Date};t((e=>[...e,a])),l(!1)}),1500)};return(0,Ul.jsxs)("div",{className:"fixed bottom-4 right-4 z-50",children:[(0,Ul.jsx)("button",{onClick:()=>o(!s),className:"bg-indigo-600 hover:bg-indigo-700 text-white rounded-full w-12 h-12 flex items-center justify-center shadow-lg focus:outline-none",children:s?(0,Ul.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):(0,Ul.jsx)("svg",{className:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M8 10h.01M12 10h.01M16 10h.01M9 16H5a2 2 0 01-2-2V6a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2h-5l-5 5v-5z"})})}),s&&(0,Ul.jsxs)("div",{className:"absolute bottom-16 right-0 w-80 sm:w-96 bg-white rounded-lg shadow-xl border border-gray-200 flex flex-col",children:[(0,Ul.jsxs)("div",{className:"bg-indigo-600 text-white px-4 py-3 rounded-t-lg flex justify-between items-center",children:[(0,Ul.jsxs)("div",{className:"flex items-center",children:[(0,Ul.jsx)("svg",{className:"w-6 h-6 mr-2",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9.75 17L9 20l-1 1h8l-1-1-.75-3M3 13h18M5 17h14a2 2 0 002-2V5a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"})}),(0,Ul.jsx)("h3",{className:"font-semibold",children:"AI \ud29c\ud130"})]}),(0,Ul.jsx)("button",{onClick:()=>o(!1),className:"text-white hover:text-gray-200 focus:outline-none",children:(0,Ul.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})})})]}),(0,Ul.jsxs)("div",{className:"flex-1 px-4 py-3 overflow-y-auto max-h-96",children:[e.map((e=>{return(0,Ul.jsxs)("div",{className:"mb-3 ".concat("user"===e.sender?"text-right":""),children:[(0,Ul.jsx)("div",{className:"inline-block px-4 py-2 rounded-lg ".concat("user"===e.sender?"bg-indigo-600 text-white":"bg-gray-200 text-gray-800"),children:e.text}),(0,Ul.jsx)("div",{className:"text-xs text-gray-500 mt-1",children:(t=e.timestamp,t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}))})]},e.id);var t})),i&&(0,Ul.jsx)("div",{className:"mb-3",children:(0,Ul.jsx)("div",{className:"inline-block px-4 py-2 rounded-lg bg-gray-200 text-gray-800",children:(0,Ul.jsxs)("div",{className:"flex space-x-1",children:[(0,Ul.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-500 animate-bounce"}),(0,Ul.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-500 animate-bounce delay-100"}),(0,Ul.jsx)("div",{className:"w-2 h-2 rounded-full bg-gray-500 animate-bounce delay-200"})]})})}),(0,Ul.jsx)("div",{ref:c})]}),(0,Ul.jsxs)("div",{className:"border-t border-gray-200 p-3 flex",children:[(0,Ul.jsx)("input",{type:"text",value:r,onChange:e=>n(e.target.value),onKeyPress:e=>{"Enter"===e.key&&u()},placeholder:"\uba54\uc2dc\uc9c0\ub97c \uc785\ub825\ud558\uc138\uc694...",className:"flex-1 border border-gray-300 rounded-l-lg px-3 py-2 focus:outline-none focus:ring-1 focus:ring-indigo-500"}),(0,Ul.jsx)("button",{onClick:u,disabled:""===r.trim()||i,className:"px-4 py-2 rounded-r-lg ".concat(""===r.trim()||i?"bg-gray-300 text-gray-500":"bg-indigo-600 text-white hover:bg-indigo-700"),children:(0,Ul.jsx)("svg",{className:"w-5 h-5",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,Ul.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 5l7 7-7 7M5 5l7 7-7 7"})})})]})]})]})},zc=()=>{const e=Ll(),{isAuthenticated:t,user:r}=Al((e=>e.auth));(0,a.useEffect)((()=>{(async()=>{console.log("\ud83d\udd04 \uc778\uc99d \uc0c1\ud0dc \ucd08\uae30\ud654 \uc2dc\uc791...");try{const r=await bl.auth.getSession();if(console.log("\ud83d\udd0d Supabase session check:",r?"\u2705 Found":"\u274c None"),null!==r&&void 0!==r&&r.user){console.log("\u2705 \uc720\ud6a8\ud55c Supabase \uc138\uc158 \ubc1c\uacac:",r.user.email);try{const{data:t}=await bl.user.getProfile(r.user.id),n={id:r.user.id,email:r.user.email||"",first_name:null===t||void 0===t?void 0:t.first_name,last_name:null===t||void 0===t?void 0:t.last_name,role:(null===t||void 0===t?void 0:t.role)||"student",profile:t||void 0};console.log("\ud83d\udc64 \uc0ac\uc6a9\uc790 \ud504\ub85c\ud544 \ub85c\ub4dc\ub428:",n),e(Tl({user:n,token:r.access_token}))}catch(t){console.error("\u274c \ud504\ub85c\ud544 \ub85c\ub4dc \uc2e4\ud328:",t),e(Tl({user:{id:r.user.id,email:r.user.email||"",role:"student"},token:r.access_token}))}}else console.log("\u274c \uc720\ud6a8\ud55c \uc138\uc158\uc774 \uc5c6\uc74c - localStorage \uc815\ub9ac"),localStorage.removeItem("token"),localStorage.removeItem("user")}catch(r){console.error("\u274c \uc138\uc158 \ucd08\uae30\ud654 \uc624\ub958:",r),localStorage.removeItem("token"),localStorage.removeItem("user")}})();const{data:{subscription:t}}=bl.auth.onAuthStateChange((async(t,n)=>{if(console.log("\ud83d\udd04 Supabase \uc778\uc99d \uc0c1\ud0dc \ubcc0\uacbd:",t),"SIGNED_IN"===t&&null!==n&&void 0!==n&&n.user){console.log("\u2705 \uc0ac\uc6a9\uc790 \ub85c\uadf8\uc778:",n.user.email);try{const{data:t}=await bl.user.getProfile(n.user.id);e(Tl({user:{id:n.user.id,email:n.user.email||"",first_name:null===t||void 0===t?void 0:t.first_name,last_name:null===t||void 0===t?void 0:t.last_name,role:(null===t||void 0===t?void 0:t.role)||"student",profile:t||void 0},token:n.access_token}))}catch(a){console.error("\u274c \ud504\ub85c\ud544 \ub85c\ub4dc \uc2e4\ud328:",a)}}else"SIGNED_OUT"===t?(console.log("\ud83d\udc4b \uc0ac\uc6a9\uc790 \ub85c\uadf8\uc544\uc6c3"),localStorage.removeItem("token"),localStorage.removeItem("user")):"TOKEN_REFRESHED"===t&&null!==n&&void 0!==n&&n.user&&(console.log("\ud83d\udd04 \ud1a0\ud070 \uac31\uc2e0\ub428"),e(Tl({user:r,token:n.access_token})))}));return()=>{t.unsubscribe()}}),[e]);const n=Pe(Uc(t,(null===r||void 0===r?void 0:r.role)||""));return(0,Ul.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[!1,n,t&&(0,Ul.jsx)(Dc,{})]})};o.createRoot(document.getElementById("root")).render((0,Ul.jsx)(a.StrictMode,{children:(0,Ul.jsx)(E,{store:Rl,children:(0,Ul.jsx)(Qe,{children:(0,Ul.jsx)(zc,{})})})}))})();
//# sourceMappingURL=main.71d2212e.js.map